!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(t.vegas=t.vegas||{})}(this,function(t){"use strict";function r(){Object.setPrototypeOf(arguments,Array.prototype),console.log.apply(null,arguments)}function n(t,r,n,e){n=isNaN(n)?0:n,r=Boolean(r),e||(e="    ");var a,i=[],o=t.length;for(a=0;a<o;a++)void 0!==t[a]?null!==t[a]?(r&&n++,i.push(u(t[a],r,n,e)),r&&n--):i.push("null"):i.push("undefined");if(r){var c=[];for(a=0;a<n;a++)c.push(e);var s="\n"+c.join("");return s+"["+s+e+i.join(","+s+e)+s+"]"}return"["+i.join(",")+"]"}function e(t,r){if(r=Boolean(r))return"new Date("+String(t.valueOf())+")";var n=t.getFullYear(),e=t.getMonth(),a=t.getDate(),i=t.getHours(),o=t.getMinutes(),u=t.getSeconds(),c=t.getMilliseconds(),s=[n,e,a,i,o,u,c];for(s.reverse();0===s[0];)s.splice(0,1);return s.reverse(),"new Date("+s.join(",")+")"}function a(t,r,n,e){n=isNaN(n)?0:n,r=Boolean(r),e||(e="    ");var a=[];for(var i in t)if(t.hasOwnProperty(i)){if(void 0===t[i]){a.push(i+":undefined");continue}if(null===t[i]){a.push(i+":null");continue}r&&n++,a.push(i+":"+u(t[i],r,n,e)),r&&n--}if(a=a.sort(),r){for(var o,c=[];o<n;o++)c.push(e);var s="\n"+c.join("");return s+"{"+s+e+a.join(","+s+e)+s+"}"}return"{"+a.join(",")+"}"}function i(t){for(var r=t.toString(16);r.length<4;)r="0"+r;return r}function o(t){for(var r,n='"',e="",a="",o=0,u=t.length;o<u;)if(a=t.charAt(o),r=t.charCodeAt(o),r>255)e+="\\u"+i(r),o++;else{switch(a){case"\b":e+="\\b";break;case"\t":e+="\\t";break;case"\n":e+="\\n";break;case"\v":e+="\\v";break;case"\f":e+="\\f";break;case"\r":e+="\\r";break;case'"':e+='\\"';break;case"'":e+="\\'";break;case"\\":e+="\\\\";break;default:e+=a}o++}return n+e+n}function u(t,r,i,u){return i=isNaN(i)?0:i,r=Boolean(r),u||(u="    "),void 0===t?"undefined":null===t?"null":"string"==typeof t||t instanceof String?o(t):"boolean"==typeof t||t instanceof Boolean?t?"true":"false":"number"==typeof t||t instanceof Number?t.toString():t instanceof Date?e(t):t instanceof Array?n(t,r,i,u):t.constructor&&t.constructor===Object?a(t,r,i,u):"toSource"in t?t.toSource(i):"<unknown>"}function c(t,r){var n=[];arguments.length<2&&(r=null),t=t>0?Math.abs(t):0;for(var e=0;e<t;e++)n[e]=r;return n}function s(t,r,n){r=r>0?Math.abs(r):0,n=Boolean(n);var e=t[r];return t.splice(r,1),n?t:e}function f(t,r){r=isNaN(r)?0:r,r=r>0?Math.abs(r):0;var n;if(r>0){n=[];for(var e=0;e<r;e++)n=n.concat(t)}else n=[].concat(t);return n}function h(t){for(var r=void 0,n=void 0,e=[],a=t.length,i=a-1,o=0;o<a;o++)n=Math.round(Math.random()*i),r=t[n],t.splice(n,1),e[e.length]=r,i--;for(;--a>-1;)t[a]=e[a];return t}function l(t,r,n){var e=function(t,e){function a(){("string"==typeof u||u instanceof String)&&(u=u.toLowerCase()),("string"==typeof c||c instanceof String)&&(c=c.toLowerCase())}function i(){u=Number(u),c=Number(c),u=isNaN(u)?0:u,c=isNaN(c)?0:c}function o(){var t=u;u=c,c=t}var u=void 0!==t[r]?t[r].valueOf():"",c=void 0!==e[r]?e[r].valueOf():"";switch(n){case Array.CASEINSENSITIVE:case Array.CASEINSENSITIVE|Array.RETURNINDEXEDARRAY:a();break;case Array.NUMERIC:case Array.NUMERIC|Array.RETURNINDEXEDARRAY:i();break;case Array.DESCENDING:case Array.DESCENDING|Array.RETURNINDEXEDARRAY:o();break;case Array.CASEINSENSITIVE|Array.DESCENDING:case Array.CASEINSENSITIVE|Array.DESCENDING|Array.RETURNINDEXEDARRAY:a(),o();break;case Array.NUMERIC|Array.DESCENDING:case Array.NUMERIC|Array.DESCENDING|Array.RETURNINDEXEDARRAY:i(),o();break;case Array.UNIQUESORT:if(u===c)return}return u<c?-1:u>c?1:0};switch(n){case Array.RETURNINDEXEDARRAY:case Array.RETURNINDEXEDARRAY|Array.NUMERIC:case Array.RETURNINDEXEDARRAY|Array.CASEINSENSITIVE:case Array.RETURNINDEXEDARRAY|Array.NUMERIC|Array.DESCENDING:case Array.RETURNINDEXEDARRAY|Array.CASEINSENSITIVE|Array.DESCENDING:var a=[].concat(t);a.sort(e);for(var i=[],o=t.length,u=0;u<o;u++){var c=a.indexOf(t[u]);i.push(c)}return i;default:return t.sort(e)}}function p(t,r,n,e){t.unshift(n,e);try{r.splice.apply(r,t)}finally{t.splice(0,2)}}function v(t){return t.toLowerCase().valueOf()===t.valueOf()?0:1}function y(t,r){var n=t.charAt(0),e=r.charAt(0);return v(n)<v(e)?-1:v(n)>v(e)?1:n<e?-1:n>e?1:0}function g(t){return"A"<=t&&t<="Z"||"a"<=t&&t<="z"}function N(t){return t.charCodeAt(0)<=255}function M(t){return"0"<=t&&t<="9"}function A(t){return"0"<=t&&t<="9"||"A"<=t&&t<="F"||"a"<=t&&t<="f"}function E(t){return"a"<=t&&t<="z"}function d(t){return"0"<=t&&t<="7"}function b(t){switch(t){case"*":case"/":case"%":case"+":case"-":case"«":case"»":case">":case"<":case"›":case"&":case"^":case"|":return!0;default:return!1}}function I(t){return t.charCodeAt(0)>255}function R(t){return"A"<=t&&t<="Z"}function D(t){return Math.log((1+t)/(1-t))/2}function m(t,r){if(isNaN(t))return NaN;for(var n=1,e=-1;++e<r;)n*=10;return Math.ceil(t*n)/n}function S(t,r){var n=r.x-t.x,e=r.y-t.y;return Math.sqrt(n*n+e*e)}function O(t){return isNaN(t)&&(t=0),t%=360,t<0?t+360:t}function x(t){return Math.log(t)/Math.LN10}function w(t,r){return Math.log(t)/Math.log(r)}function C(t,r){var n=t%r;return n*r<0?n+r:n}function T(t,r,n,e){var a,i,o,u,c,s,f,h,l,p=6378137,v=6356752.3142,y=1/298.257223563,g=(e-r)*yt,N=Math.atan((1-y)*Math.tan(t*yt)),M=Math.atan((1-y)*Math.tan(n*yt)),A=Math.sin(N),E=Math.cos(N),d=Math.sin(M),b=Math.cos(M),I=g,R=2*Math.PI,D=20;do{if(i=Math.sin(I),a=Math.cos(I),u=Math.sqrt(b*i*(b*i)+(E*d-A*b*a)*(E*d-A*b*a)),0===u)return 0;o=A*d+E*b*a,c=Math.atan2(u,o),s=E*b*i/u,f=1-s*s,h=o-2*A*d/f,isNaN(h)&&(h=0),l=y/16*f*(4+y*(4-3*f)),R=I,I=g+(1-l)*y*s*(c+l*u*(h+l*o*(-1+2*h*h)))}while(Math.abs(I-R)>1e-12&&--D>0);if(0===D)return NaN;var m=f*(p*p-v*v)/(v*v),S=1+m/16384*(4096+m*(-768+m*(320-175*m))),O=m/1024*(256+m*(-128+m*(74-47*m))),x=O*u*(h+O/4*(o*(-1+2*h*h)-O/6*h*(-3+4*u*u)*(-3+4*h*h))),w=v*S*(c-x);return w=Number(w.toFixed(3))}function j(t,r){r=Boolean(r===!0);var n=[];if(r)for(var e in t)t.hasOwnProperty(e)&&n.push(t[e]);else for(var a in t)t.hasOwnProperty(a)&&n.push(a);return n.length>0?n:null}function U(t,r,n){null!==n&&void 0!==n||(n=!0),null!==r&&void 0!==r||(r={});for(var e in r)e in t&&!n||(t[e]=r[e]);return t}function P(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return(t()+t()+"-"+t()+"-4"+t().substr(0,3)+"-"+t()+"-"+t()+t()+t()).toLowerCase()}function k(t){return t.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()})}function L(t){return t.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})}function Y(t,r,n){if(null===t)return"";null===n&&(n=" ");var e=t.length;if(e<=r){e=r-e;var a=e%2===0?"":n,i="",o=Math.floor(e/2);if(o>0)for(var u=0;u<o;u++)i=i.concat(n);else i=n;return i+t+i+a}return t}function q(t,r){if(r&&r instanceof Array||(r=er),null===t||""===t)return"";var n,e;for(e=t.length,n=0;n<e&&r.indexOf(t.charAt(n))>-1;n++);for(t=t.substring(n),e=t.length,n=t.length-1;n>=0&&r.indexOf(t.charAt(n))>-1;n--);return t=t.substring(0,n+1)}function B(t){return q(t.replace(/\s+/g," "))}function F(t,r){return null!==t&&""===r||!(null===t||null===r||""===t||t.length<r.length)&&t.lastIndexOf(r)===t.length-r.length}function G(t){if(null===t||""===t)return"";var r=Array.fromArguments(arguments);r.shift();var n=r.length;1===n&&r[0]instanceof Array&&(r=r[0],n=r.length);for(var e=0;e<n;e++)t=t.replace(new RegExp("\\{"+e+"\\}","g"),r[e]);return t}function H(t,r,n){if(null===t)return"";var e=r>=0,a=r>0?r:-r;if(a<t.length||0===a)return t;for(null===n?n=" ":n.length>1&&(n=n.charAt(0));t.length!==a;)e?t=n+t:t+=n;return t}function _(t){if(null===t||""===t)return"";var r=Array.fromArguments(arguments);r.shift();var n=t,e=r.length,a={};if(1===e&&r[0]instanceof Array)r=r[0];else if(r[0]instanceof Array){var i=r[0];r.shift(),r=i.concat(r)}else r[0]instanceof Object&&"[object Object]"===String(r[0])&&(a=r[0],e>1&&r.shift());for(var o,u,c,s,f=new RegExp("{([a-z0-9,:\\-]*)}","m"),h=f.exec(n),l=!1,p=0,v=[];null!==h;){if(o=h[0],u=h[1],s=u.indexOf(","),s>0&&(p=Number(u.substr(s+1)),u=u.substring(0,s)),c=u.charAt(0),"0"<=c&&c<="9")n=n.replace(o,H(String(r[u]),p));else if(""===u||u.indexOf(":")>-1)v.push(o),n=n.replace(new RegExp(o,"g"),"￼"+(v.length-1)),l=!0;else{if(!("a"<=c&&c<="z"))throw new Error('core.strings.format failed, malformed token "'+o+'", can not start with "'+c+'"');(u in a||a.hasOwnProperty(u))&&(n=n.replace(new RegExp(o,"g"),H(String(a[u]),p)))}h=f.exec(n)}if(l){var y,g=v.length;for(y=0;y<g;y++)n=n.replace(new RegExp("￼"+y,"g"),v[y])}return n}function V(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.charAt(0).toLowerCase()})}function X(t,r,n,e){if(n=isNaN(n)?0:n,n<0&&(n=0),e=isNaN(e)?-1:e>=0?e:-1,null!==r&&null!==t&&""!==t){var a,i,o=r.length;for(i=e<0||e>o-n?o-1:n+e-1,a=n;a<=i;a++)if(t.indexOf(r[a])>-1)return a}return-1}function z(t,r,n){var e="",a="";return 0===r?n+t:r===t.length?t+n:(e=t.substr(0,r),a=t.substr(r),e+n+a)}function W(t,r,n,e){var a,i;if(n=isNaN(n)?2147483647:n,e=isNaN(e)?2147483647:e,null===r||null===t||0===t.length)return-1;if(n>t.length)n=t.length;else if(n<0)return-1;var o=n-e+1;o<0&&(o=0),t=t.slice(o,n+1);var u=r.length;for(a=0;a<u;a++)if(i=t.lastIndexOf(r[a],n),i>-1)return i+o;return-1}function Z(t,r){if(null===t)return"";r=isNaN(r)?0:r,r=r>0?r:0;var n="";if(r>0)for(var e=0;e<r;e++)n=n.concat(t);else n=t;return n}function Q(t,r){return null!==t&&""===r||!(null===t||null===r||""===t||t.length<r.length)&&(t.charAt(0)===r.charAt(0)&&0===t.indexOf(r))}function J(t,r){if(r instanceof Array||(r=er),null===t||""===t)return"";var n;t.length;for(n=t.length-1;n>=0&&r.indexOf(t.charAt(n))>-1;n--);return t.substring(0,n+1)}function K(t,r){if(r&&r instanceof Array||(r=er),null===t||""===t)return"";var n,e=t.length;for(n=0;n<e&&r.indexOf(t.charAt(n))>-1;n++);return t.substring(n)}function $(t){return t.charAt(0).toUpperCase()+t.substring(1)}function tt(t){for(var r=t.split(" "),n=r.length;--n>-1;)r[n]=$(r[n]);return r.join(" ")}function rt(){}function nt(t,r,n){this.auto=Boolean(n),this.receiver=t,this.priority=r>0?Math.ceil(r):0}function et(){}function at(){}Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - ce qui est à lier ne peut être appelé");var r=Array.prototype.slice.call(arguments,1),n=this,e=function(){},a=function(){return n.apply(this instanceof e?this:t,r.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(e.prototype=this.prototype),a.prototype=new e,a}),void 0===Object.assign&&!function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(t),n=1;n<arguments.length;n++){var e=arguments[n];if(void 0!==e&&null!==e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r}}(),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}});var it=function(t,r){return t.indexOf(r)>-1};Array.CASEINSENSITIVE=1,Array.DESCENDING=2,Array.NUMERIC=16,Array.RETURNINDEXEDARRAY=8,Array.UNIQUESORT=4;var ot=180/Math.PI,ut=function(t){return Math.acos(t)*ot},ct=function(t){return Math.log(t-Math.sqrt(t*t-1))},st=function(t){return Math.log(t+Math.sqrt(t*t-1))},ft=function(t,r,n,e){return Math.atan2(e-r,n-t)*ot},ht=function(t){return Math.asin(t)*ot},lt=function(t){return Math.log(t+Math.sqrt(t*t+1))},pt=function(t,r){return Math.atan2(t,r)*ot},vt=function(t){return Math.atan(t)*ot},yt=Math.PI/180,gt=function(t,r,n,e){t*=yt,n*=yt;var a=(e-r)*yt,i=Math.sin(a)*Math.cos(n),o=Math.cos(t)*Math.sin(n)-Math.sin(t)*Math.cos(n)*Math.cos(a);return(Math.atan2(i,o)*ot+360)%360},Nt=function(t,r,n){return isNaN(t)?NaN:(isNaN(r)&&(r=t),isNaN(n)&&(n=t),Math.max(Math.min(t,n),r))},Mt=function(t,r,n){return r===n?r:(t=Nt(t,0,1),t=(Math.sin(t*Math.PI*(.2+2.5*t*t*t))*Math.pow(1-t,2.2)+t)*(1+1.2*(1-t)),r+(n-r)*t)},At=function(t){return Math.abs(Math.sin(6.28*(t+1)*(t+1))*(1-t))},Et=function(t,r){return{angle:Math.atan2(t.y,t.x)*(Boolean(r)?ot:1),radius:Math.sqrt(t.x*t.x+t.y*t.y)}},dt=function(t,r,n){var e=360,a=180,i=n-r;return i<-a?r+(e-r+n)*t:i>a?r-(e-n+r)*t:r+(n-r)*t},bt=function(t){return Math.cos(t*yt)},It=function(t,r,n){return r===n?r:(t=1-Math.cos(t*Math.PI*.5),(1-t)*r+t*n)},Rt=function(t){return(Math.exp(t)+Math.exp(-t))/2},Dt=function(t){return t*yt},mt=function(t,r,n,e){var a=n-t,i=e-r;return Math.sqrt(a*a+i*i)},St=6371e3,Ot=1e-9,xt=function(t){for(var r,n,e=1,a=1;a<=t;a++)r=e+n,e=n,n=r;return n},wt=function(t,r,n,e){t*=yt,n*=yt;var a=(e-r)*yt,i=Math.sin(a)*Math.cos(n),o=Math.cos(t)*Math.sin(n)-Math.sin(t)*Math.cos(n)*Math.cos(a);return(Math.atan2(i,o)*ot+180)%360},Ct=function(t,r){if(isNaN(t))return NaN;for(var n=1,e=-1;++e<r;)n*=10;return Math.floor(t*n)/n},Tt=function(t,r){if(0===r)return t;if(t===r)return t;for(var n;0!==r;)n=r,r=t%r,t=n;return t},jt=function(t,r,n,e,a){isNaN(a)&&(a=St);var i=(n-t)*yt,o=(e-r)*yt,u=Math.sin(.5*i)*Math.sin(.5*i)+Math.cos(t*yt)*Math.cos(n*yt)*Math.sin(o/2)*Math.sin(o/2),c=Number((2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))*a).toFixed(3));return c===c?c:0},Ut=function(t,r,n){return r===n?r:(t*=t*(3-2*t),(1-t)*r+t*n)},Pt=function(t,r){return Math.sqrt(t*t+r*r)},kt=function(t,r,n){return r+(n-r)*t},Lt=function(t){return t%2===0},Yt=function(t){return t%2!==0},qt=.57721566490143,Bt=function(t,r,n){return r===n?r:(1-t)*r+t*n},Ft=function(t,r,n){return(t-r)/(n-r)},Gt=function(t,r,n,e,a){return kt(Ft(t,r,n),e,a)},Ht=function(t,r,n,e){var a=(e-r)*yt;t*=yt,r*=yt,n*=yt;var i=Math.cos(n)*Math.cos(a),o=Math.cos(n)*Math.sin(a),u={x:Math.atan2(Math.sin(t)+Math.sin(n),Math.sqrt((Math.cos(t)+i)*(Math.cos(t)+i)+o*o))*ot,y:(r+Math.atan2(o,Math.cos(t)+i))*ot};return u},_t=1609,Vt=function(t,r,n){return isNaN(n)&&(n=1e-6),Math.abs(t-r)<=n},Xt=function(t,r){var n=t/r*100;return isNaN(n)||!isFinite(n)?NaN:n},zt=1.61803398874989,Wt=function(t,r){var n=t.angle,e=t.radius;return r&&(n*=yt),{x:e*Math.cos(n),y:e*Math.sin(n)}},Zt=function(t,r){return isNaN(r)&&(r=0),isNaN(t)?r:t},Qt=function(t,r){if(isNaN(t))return NaN;for(var n=1,e=-1;++e<r;)n*=10;return Math.round(t*n)/n},Jt=function(t){if(isNaN(t))throw new Error("sign failed, the passed-in value not must be NaN.");return t<0?-1:1},Kt=function(t){return Math.sin(t*yt)},$t=function(t,r,n){return r===n?r:(t=Math.sin(t*Math.PI*.5),(1-t)*r+t*n)},tr=function(t){return.5*(Math.exp(t)-Math.exp(-t))},rr=function(t){return Math.tan(t*yt)},nr=function(t){return tr(t)/Rt(t)},er=["\t","\n","\v","\f","\r"," "," "," ","᠎"," "," "," "," "," "," "," "," "," "," "," ","​","\u2028","\u2029"," "," ","　"],ar=["\n","\r","\u2028","⤩"],ir=Object.assign({dump:u,arrays:{contains:it,initialize:c,pierce:s,repeat:f,shuffle:h,sortOn:l,spliceInto:p},chars:{compare:y,isAlpha:g,isASCII:N,isDigit:M,isHexDigit:A,isLower:E,isOctalDigit:d,isOperator:b,isUnicode:I,isUpper:R},maths:{acosD:ut,acosHm:ct,acosHp:st,angleOfLine:ft,asinD:ht,asinH:lt,atan2D:pt,atanD:vt,atanH:D,bearing:gt,berp:Mt,bounce:At,cartesianToPolar:Et,ceil:m,clamp:Nt,clerp:dt,cosD:bt,coserp:It,cosH:Rt,DEG2RAD:yt,degreesToRadians:Dt,distance:mt,distanceByObject:S,EARTH_RADIUS_IN_METERS:St,EPSILON:Ot,fibonacci:xt,finalBearing:wt,fixAngle:O,floor:Ct,gcd:Tt,haversine:jt,hermite:Ut,hypothenuse:Pt,interpolate:kt,isEven:Lt,isOdd:Yt,LAMBDA:qt,lerp:Bt,log10:x,logN:w,map:Gt,midPoint:Ht,MILE_TO_METER:_t,modulo:C,nearlyEquals:Vt,normalize:Ft,percentage:Xt,PHI:zt,polarToCartesian:Wt,RAD2DEG:ot,replaceNaN:Zt,round:Qt,sign:Jt,sinD:Kt,sinerp:$t,sinH:tr,tanD:rr,tanH:nr,vincenty:T},numbers:{toUnicodeNotation:i},objects:{members:j,merge:U},random:{generateUUID:P},strings:{camelCase:k,capitalize:L,caseValue:v,center:Y,clean:B,endsWith:F,fastformat:G,format:_,hyphenate:V,indexOfAny:X,insert:z,lastIndexOfAny:W,lineTerminatorChars:ar,pad:H,repeat:Z,startsWith:Q,trim:q,trimEnd:J,trimStart:K,ucFirst:$,ucWords:tt,whiteSpaceChars:er}}),or={INVALID_PARAMETER_TYPE:"The parameter with the index {0} in the emit method is not valid.",INVALID_PARAMETERS_LENGTH:"The number of arguments in the emit method is not valid, must be invoked with {0} argument(s) and you call it with {1} argument(s).",INVALID_TYPES:'Invalid types representation, the Array of types failed at index {0} should be a constructor function but was:"{1}".'};rt.prototype=Object.create(Object.prototype),rt.prototype.constructor=rt,rt.prototype.receive=function(){},nt.prototype=Object.create(Object.prototype),nt.prototype.constructor=nt,nt.prototype.auto=!1,nt.prototype.priority=0,nt.prototype.receiver=null,nt.prototype.toString=function(){return"[SignalEntry receiver:"+this.receiver+" priority:"+this.priority+" auto:"+this.auto+"]"},et.prototype=Object.create(Object.prototype,{length:{get:function(){return 0}}}),et.prototype.constructor=et,et.prototype.connect=function(t,r,n){},et.prototype.connected=function(){},et.prototype.disconnect=function(t){},et.prototype.emit=function(){},et.prototype.getLength=function(){},et.prototype.hasReceiver=function(t){},at.prototype=Object.create(et.prototype,{length:{enumerable:!1,configurable:!0,get:function(){return this.receivers.length}},proxy:{enumerable:!1,configurable:!0,writable:!0,value:null},receivers:{enumerable:!1,configurable:!0,writable:!0,value:[]}}),at.prototype.constructor=at,at.prototype.connect=function(t,r,n){if(null===t)return!1;if(n=Boolean(n),r=r>0?Math.ceil(r):0,"function"==typeof t||t instanceof Function||t instanceof rt||"receive"in t){if(this.hasReceiver(t))return!1;this.receivers.push(new nt(t,r,n));var e,a,i=this.receivers,o=function(t,r){var n=i[t];return i[t]=i[r],i[r]=n,!0},u=!1,c=i.length;for(e=1;e<c;e++){for(a=0;a<c-e;a++)i[a+1].priority>i[a].priority&&(u=o(a,a+1));if(!u)break}return!0}return!1},at.prototype.connected=function(){return this.receivers.length>0},at.prototype.disconnect=function(t){if(null===t)return this.receivers.length>0&&(this.receivers=[],!0);if(this.receivers.length>0)for(var r=this.receivers.length;--r>-1;)if(this.receivers[r].receiver===t)return this.receivers.splice(r,1),!0;return!1},at.prototype.emit=function(){var t=Object.setPrototypeOf(arguments,Array.prototype);if(0!==this.receivers.length){var r,n,e,a=this.receivers.length,i=[],o=this.receivers.slice();for(r=0;r<a;r++)n=o[r],n.auto&&i.push(n);if(i.length>0)for(a=i.length;--a>-1;)r=this.receivers.indexOf(i[a]),r>-1&&this.receivers.splice(r,1);for(a=o.length,r=0;r<a;r++)e=o[r].receiver,e instanceof Function||"function"==typeof receiver?e.apply(this.proxy||this,t):(e instanceof rt||"receive"in e)&&e.receive.apply(this.proxy||e,t)}},at.prototype.hasReceiver=function(t){if(null===t)return!1;if(this.receivers.length>0)for(var r=this.receivers.length;--r>-1;)if(this.receivers[r].receiver===t)return!0;return!1},at.prototype.toArray=function(){var t=[];if(this.receivers.length>0)for(var r=this.receivers.length,n=0;n<r;n++)t.push(this.receivers[n].receiver);return t},at.prototype.toString=function(){return"[Signal]"};var ur=Object.assign({signals:{strings:or,Receiver:rt,SignalEntry:nt,Signaler:et,Signal:at}});t.trace=r,t.core=ir,t.system=ur,Object.defineProperty(t,"__esModule",{value:!0})});