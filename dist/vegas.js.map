{"version":3,"file":"vegas.js","sources":["../src/core/hello.js","../src/core/strings/ucFirst.js","../src/polyfill/Date.js","../src/polyfill/Function.js","../src/polyfill/Math.js","../src/polyfill/Object.js","../src/core/global.js","../src/polyfill/performance.js","../src/polyfill/requestAnimationFrame.js","../src/polyfill/Uint32Array.js","../src/core/trace.js","../src/core/dumpArray.js","../src/core/dumpDate.js","../src/core/dumpObject.js","../src/core/numbers/toUnicodeNotation.js","../src/core/dumpString.js","../src/core/dump.js","../src/core/isBoolean.js","../src/core/isFloat.js","../src/core/isInt.js","../src/core/isNumber.js","../src/core/isUint.js","../src/core/isString.js","../src/core/arrays/contains.js","../src/core/arrays/initialize.js","../src/core/arrays/pierce.js","../src/core/arrays/repeat.js","../src/core/arrays/rotate.js","../src/core/arrays/shuffle.js","../src/core/arrays/sortOn.js","../src/core/arrays/spliceInto.js","../src/core/arrays/swap.js","../src/core/arrays.js","../src/core/chars/compare.js","../src/core/chars/isAlpha.js","../src/core/chars/isAlphaOrDigit.js","../src/core/chars/isASCII.js","../src/core/chars/isContained.js","../src/core/chars/isDigit.js","../src/core/chars/isHexDigit.js","../src/core/chars/isIdentifierStart.js","../src/core/chars/lineTerminators.js","../src/core/chars/isLineTerminator.js","../src/core/chars/isLower.js","../src/core/chars/isOctalDigit.js","../src/core/chars/operators.js","../src/core/chars/isOperator.js","../src/core/chars/symbols.js","../src/core/chars/isSymbol.js","../src/core/chars/isUnicode.js","../src/core/chars/isUpper.js","../src/core/chars/whiteSpaces.js","../src/core/chars/isWhiteSpace.js","../src/core/chars.js","../src/core/colors/distance.js","../src/core/colors/equals.js","../src/core/colors/fade.js","../src/core/maths/littleEndian.js","../src/core/colors/fromARGB.js","../src/core/colors/getAlpha.js","../src/core/colors/getBlue.js","../src/core/colors/getGreen.js","../src/core/colors/getRed.js","../src/core/colors/isUnique.js","../src/core/colors/toHex.js","../src/core/colors/uniques.js","../src/core/colors.js","../src/core/date/ONE_DAY_MS.js","../src/core/date/after.js","../src/core/date/before.js","../src/core/date/daysInMonth.js","../src/core/date/leapYear.js","../src/core/date/yesterday.js","../src/core/date.js","../src/core/dom/isDOMElement.js","../src/core/dom/isDOMObject.js","../src/core/dom/isElement.js","../src/core/dom/isHTMLElement.js","../src/core/dom/isListObject.js","../src/core/dom/isSVGElement.js","../src/core/dom.js","../src/core/easings/backIn.js","../src/core/easings/backInOut.js","../src/core/easings/backOut.js","../src/core/easings/bounceOut.js","../src/core/easings/bounceIn.js","../src/core/easings/bounceInOut.js","../src/core/easings/circularIn.js","../src/core/easings/circularInOut.js","../src/core/easings/circularOut.js","../src/core/easings/cubicIn.js","../src/core/easings/cubicInOut.js","../src/core/easings/cubicOut.js","../src/core/easings/elasticIn.js","../src/core/easings/elasticInOut.js","../src/core/easings/elasticOut.js","../src/core/easings/expoIn.js","../src/core/easings/expoInOut.js","../src/core/easings/expoOut.js","../src/core/easings/linear.js","../src/core/easings/quarticIn.js","../src/core/easings/quarticInOut.js","../src/core/easings/quarticOut.js","../src/core/easings/quinticIn.js","../src/core/easings/quinticInOut.js","../src/core/easings/quinticOut.js","../src/core/easings/regularIn.js","../src/core/easings/regularInOut.js","../src/core/easings/regularOut.js","../src/core/easings/sineIn.js","../src/core/easings/sineInOut.js","../src/core/easings/sineOut.js","../src/core/easings.js","../src/core/functors/aop.js","../src/core/functors.js","../src/core/maths/RAD2DEG.js","../src/core/maths/acosD.js","../src/core/maths/acosHm.js","../src/core/maths/acosHp.js","../src/core/maths/angleOfLine.js","../src/core/maths/asinD.js","../src/core/maths/asinH.js","../src/core/maths/atan2D.js","../src/core/maths/atanD.js","../src/core/maths/atanH.js","../src/core/maths/DEG2RAD.js","../src/core/maths/bearing.js","../src/core/maths/clamp.js","../src/core/maths/berp.js","../src/core/maths/bounce.js","../src/core/maths/cartesianToPolar.js","../src/core/maths/ceil.js","../src/core/maths/clerp.js","../src/core/maths/cosD.js","../src/core/maths/coserp.js","../src/core/maths/cosH.js","../src/core/maths/degreesToRadians.js","../src/core/maths/distance.js","../src/core/maths/distanceByObject.js","../src/core/maths/EARTH_RADIUS_IN_METERS.js","../src/core/maths/EPSILON.js","../src/core/maths/factorial.js","../src/core/maths/fibonacci.js","../src/core/maths/finalBearing.js","../src/core/maths/fixAngle.js","../src/core/maths/floor.js","../src/core/maths/gcd.js","../src/core/maths/haversine.js","../src/core/maths/hermite.js","../src/core/maths/hypothenuse.js","../src/core/maths/interpolate.js","../src/core/maths/isEven.js","../src/core/maths/isOdd.js","../src/core/maths/LAMBDA.js","../src/core/maths/lerp.js","../src/core/maths/log10.js","../src/core/maths/logN.js","../src/core/maths/normalize.js","../src/core/maths/map.js","../src/core/maths/midPoint.js","../src/core/maths/MILE_TO_METER.js","../src/core/maths/modulo.js","../src/core/maths/nearlyEquals.js","../src/core/maths/percentage.js","../src/core/maths/PHI.js","../src/core/maths/PI2.js","../src/core/maths/polarToCartesian.js","../src/core/maths/replaceNaN.js","../src/core/maths/round.js","../src/core/maths/sign.js","../src/core/maths/sinD.js","../src/core/maths/sinerp.js","../src/core/maths/sinH.js","../src/core/maths/tanD.js","../src/core/maths/tanH.js","../src/core/maths/vincenty.js","../src/core/maths/wrap.js","../src/core/maths.js","../src/core/numbers/toInt.js","../src/core/numbers/toUint.js","../src/core/numbers.js","../src/core/objects/forEach.js","../src/core/objects/fuse.js","../src/core/objects/members.js","../src/core/objects/merge.js","../src/core/objects.js","../src/core/random/generateUUID.js","../src/core/random.js","../src/core/reflect/getDefinitionByName.js","../src/core/reflect/invoke.js","../src/core/reflect.js","../src/core/strings/between.js","../src/core/strings/camelCase.js","../src/core/strings/capitalize.js","../src/core/strings/center.js","../src/core/strings/trim.js","../src/core/strings/clean.js","../src/core/strings/compare.js","../src/core/strings/endsWith.js","../src/core/strings/fastformat.js","../src/core/strings/fastformatDate.js","../src/core/strings/pad.js","../src/core/strings/format.js","../src/core/strings/hyphenate.js","../src/core/strings/indexOfAny.js","../src/core/strings/insert.js","../src/core/strings/lastIndexOfAny.js","../src/core/strings/repeat.js","../src/core/strings/startsWith.js","../src/core/strings/trimEnd.js","../src/core/strings/trimStart.js","../src/core/strings/truncate.js","../src/core/strings/ucWords.js","../src/core/strings/versionUUID.js","../src/core/strings/validateUUID.js","../src/core/strings.js","../src/core.js","../src/system/Enum.js","../src/system/Equatable.js","../src/system/Evaluable.js","../src/system/Formattable.js","../src/system/data/Identifiable.js","../src/system/data/Iterator.js","../src/system/data/OrderedIterator.js","../src/system/data/Validator.js","../src/system/data/KeyValuePair.js","../src/system/data/Property.js","../src/system/data/Attribute.js","../src/system/data/Method.js","../src/system/data/ValueObject.js","../src/system/data/iterators/ArrayIterator.js","../src/system/data/iterators/MapIterator.js","../src/system/data/maps/MapEntry.js","../src/system/data/maps/MapFormatter.js","../src/system/data/maps/ArrayMap.js","../src/system/data.js","../src/system/errors/ConcurrencyError.js","../src/system/errors/InvalidChannelError.js","../src/system/errors/InvalidFilterError.js","../src/system/errors/NonUniqueKeyError.js","../src/system/errors/NoSuchElementError.js","../src/system/errors.js","../src/system/evaluators/MultiEvaluator.js","../src/system/evaluators/PropertyEvaluator.js","../src/system/numeric/RomanNumber.js","../src/system/evaluators/RomanEvaluator.js","../src/system/evaluators.js","../src/system/events/Event.js","../src/system/events/EventListener.js","../src/system/events/EventPhase.js","../src/system/events/IEventDispatcher.js","../src/system/events/EventDispatcher.js","../src/system/events.js","../src/system/formatters/ExpressionFormatter.js","../src/system/formatters.js","../src/system/signals/Receiver.js","../src/system/signals/Signaler.js","../src/system/signals/SignalEntry.js","../src/system/signals/Signal.js","../src/system/logging/LoggerLevel.js","../src/system/logging/LoggerEntry.js","../src/system/logging/Logger.js","../src/system/logging/strings.js","../src/system/logging/LoggerTarget.js","../src/system/logging/LoggerFactory.js","../src/system/logging/Log.js","../src/system/ioc/logger.js","../src/system/ioc/MagicReference.js","../src/system/ioc/ObjectAttribute.js","../src/system/ioc/ObjectArgument.js","../src/system/ioc/evaluators/ConfigEvaluator.js","../src/system/ioc/evaluators/LocaleEvaluator.js","../src/system/process/Lockable.js","../src/system/ioc/builders/createArguments.js","../src/system/ioc/ObjectOrder.js","../src/system/ioc/ObjectListener.js","../src/system/ioc/builders/createListeners.js","../src/system/ioc/ObjectStrategy.js","../src/system/ioc/ObjectProperty.js","../src/system/ioc/builders/createProperties.js","../src/system/ioc/ObjectReceiver.js","../src/system/ioc/builders/createReceivers.js","../src/system/ioc/ObjectStrategies.js","../src/system/ioc/ObjectMethod.js","../src/system/ioc/strategies/ObjectFactoryMethod.js","../src/system/ioc/strategies/ObjectFactoryProperty.js","../src/system/ioc/strategies/ObjectReference.js","../src/system/ioc/strategies/ObjectStaticFactoryMethod.js","../src/system/ioc/strategies/ObjectStaticFactoryProperty.js","../src/system/ioc/strategies/ObjectValue.js","../src/system/ioc/builders/createStrategy.js","../src/system/ioc/ObjectScope.js","../src/system/ioc/ObjectDefinition.js","../src/system/ioc/builders/createObjectDefinition.js","../src/system/process/Runnable.js","../src/system/process/TaskPhase.js","../src/system/process/Action.js","../src/system/process/Task.js","../src/system/ioc/ObjectDefinitionContainer.js","../src/system/ioc/ObjectFactory.js","../src/system/ioc/evaluators/ReferenceEvaluator.js","../src/system/ioc/TypePolicy.js","../src/system/ioc/evaluators/TypeEvaluator.js","../src/system/ioc/ObjectConfig.js","../src/system/ioc/Parameters.js","../src/system/ioc.js","../src/system/logging/Loggable.js","../src/system/logging/targets/LineFormattedTarget.js","../src/system/logging/targets/ConsoleTarget.js","../src/system/logging/targets/TraceTarget.js","../src/system/logging.js","../src/system/rules/Rule.js","../src/system/rules/BooleanRule.js","../src/system/logics/ElseIf.js","../src/system/rules/EmptyString.js","../src/system/logics/ElseIfEmptyString.js","../src/system/rules/Equals.js","../src/system/logics/ElseIfEquals.js","../src/system/rules/False.js","../src/system/logics/ElseIfFalse.js","../src/system/rules/Null.js","../src/system/logics/ElseIfNull.js","../src/system/rules/True.js","../src/system/logics/ElseIfTrue.js","../src/system/rules/Undefined.js","../src/system/logics/ElseIfUndefined.js","../src/system/rules/Zero.js","../src/system/logics/ElseIfZero.js","../src/system/logics/IfTask.js","../src/system/logics/IfEmptyString.js","../src/system/logics/IfEquals.js","../src/system/logics/IfFalse.js","../src/system/logics/IfNull.js","../src/system/logics/IfTrue.js","../src/system/logics/IfUndefined.js","../src/system/logics/IfZero.js","../src/system/logics.js","../src/system/models/Model.js","../src/system/models/ChangeModel.js","../src/system/models/MemoryModel.js","../src/system/models/arrays/ArrayModel.js","../src/system/models/maps/MapModel.js","../src/system/models/maps/InitMapModel.js","../src/system/models.js","../src/system/numeric/PRNG.js","../src/system/numeric/Range.js","../src/system/numeric.js","../src/system/process/ActionEntry.js","../src/system/process/Apply.js","../src/system/process/Batch.js","../src/system/process/TaskGroup.js","../src/system/process/BatchTaskNext.js","../src/system/process/BatchTask.js","../src/system/process/Cache.js","../src/system/process/Call.js","../src/system/process/ChainNext.js","../src/system/process/Chain.js","../src/system/process/Do.js","../src/system/process/FrameTimer.js","../src/system/process/Lock.js","../src/system/process/Priority.js","../src/system/process/Resetable.js","../src/system/process/Resumable.js","../src/system/process/Startable.js","../src/system/process/Stoppable.js","../src/system/process/TimeoutPolicy.js","../src/system/process/Timer.js","../src/system/process/Unlock.js","../src/system/process.js","../src/system/rules/And.js","../src/system/rules/DivBy.js","../src/system/rules/Even.js","../src/system/rules/GreaterOrEqualsThan.js","../src/system/rules/GreaterThan.js","../src/system/rules/IsBoolean.js","../src/system/rules/IsNaN.js","../src/system/rules/IsNumber.js","../src/system/rules/IsString.js","../src/system/rules/LessOrEqualsThan.js","../src/system/rules/LessThan.js","../src/system/rules/Not.js","../src/system/rules/NotEquals.js","../src/system/rules/Odd.js","../src/system/rules/Or.js","../src/system/rules.js","../src/system/signals.js","../src/system/transitions/MotionNextFrame.js","../src/system/transitions/Transition.js","../src/system/transitions/Motion.js","../src/system/transitions/TweenUnit.js","../src/system/transitions/Tween.js","../src/system/transitions.js","../src/system.js","../src/graphics/Directionable.js","../src/graphics/Align.js","../src/graphics/ArcType.js","../src/graphics/Border.js","../src/graphics/CardinalDirection.js","../src/graphics/Corner.js","../src/graphics/Direction.js","../src/graphics/DirectionOrder.js","../src/graphics/FillStyle.js","../src/graphics/isMeasurable.js","../src/graphics/LayoutBufferMode.js","../src/graphics/geom/Dimension.js","../src/graphics/geom/Vector2D.js","../src/graphics/geom/Point.js","../src/graphics/geom/Rectangle.js","../src/graphics/Layout.js","../src/graphics/LayoutEntry.js","../src/graphics/LineStyle.js","../src/graphics/Orientation.js","../src/graphics/Position.js","../src/graphics/ZOrder.js","../src/graphics/colors/RGB.js","../src/graphics/colors/RGBA.js","../src/graphics/colors.js","../src/graphics/display/StageAspectRatio.js","../src/graphics/display/StageDisplayState.js","../src/graphics/display/StageOrientation.js","../src/graphics/display/Stage.js","../src/graphics/display.js","../src/graphics/geom/AspectRatio.js","../src/graphics/geom/Circle.js","../src/graphics/geom/ColorTransform.js","../src/graphics/geom/EdgeMetrics.js","../src/graphics/geom/Ellipse.js","../src/graphics/geom/Matrix.js","../src/graphics/geom/Polygon.js","../src/graphics/geom/Vector3D.js","../src/graphics/geom.js","../src/graphics.js","../src/screens/Device.js","../src/screens/Os.js","../src/screens/Browser.js","../src/screens/sensors/Accelerometer.js","../src/screens/sensors.js","../src/screens.js","../src/vegas.js"],"sourcesContent":["\"use strict\" ;\n\nexport var skip = false ;\n\n/**\n * Logs out the version and renderer information for this running instance of VEGAS JS.\n * If you don't want to see this message you can run `vegas.skipHello()` before creating your application.\n * @name sayHello\n * @function\n * @param {string} name - The name of the library.\n * @param {string} version - The version of the library.\n * @param {string} link - The url link of the library.\n * @global\n * @example\n * <!doctype html>\n * <html>\n *   <head>\n *      <meta charset=\"UTF-8\">\n *      <title>Test VEGAS</title>\n *   </head>\n *   <body>\n *     <script src=\"./js/vegas.js\"></script>\n *     <script>\n *     if( !vegas )\n *     {\n *         throw new Error(\"The VEGAS library is not found.\") ;\n *     }\n *     // vegas.skipHello() ; // skip the library hello message\n *     window.onload = function()\n *     {\n *         vegas.trace( vegas.core.dump( vegas.metas ) ) ;\n *     }\n *     </script>\n *   </body>\n * </html>\n */\nexport function sayHello( name = '' , version = '' , link = '' )\n{\n    if( skip )\n    {\n        return ;\n    }\n    try\n    {\n        if ( navigator && navigator.userAgent && navigator.userAgent.toLowerCase().indexOf('chrome') > -1)\n        {\n            const args = [\n                `\\n %c %c %c ${name} ${version} %c %c ${link} %c %c\\n\\n`,\n                'background: #ff0000; padding:5px 0;',\n                'background: #AA0000; padding:5px 0;',\n                'color: #F7FF3C; background: #000000; padding:5px 0;',\n                'background: #AA0000; padding:5px 0;',\n                'color: #F7FF3C; background: #ff0000; padding:5px 0;',\n                'background: #AA0000; padding:5px 0;',\n                'background: #ff0000; padding:5px 0;',\n            ];\n\n            window.console.log.apply( console , args );\n        }\n        else if (window.console)\n        {\n            window.console.log(`${name} ${version} - ${link}`);\n        }\n    }\n    catch( error )\n    {\n        // do nothing\n    }\n}\n\n/**\n * Skips the default 'sayHello()' invokation at runtime.\n * @name skipHello\n * @function\n * @global\n * @example\n * <!doctype html>\n * <html>\n *   <head>\n *      <meta charset=\"UTF-8\">\n *      <title>Test VEGAS</title>\n *   </head>\n *   <body>\n *     <script src=\"./js/vegas.js\"></script>\n *     <script>\n *     if( !vegas )\n *     {\n *         throw new Error(\"The VEGAS library is not found.\") ;\n *     }\n *     vegas.skipHello() ; // skip the library hello message\n *     window.onload = function()\n *     {\n *         vegas.trace( vegas.core.dump( vegas.metas ) ) ;\n *     }\n *     </script>\n *   </body>\n * </html>\n */\nexport function skipHello()\n{\n    skip = true ;\n}","\"use strict\" ;\n\n/**\n * Capitalize the first letter of a string.\n * @name ucFirst\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to transform.\n * @return The capitalized first expression.\n * @example\n * trace( ucFirst(\"hello world\")) ; // Hello world\n */\nexport function ucFirst( str )\n{\n    if( !(str instanceof String || typeof(str) === 'string' ) || str === \"\" )\n    {\n        return '' ;\n    }\n    return str.charAt(0).toUpperCase() + str.substring(1) ;\n}","/* jshint -W079 */\n\"use strict\" ;\n\nif (!(Date.now && Date.prototype.getTime))\n{\n    Date.now = function now()\n    {\n        return new Date().getTime();\n    };\n}","/*jshint laxbreak: true*/\n/*jshint freeze: false*/\n\"use strict\" ;\n\nif ( !Function.prototype.bind )\n{\n    Function.prototype.bind = function (oThis)\n    {\n        if (typeof this !== \"function\")\n        {\n            throw new TypeError( 'Function.prototype.bind called on incompatible ' + this );\n        }\n\n        var  aArgs = Array.prototype.slice.call(arguments, 1),\n           fToBind = this,\n              fNOP = function () {},\n            fBound = function ()\n            {\n                return fToBind.apply\n                (\n                    this instanceof fNOP ? this : oThis ,\n                    aArgs.concat(Array.prototype.slice.call(arguments))\n                );\n             };\n\n        if ( this.prototype )\n        {\n            fNOP.prototype = this.prototype;\n        }\n\n        fBound.prototype = new fNOP();\n\n        return fBound;\n  };\n}\n\nif ( Function.prototype.name === undefined )\n{\n    // Missing in IE9-11.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n    Object.defineProperty( Function.prototype, 'name',\n    {\n        get : function ()\n        {\n            return this.toString().match( /^\\s*function\\s*(\\S*)\\s*\\(/ )[ 1 ];\n        }\n    } );\n}","\"use strict\" ;\n\nif ( Math.sign === undefined )\n{\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n    Math.sign = function ( x )\n    {\n        return ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n    };\n}","\"use strict\" ;\n\nif ( Object.assign === undefined )\n{\n    // Missing in IE.\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    ( function () {\n\n        Object.assign = function ( target )\n        {\n            if ( target === undefined || target === null )\n            {\n                throw new TypeError( 'Cannot convert undefined or null to object' );\n            }\n\n            var output = Object( target );\n\n            for ( var index = 1; index < arguments.length; index ++ )\n            {\n                var source = arguments[ index ];\n                if ( source !== undefined && source !== null )\n                {\n                    for ( var nextKey in source )\n                    {\n                        if ( Object.prototype.hasOwnProperty.call( source, nextKey ) )\n                        {\n                            output[ nextKey ] = source[ nextKey ];\n                        }\n                    }\n                }\n            }\n            return output;\n        };\n    } )();\n}","\"use strict\" ;\n\n/**\n * The <code>global</code> namespace (reference to the global scope of the application), this object can target the <code>window</code> or the <code>document</code> global objects in the browser or an other global reference.\n * @name global\n * @memberof core\n * @const\n * @instance\n */\nvar global = global || null ;\n\nif( !global )\n{\n    try\n    {\n        global = window ;\n    }\n    catch( e )\n    {\n\n    }\n}\n\nif( !global )\n{\n    try\n    {\n        global = document ;\n    }\n    catch( e )\n    {\n\n    }\n}\n\nif( !global )\n{\n    global = {} ;\n}\n\nexport { global } ;","/* jshint -W079 */\n\"use strict\" ;\n\nimport './Date.js' ;\n\nimport { global } from '../core/global.js' ;\n\nexport var performance = global.performance || {} ;\n\nObject.defineProperty( global, 'performance', { value : performance , configurable : true , writable : true } ) ;\n\nperformance.now = performance.now       ||\n                  performance.mozNow    ||\n                  performance.msNow     ||\n                  performance.oNow      ||\n                  performance.webkitNow ;\n\nif ( !(global.performance && global.performance.now) )\n{\n    const startTime = Date.now();\n    global.performance.now = () => Date.now() - startTime ;\n}\n","/* jshint -W079 */\n\"use strict\" ;\n\nimport { global }      from '../core/global.js' ;\nimport { performance } from './performance.js' ;\n\nconst ONE_FRAME_TIME = 16;\n\nlet lastTime = Date.now();\n\nconst vendors = ['ms', 'moz', 'webkit', 'o'] ;\n\nlet len = vendors.length ;\nfor ( let x = 0 ; x < len && !global.requestAnimationFrame ; ++x )\n{\n    const p = vendors[x];\n\n    global.requestAnimationFrame = global[`${p}RequestAnimationFrame`];\n    global.cancelAnimationFrame  = global[`${p}CancelAnimationFrame`] || global[`${p}CancelRequestAnimationFrame`];\n}\n\nif (!global.requestAnimationFrame)\n{\n    global.requestAnimationFrame = ( callback ) =>\n    {\n        if ( typeof callback !== 'function' )\n        {\n            throw new TypeError(`${callback}is not a function`) ;\n        }\n\n        const currentTime = Date.now();\n\n        let delay = ONE_FRAME_TIME + lastTime - currentTime;\n\n        if ( delay < 0 )\n        {\n            delay = 0;\n        }\n\n        lastTime = currentTime;\n\n        return setTimeout(() =>\n        {\n            lastTime = Date.now();\n            callback( performance.now() );\n        }, delay);\n    };\n}\n\nif (!global.cancelAnimationFrame)\n{\n    global.cancelAnimationFrame = (id) => clearTimeout(id);\n}\n\nexport var cancelAnimationFrame  = global.cancelAnimationFrame ;\nexport var requestAnimationFrame = global.requestAnimationFrame ;","\"use strict\" ;\n\nimport { global } from '../core/global.js' ;\n\n/**\n * Low-budget Float32Array knock-off, suitable for use with P2.js in IE9\n * Source: http://www.html5gamedevs.com/topic/5988-phaser-12-ie9/\n * Cameron Foale (http://www.kibibu.com)\n */\nif ( global && typeof( global.Uint32Array ) !== \"function\" && typeof(global.Uint32Array) !== \"object\")\n{\n    var CheapArray = function(type)\n    {\n        var proto = [] ; // jshint ignore:line\n\n        global[type] = function( arg )\n        {\n            var i ;\n\n            if (typeof(arg) === \"number\")\n            {\n                Array.call(this, arg);\n\n                this.length = arg;\n\n                for ( i = 0 ; i < this.length; i++)\n                {\n                    this[i] = 0;\n                }\n            }\n            else\n            {\n                Array.call( this , arg.length );\n\n                this.length = arg.length;\n\n                for ( i = 0; i < this.length ; i++ )\n                {\n                    this[i] = arg[i];\n                }\n            }\n        };\n\n        global[type].prototype = proto;\n        global[type].constructor = global[type];\n    };\n\n    CheapArray('Float32Array'); // jshint ignore:line\n    CheapArray('Uint32Array'); // jshint ignore:line\n    CheapArray('Uint16Array'); // jshint ignore:line\n    CheapArray('Int16Array'); // jshint ignore:line\n    CheapArray('ArrayBuffer'); // jshint ignore:line\n}","'use strict' ;\n\n/**\n * A basic <code>trace()</code> function based on the console.log method.\n * @name trace\n * @function\n * @example\n * trace( 'hello world' ) ;\n */\nexport function trace( context )\n{\n    if( console )\n    {\n        console.log( context ) ;\n    }\n}","\"use strict\" ;\r\n\r\nimport { dump } from './dump.js' ;\r\n\r\n/**\r\n * Dumps a string representation of any Array reference.\r\n * @name dumpArray\r\n * @memberof core\r\n * @function\r\n * @instance\r\n * @param {Array} value - The Array to dump.\r\n * @param {boolean} [prettyprint=false] boolean option to output a pretty printed string\r\n * @param {number} [indent=0] initial indentation\r\n * @param {string} [indentor=    ] initial string used for the indent.\r\n * @return The dump string representation of any Array reference.\r\n */\r\nexport function dumpArray( value  , prettyprint = false , indent = 0 , indentor = \"    \" )\r\n{\r\n    indent = isNaN(indent) ? 0 : indent ;\r\n    prettyprint = Boolean( prettyprint ) ;\r\n\r\n    if( !indentor )\r\n    {\r\n        indentor = \"    \" ;\r\n    }\r\n\r\n    var source  = [];\r\n\r\n    var i  ;\r\n    var l  = value.length ;\r\n\r\n    for( i = 0 ; i < l ; i++ )\r\n    {\r\n        if( value[i] === undefined )\r\n        {\r\n            source.push( \"undefined\" );\r\n            continue;\r\n        }\r\n        if( value[i] === null )\r\n        {\r\n            source.push( \"null\" );\r\n            continue;\r\n        }\r\n        if( prettyprint )\r\n        {\r\n            indent++ ;\r\n        }\r\n        source.push( dump( value[i], prettyprint, indent, indentor ) ) ;\r\n        if( prettyprint )\r\n        {\r\n            indent-- ;\r\n        }\r\n    }\r\n    if( prettyprint )\r\n    {\r\n        var spaces  = [] ;\r\n        for( i=0 ; i < indent ; i++ )\r\n        {\r\n            spaces.push( indentor );\r\n        }\r\n        var decal  = \"\\n\" + spaces.join( \"\" ) ;\r\n        return decal + \"[\" + decal + indentor + source.join( \",\" + decal + indentor ) + decal + \"]\" ;\r\n    }\r\n    else\r\n    {\r\n        return \"[\" + source.join( \",\" ) + \"]\" ;\r\n    }\r\n}","\"use strict\" ;\r\n\r\n/**\r\n * Dumps a string representation of any Date reference.\r\n * @name dumpDate\r\n * @memberof core\r\n * @function\r\n * @instance\r\n * @param {Date} value - A Date object to dump.\r\n * @param {boolean} [timestamp=false] - The optional timestamp flag.\r\n * @return The string representation of any Date reference.\r\n */\r\nexport function dumpDate( date /*Date*/ , timestamp = false  ) \r\n{\r\n    timestamp = Boolean( timestamp ) ;\r\n    if ( timestamp )\r\n    {\r\n        return \"new Date(\" + String( date.valueOf() ) + \")\";\r\n    }\r\n    else\r\n    {\r\n        var y    = date.getFullYear();\r\n        var m    = date.getMonth();\r\n        var d    = date.getDate();\r\n        var h    = date.getHours();\r\n        var mn   = date.getMinutes();\r\n        var s    = date.getSeconds();\r\n        var ms   = date.getMilliseconds();\r\n        var data = [ y, m, d, h, mn, s, ms ];\r\n        data.reverse();\r\n        while( data[0] === 0 )\r\n        {\r\n            data.splice( 0, 1 );\r\n        }\r\n        data.reverse() ;\r\n        return \"new Date(\" + data.join( \",\" ) + \")\";\r\n    }\r\n}","\"use strict\" ;\r\n\r\nimport { dump } from './dump.js' ;\r\n\r\n/**\r\n * Dumps a string representation of an object.\r\n * @name dumpObject\r\n * @memberof core\r\n * @function\r\n * @instance\r\n * @param {Object} value - An object to dump.\r\n * @param {boolean} [prettyprint=false] - The option to output a pretty printed string.\r\n * @param {number} [indent=0] - The initial indentation value.\r\n * @param {string} [indentor=    ] - The initial string used for the indent.\r\n * @return The string expression of the dump.\r\n */\r\nexport function dumpObject( value , prettyprint = false , indent = 0 , indentor = \"    \")\r\n{\r\n    indent = isNaN(indent) ? 0 : indent ;\r\n\r\n    prettyprint = Boolean( prettyprint ) ;\r\n\r\n    if( !indentor )\r\n    {\r\n        indentor = \"    \" ;\r\n    }\r\n\r\n    var source  = [];\r\n\r\n    for( var member  in value )\r\n    {\r\n        if( value.hasOwnProperty( member ) )\r\n        {\r\n            if( value[member] === undefined )\r\n            {\r\n                source.push( member + \":\" + \"undefined\" );\r\n                continue;\r\n            }\r\n\r\n            if( value[member] === null )\r\n            {\r\n                source.push( member + \":\" + \"null\" );\r\n                continue;\r\n            }\r\n\r\n            if( prettyprint )\r\n            {\r\n                indent++ ;\r\n            }\r\n\r\n            source.push( member + \":\" + dump( value[ member ], prettyprint, indent, indentor ) );\r\n\r\n            if( prettyprint )\r\n            {\r\n                indent-- ;\r\n            }\r\n        }\r\n    }\r\n    source = source.sort();\r\n    if( prettyprint )\r\n    {\r\n        let spaces = [];\r\n        for( var i = 0 ; i < indent ; i++ )\r\n        {\r\n            spaces.push( indentor );\r\n        }\r\n\r\n        let decal = '\\n' + spaces.join( '' );\r\n        return decal + '{' + decal + indentor + source.join( ',' + decal + indentor ) + decal + '}' ;\r\n    }\r\n    else\r\n    {\r\n        return( '{' + source.join( ',' ) + '}' ) ;\r\n    }\r\n}","\"use strict\" ;\r\n\r\n/**\r\n * Returns the unicode string notation of the specified numeric value.\r\n * @name toUnicodeNotation\r\n * @memberof core.numbers\r\n * @function\r\n * @instance\r\n * @param {number} num - The number to transform in a unicode string.\r\n * @return The unicode string notation of the specified numeric value.\r\n * @example\r\n * trace( toUnicodeNotation(  0) ) ; // \"0000\"\r\n * trace( toUnicodeNotation( 10) ) ; // \"000a\"\r\n * trace( toUnicodeNotation( 15) ) ; // \"000f\"\r\n * trace( toUnicodeNotation( 16) ) ; // \"0010\"\r\n * trace( toUnicodeNotation(255) ) ; // \"00ff\"\r\n */\r\nexport function toUnicodeNotation( num )\r\n{\r\n    var hex = num.toString( 16 ) ;\r\n    while( hex.length < 4 )\r\n    {\r\n        hex = \"0\" + hex ;\r\n    }\r\n    return hex ;\r\n}","\"use strict\" ;\r\n\r\nimport { toUnicodeNotation } from './numbers/toUnicodeNotation.js' ;\r\n\r\n/**\r\n * Dumps a string representation of any String value.\r\n * @name dumpString\r\n * @memberof core\r\n * @function\r\n * @instance\r\n * @param {string} str a String to transform.\r\n * @return The dump string representation of any String value.\r\n */\r\nexport function dumpString( value   ) \r\n{\r\n    var code  ;\r\n    var quote  = \"\\\"\" ;\r\n    var str    = \"\"  ;\r\n    var ch     = \"\"  ;\r\n    var pos       = 0   ;\r\n    var len       = value.length ;\r\n    while( pos < len )\r\n    {\r\n        ch  = value.charAt( pos );\r\n        code = value.charCodeAt( pos );\r\n        if( code > 0xFF )\r\n        {\r\n            str += \"\\\\u\" + toUnicodeNotation( code );\r\n            pos++;\r\n            continue;\r\n        }\r\n        switch( ch )\r\n        {\r\n            case \"\\u0008\" : // backspace\r\n            {\r\n                str += \"\\\\b\" ;\r\n                break;\r\n            }\r\n            case \"\\u0009\" : // horizontal tab\r\n            {\r\n                str += \"\\\\t\" ;\r\n                break;\r\n            }\r\n            case \"\\u000A\" : // line feed\r\n            {\r\n                str += \"\\\\n\" ;\r\n                break;\r\n            }\r\n            case \"\\u000B\" : // vertical tab /* TODO: check the VT bug */\r\n            {\r\n                str += \"\\\\v\" ; //str += \"\\\\u000B\" ;\r\n                break;\r\n            }\r\n            case \"\\u000C\" : // form feed\r\n            {\r\n                str += \"\\\\f\" ;\r\n                break;\r\n            }\r\n            case \"\\u000D\" : // carriage return\r\n            {\r\n                str += \"\\\\r\" ;\r\n                break;\r\n            }\r\n            case \"\\u0022\" : // double quote\r\n            {\r\n                str += \"\\\\\\\"\" ;\r\n                break;\r\n            }\r\n            case \"\\u0027\" : // single quote\r\n            {\r\n                str += \"\\\\\\'\";\r\n                break;\r\n            }\r\n            case \"\\u005c\" : // backslash\r\n            {\r\n                str += \"\\\\\\\\\";\r\n                break;\r\n            }\r\n            default :\r\n            {\r\n                str += ch;\r\n            }\r\n        }\r\n        pos++;\r\n    }\r\n    return quote + str + quote;\r\n}","\"use strict\" ;\r\n\r\nimport { dumpArray  } from './dumpArray.js' ;\r\nimport { dumpDate   } from './dumpDate.js' ;\r\nimport { dumpObject } from './dumpObject.js' ;\r\nimport { dumpString } from './dumpString.js' ;\r\n\r\n/**\r\n * Dumps a string representation of any object reference.\r\n * @name dump\r\n * @memberof core\r\n * @function\r\n * @instance\r\n * @param {*} value - Any object to dump.\r\n * @param {boolean} [prettyprint=false] boolean option to output a pretty printed string\r\n * @param {number} [indent=0] initial indentation\r\n * @param {string} [indentor=    ] initial string used for the indent.\r\n * @return The string expression of the dump.\r\n * @example\r\n * var object =\r\n * {\r\n *     name   : \"vegas\" ,\r\n *     count  : 10 ,\r\n *     time   : new Date() ,\r\n *     flag   : true ,\r\n *     values : [1,2,3]\r\n * } ;\r\n * trace( dump( object ) ) ;\r\n */\r\nexport function dump( o , prettyprint  , indent  , indentor   ) \r\n{\r\n    indent = isNaN(indent) ? 0 : indent ;\r\n\r\n    prettyprint = Boolean( prettyprint ) ;\r\n\r\n    if( !indentor )\r\n    {\r\n        indentor = \"    \" ;\r\n    }\r\n\r\n    if( o === undefined )\r\n    {\r\n        return \"undefined\";\r\n    }\r\n    else if( o === null )\r\n    {\r\n        return \"null\";\r\n    }\r\n    else if( typeof(o) === \"string\" || o instanceof String )\r\n    {\r\n        return dumpString( o );\r\n    }\r\n    else if ( typeof(o) === \"boolean\" || o instanceof Boolean  )\r\n    {\r\n        return o ? \"true\" : \"false\";\r\n    }\r\n    else if( typeof(o) === \"number\" || o instanceof Number )\r\n    {\r\n        return o.toString() ;\r\n    }\r\n    else if( o instanceof Date )\r\n    {\r\n        return dumpDate( o );\r\n    }\r\n    else if( o instanceof Array )\r\n    {\r\n        return dumpArray( o , prettyprint, indent, indentor );\r\n    }\r\n    else if( o.constructor && o.constructor === Object )\r\n    {\r\n        return dumpObject( o , prettyprint, indent, indentor );\r\n    }\r\n    else if( \"toSource\" in o )\r\n    {\r\n        return o.toSource( indent );\r\n    }\r\n    else\r\n    {\r\n        return \"<unknown>\";\r\n    }\r\n}","\"use strict\" ;\n\n/**\n * Indicates if the specific object is a Boolean.\n * @name isBoolean\n * @memberof core\n * @function\n * @instance\n * @param {Object} object - The object to check.\n * @return {boolean} <code>true</code> if the object is a Boolean.\n * @example\n * trace( isBoolean(0) ) ; // false\n * trace( isBoolean(true) ) ; // true\n * trace( isBoolean(false) ) ; // true\n * trace( isBoolean(3>2) ) ; // true\n * trace( isBoolean(null) ) ; // false\n */\nexport function isBoolean( object )\n{\n    return (typeof(object) === 'boolean') || (object instanceof Boolean ) ;\n}","\"use strict\" ;\n\n/**\n * Indicates if an value is a float number.\n * @name isFloat\n * @memberof core\n * @function\n * @instance\n * @param {number} value - The value to evaluates.\n * @return <code>true</code> if the passed-in value is a float.\n * @example\n * trace( isFloat(0) ) ; // false\n * trace( isFloat(0.5) ) ; // true\n * trace( isFloat(1) ) ; // false\n */\nexport var isFloat = ( value ) => (Number(value) === value) && (value % 1 !== 0);","\"use strict\" ;\n\n/**\n * Indicates if an value is an integer.\n * @name isInt\n * @memberof core\n * @function\n * @instance\n * @param {number} value - The value to evaluates.\n * @return <code>true</code> if the passed-in value is an integer.\n * @example\n * trace( isInt(-1) ) ; // true\n * trace( isInt(0) ) ; // true\n * trace( isInt(0.5) ) ; // false\n * trace( isInt(1) ) ; // true\n */\nexport var isInt = ( value ) => Number(value) === value && (value%1 === 0) ;","\"use strict\" ;\n\n/**\n * Indicates if the specific object is a Number.\n * @name isNumber\n * @memberof core\n * @function\n * @instance\n * @param {Object} object - The object to check.\n * @return {boolean} <code>true</code> if the object is a Number.\n * @example\n * trace( isNumber(0) ) ; // true\n * trace( isNumber(0.5) ) ; // true\n * trace( isNumber(true) ) ; // true\n * trace( isNumber(null) ) ; // false\n * trace( isNumber(NaN) ) ; // true\n */\nexport function isNumber( object )\n{\n    return (typeof(object) === 'number') || (object instanceof Number )\n}","\"use strict\" ;\n\n/**\n * Indicates if an value is an upper integer.\n * @name isUint\n * @memberof core\n * @function\n * @instance\n * @param {number} value - The value to evaluates.\n * @return <code>true</code> if the passed-in value is an upper integer.\n * @example\n * trace( isUint(-1) ) ; // false\n * trace( isUint(0) ) ; // true\n * trace( isUint(0.5) ) ; // false\n * trace( isUint(1) ) ; // true\n */\nexport var isUint = ( value ) => Number(value) === value && (value%1 === 0) && (value >= 0);","\"use strict\" ;\n\n/**\n * Indicates if the specific object is a String.\n * @name isString\n * @memberof core\n * @function\n * @instance\n * @param {Object} object - The object to check.\n * @return <code>true</code> if the object is a String.\n * @example\n * trace( isString(0) ) ; // false\n * trace( isString(true) ) ; // false\n * trace( isString(null) ) ; // false\n * trace( isString('hello') ) ; // true\n * trace( isString(new String('hello')) ) ; // true\n */\nexport function isString( object )\n{\n    return (typeof(object) === 'string') || (object instanceof String )\n}","\"use strict\" ;\n\n/**\n * Determines whether the specified object exists as an element in an Array object.\n * @name contains\n * @memberof core.arrays\n * @function\n * @instance\n * @param {Array} ar - The search Array.\n * @param {*} value - The object to find in the array.\n * @return <code>true</code> if the specified object exists as an element in the array ; otherwise, <code>false</code>.\n * @example\n * var ar = [2, 3, 4] ;\n * trace( contains( ar , 3 ) ) ; // true\n * trace( contains( ar , 5 ) ) ; // false\n */\nexport var contains = ( array  , value ) =>\n{\n    return (array instanceof Array) ? (array.indexOf(value) > -1) : false ;\n}","\"use strict\" ;\n\n/**\n * Initializes a new Array with an arbitrary number of elements (index), with every element containing the passed parameter value or by default the null value.\n * @name initialize\n * @memberof core.arrays\n * @function\n * @instance\n * @param {number} [elements=1] - The number of elements to fill the Array.\n * @param {*} [value=null] - The value to inject in the Array.\n * @return A new Array with an arbitrary number of elements (index), with every element containing the passed parameter value or by default the null value.\n * @example\n * ar = initialize( 3 ) ;\n * trace( ar ) ; // [ null , null , null ]\n *\n * ar = initialize( 3 , 0 ) ;\n * trace( ar ) ; // [ 0 , 0 , 0 ]\n *\n * ar = initialize( 3 , true ) ;\n * trace( ar ) ; // [ true , true , true ]\n *\n * ar = initialize(  4 , \"\" ) ;\n * trace( ar ) ; // [ \"\" ,\"\" ,\"\" ,\"\" ]\n */\nexport function initialize( elements = 0 , value = null ) \n{\n    var ar = [];\n\n    elements = elements > 0 ? Math.abs(elements) : 0 ;\n\n    if( elements > 0 )\n    {\n        for( var i = 0 ; i < elements ; i++ )\n        {\n            ar[i] = value ;\n        }\n    }\n\n    return ar;\n}","\"use strict\" ;\n\n/**\n * Splices an array (removes an element) and returns either the entire array or the removed element.\n * @memberof core.arrays\n * @name pierce\n * @function\n * @instance\n * @param {Array} ar - The array to pierce.\n * @param {number} index - The index of the array element to remove from the array (default 0).\n * @param {boolean} flag - A boolean <code>true</code> to return a new spliced array of false to return the removed element.\n * @return The newly spliced array or the removed element in function of the flag parameter.\n * @example\n * var ar = [0,1,2,3,4,5] ;\n *\n * trace( ar ) ; // 0,1,2,3,4,5\n *\n * trace( \"pierce( ar, 1 ) : \" + pierce( ar, 1 ) ) ; // pierce(ar,1) : 1\n * trace( \"pierce( ar, 1 ) : \" + pierce( ar, 1 ) ) ; // pierce(ar,1) : 2\n *\n * trace( ar ) ; // 0,3,4,5\n *\n * trace( pierce( ar, 1 , true ) ) ; // 0,4,5\n */\nexport function pierce( ar  , index /*uint*/ , flag  )\n{\n    index = index > 0 ? Math.abs(index) : 0 ;\n    flag  = Boolean( flag ) ;\n    var item = ar[index] ;\n    ar.splice( index , 1 ) ;\n    return flag ? ar : item ;\n}","\"use strict\" ;\n\n/**\n * Returns a new Array who contains the specified Array elements repeated count times.\n * @name repeat\n * @memberof core.arrays\n * @function\n * @instance\n * @param {Array} ar - The array to repeat.\n * @param {number} count - The number of repeat.\n * @return {Array} A new Array who contains the specified Array elements repeated count times.\n * @example\n * trace( repeat( [2, 3, 4] , 0 ) ) ; // 2,3,4\n * trace( repeat( [2, 3, 4] , 3 ) ) ; // 2,3,4,2,3,4,2,3,4\n */\nexport function repeat( ar  , count /*uint*/ ) \n{\n    var result = null ;\n    if( ar instanceof Array )\n    {\n        count = count > 0 ? count : 0 ;\n        if ( count > 0 )\n        {\n            result = [] ;\n            for( var i = 0 ; i < count ; i++ )\n            {\n                result = result.concat(ar) ;\n            }\n        }\n        else\n        {\n            result = [].concat(ar) ;\n        }\n    }\n    return result ;\n}","\"use strict\" ;\n\n/**\n * @name rotate\n * @memberof core.arrays\n * @instance\n * @function\n * @instance\n * @description Rotates an Array in-place. After calling this method, the element at index i will be the element previously at <code>index(i-n)%array.length</code>, for all values of i between <code>0 and <code>array.length-1</code>, inclusive.\n * <p>For example, suppose list comprises <code>[l, o, v, e]</code>. After invoking <code>rotate(array, 1)</code> (or <code>rotate(array, -3)</code>), array will comprise <code>[e,l,o,v]</code>.</p>\n * @param {Array} ar - The array to rotate.\n * @param {number} [amount=1] The amount to rotate.\n * @return {Array} The rotated Array reference.\n * @example\n * var array = [\"l\",\"o\",\"v\",\"e\"] ;\n *\n * trace( dump( rotate( array ,  1 ) ) ) ; // [\"e\",\"l\",\"o\",\"v\"]\n * trace( dump( rotate( array , -1 ) ) ) ; // [\"l\",\"o\",\"v\",\"e\"]\n * trace( dump( rotate( array , -1 ) ) ) ; // [\"o\",\"v\",\"e\",\"l\"]\n * trace( dump( rotate( array ,  3 ) ) ) ; // [\"v\",\"e\",\"l\",\"o\"]\n */\nexport function rotate( ar  , amount = 1 ) \n{\n    if ( ( ar instanceof Array ) && ar.length > 0 )\n    {\n        amount %= ar.length ;\n        if ( amount > 0 )\n        {\n            ar.unshift.apply( ar , ar.splice(-amount, amount ) ) ;\n        }\n        else if ( amount < 0 )\n        {\n            ar.push.apply( ar , ar.splice(0, -amount ) );\n        }\n    }\n    else\n    {\n        ar = null ;\n    }\n    return ar;\n}","\"use strict\" ;\n\n/**\n * Shuffles an array.\n * @name shuffle\n * @memberof core.arrays\n * @function\n * @instance\n * @param {Array} ar - The array to shuffle.\n * @return {Array} the shuffled array.\n * @example\n * var = [0,1,2,3,4,5,6,7,8,9] ;\n * trace( ar ) ;\n * shuffle( ar ) ;\n * trace( ar ) ;\n */\nexport function shuffle( ar  ) \n{\n    if( ar instanceof Array )\n    {\n        let item ;\n        let rdm  ;\n        let tmp  = [] ;\n        let len    = ar.length;\n        let index  = len - 1 ;\n        for ( var i  = 0 ; i < len ; i++ )\n        {\n            rdm  = Math.round( Math.random() * index ) ;\n            item = ar[ rdm ] ;\n            ar.splice( rdm , 1 ) ;\n            tmp[tmp.length] = item ;\n            index-- ;\n        }\n        while(--len > -1)\n        {\n            ar[len] = tmp[len] ;\n        }\n    }\n    else\n    {\n        ar = null ;\n    }\n    return ar ;\n}","/*jslint bitwise: true */\n\"use strict\" ;\n\n/**\n * Sorts the elements in an array according to one or more fields in the array.\n * The array should have the following characteristics:\n * <ul>\n * <li>The array is an indexed array, not an associative array.</li>\n * <li>Each element of the array holds an object with one or more properties.</li>\n * <li>All of the objects have at least one property in common, the values of which can be used to sort the array. Such a property is called a field.</li>\n * </ul>\n * @name sortOn\n * @memberof core.arrays\n * @instance\n * @function\n * @example\n * var echo = function( a )\n * {\n *     var l = a.length ;\n *     for (var i = 0; i < l; i++)\n *     {\n *         trace( \">> \" + a[i].name + \" :: \" + a[i].num ) ;\n *     }\n * }\n *\n * trace (\"---- Array\") ;\n * var a =\n * [\n *     { name:\"test 0\" , num:6 } ,\n *     { name:\"Test 1\" , num:8 } ,\n *     { name:\"test 2\" , num:4 } ,\n *     { name:\"test 3\" , num:10 }\n * ] ;\n *\n * echo(a) ;\n *\n * trace (\"---- sort num Array.NUMERIC | Array.DESCENDING\") ;\n *\n * var r = sortOn( a , \"num\", Array.NUMERIC | Array.DESCENDING) ;\n *\n * echo(a) ;\n *\n * trace (\"---- sort name\") ;\n *\n * sortOn( a , \"name\") ;\n *\n * echo(a) ;\n *\n * trace (\"---- sort name Array.CASEINSENSITIVE\") ;\n *\n * sortOn( a , \"name\", Array.CASEINSENSITIVE) ;\n *\n * echo(a) ;\n *\n * trace (\"---- sort name Array.RETURNINDEXEDARRAY\") ;\n *\n * //var result = sortOn( a , \"name\", Array.CASESEINSENTIVE | Array.RETURNINDEXEDARRAY) ;\n * //var result = sortOn( a , \"name\", Array.RETURNINDEXEDARRAY) ;\n * //trace (result) :\n *\n * var result = sortOn( a , \"num\", Array.NUMERIC | Array.DESCENDING | Array.RETURNINDEXEDARRAY ) ;\n * trace (result) ;\n *\n * var result = sortOn( a , \"num\", Array.NUMERIC | Array.RETURNINDEXEDARRAY ) ;\n * trace (result) ;\n *\n * var result = sortOn( a , \"name\", Array.NUMERIC | Array.RETURNINDEXEDARRAY ) ;\n * trace (result) ;\n *\n * trace (\"---- sort name Array.UNIQUESORT\") ;\n *\n * a.push({ name:\"test 1\" , num:60 } ) ;\n *\n * sortOn( a , \"name\", Array.UNIQUESORT ) ;\n *\n * echo(a) ;\n */\nexport function sortOn( ar , propName , options )\n{\n    var sort = function( o1 , o2 )\n    {\n        var v1 = (propName in o1) ? o1[propName] : '' ;\n        var v2 = (propName in o2) ? o2[propName] : '' ;\n\n        switch( options )\n        {\n            case Array.CASEINSENSITIVE :\n            case Array.CASEINSENSITIVE | Array.RETURNINDEXEDARRAY :\n            {\n                v1 = (typeof(v1) === \"string\" || v1 instanceof String) ? v1.toLowerCase() : v1 ;\n                v2 = (typeof(v2) === \"string\" || v2 instanceof String) ? v2.toLowerCase() : v2 ;\n                break ;\n            }\n            case Array.NUMERIC :\n            case Array.NUMERIC | Array.RETURNINDEXEDARRAY :\n            {\n                v1 = Number(v1) ; v2 = Number(v2) ;\n                v1 = isNaN(v1) ? 0 : v1 ;\n                v2 = isNaN(v2) ? 0 : v2 ;\n                break ;\n            }\n            case Array.DESCENDING :\n            case Array.DESCENDING | Array.RETURNINDEXEDARRAY :\n            {\n                [v1,v2] = [v2,v1] ;\n                break ;\n            }\n            case Array.CASEINSENSITIVE | Array.DESCENDING :\n            case Array.CASEINSENSITIVE | Array.DESCENDING | Array.RETURNINDEXEDARRAY :\n            {\n                v1 = (typeof(v1) === \"string\" || v1 instanceof String) ? v1.toLowerCase() : v1 ;\n                v2 = (typeof(v2) === \"string\" || v2 instanceof String) ? v2.toLowerCase() : v2 ;\n                [v1,v2] = [v2,v1] ;\n                break ;\n            }\n            case Array.NUMERIC | Array.DESCENDING :\n            case Array.NUMERIC | Array.DESCENDING | Array.RETURNINDEXEDARRAY :\n            {\n                v1 = Number(v1) ; v2 = Number(v2) ;\n                v1 = isNaN(v1) ? 0 : v1 ;\n                v2 = isNaN(v2) ? 0 : v2 ;\n                [v1,v2] = [v2,v1] ;\n                break ;\n            }\n            case Array.UNIQUESORT :\n            {\n                if (v1 === v2)\n                {\n                    return ;\n                }\n                break ;\n            }\n        }\n\n        if ( v1 < v2 )\n        {\n            return -1 ;\n        }\n        else if (v1 > v2)\n        {\n            return 1 ;\n        }\n        else\n        {\n            return 0 ;\n        }\n    }\n\n    switch (options)\n    {\n        case Array.RETURNINDEXEDARRAY :\n        case Array.RETURNINDEXEDARRAY | Array.NUMERIC :\n        case Array.RETURNINDEXEDARRAY | Array.CASEINSENSITIVE :\n        case Array.RETURNINDEXEDARRAY | Array.NUMERIC | Array.DESCENDING :\n        case Array.RETURNINDEXEDARRAY | Array.CASEINSENSITIVE | Array.DESCENDING :\n        {\n            var tmp = [].concat(ar) ;\n            tmp.sort(sort) ;\n\n            var result = [] ;\n            var l = ar.length ;\n            for ( var i = 0 ; i < l ; i++ )\n            {\n                result.push(tmp.indexOf(ar[i])) ;\n            }\n\n            return result  ;\n        }\n        default :\n        {\n            return ar.sort(sort) ;\n        }\n    }\n}\n\n/**\n * In the sorting methods, this constant specifies case-insensitive sorting. You can use this constant for the options parameter in the sort() or sortOn() method.\n * <p>he value of this constant is 1.</p>\n */\nArray.CASEINSENSITIVE = 1;\n\n/**\n * In the sorting methods, this constant specifies descending sort order. You can use this constant for the options parameter in the sort() or sortOn() method.\n * <p>The value of this constant is 2.</p>\n */\nArray.DESCENDING = 2 ;\n\n/**\n * In the sorting methods, this constant specifies numeric (instead of character-string) sorting. Including it in the options parameter causes the sort() and sortOn() methods to sort numbers as numeric values, not as strings of numeric characters.\n * <p>Without the NUMERIC constant, sorting treats each array element as a character string and produces the results in Unicode order.</p>\n * <p>For example, given the Array of values [2005, 7, 35], if the NUMERIC constant is not included in the options parameter, the sorted Array is [2005, 35, 7], but if the NUMERIC constant is included, the sorted Array is [7, 35, 2005].</p>\n * <p>The value of this constant is 16.</p>\n */\nArray.NUMERIC = 16 ;\n\n/**\n * Specifies that a sort returns an indexed array as a result of calling the sort() or sortOn() method.\n * <p>You can use this constant for the options parameter in the sort() or sortOn() method. This provides preview or copy functionality by returning an array that represents the results of the sort and leaves the original array unmodified.</p>\n * <p>The value of this constant is 8.</p>\n */\nArray.RETURNINDEXEDARRAY = 8 ;\n\n/**\n * In the sorting methods, this constant specifies the unique sorting requirement.\n * <p>You can use this constant for the options parameter in the sort() or sortOn() method. The unique sorting option aborts the sort if any two elements or fields being sorted have identical values.</p>\n * <p>The value of this constant is 4.</p>\n */\nArray.UNIQUESORT = 4 ;","\"use strict\" ;\n\n/**\n * Splice one array into another.\n * @name spliceInto\n * @memberof core.arrays\n * @function\n * @instance\n * @param {array} inserted - The Array of values inserted in the Array container.\n * @param {array} container - The container modified in place.\n * @param {number} position - The position in the container to inserted the Array of chars.\n * @param {number} count - The count value to replaced values.\n * @example\n * inserted  = [1, 2, 3, 4] ;\n * container = [5, 6, 7, 8] ;\n *\n * trace( \"inserted  : \" + inserted  ) ;\n * trace( \"container : \" + container ) ;\n *\n * trace(\"---\") ;\n *\n * inserted  = [1, 2, 3, 4] ;\n * container = [5, 6, 7, 8] ;\n *\n * spliceInto( inserted, container ) ;\n *\n * trace( \"spliceInto( inserted, container, 0 , 0 ) : \" + container ) ; // 1,2,3,4,5,6,7,8\n *\n * trace(\"---\") ;\n *\n * inserted  = [1, 2, 3, 4] ;\n * container = [5, 6, 7, 8] ;\n *\n * spliceInto( inserted, container, 0 , 4 ) ;\n *\n * trace( \"spliceInto( inserted, container, 0 , 4 ) : \" + container ) ; // 1,2,3,4\n *\n * trace(\"---\") ;\n *\n * inserted  = [1, 2, 3, 4] ;\n * container = [5, 6, 7, 8] ;\n *\n * spliceInto( inserted, container, 0 , 2 ) ;\n *\n * trace( \"spliceInto( inserted, container, 0 , 2 ) : \" + container ) ; // 1,2,3,4,7,8\n */\nexport function spliceInto( inserted  , container  , position /*Number*/ , count /*Number*/ )\n{\n    inserted.unshift( position , count ) ;\n    try\n    {\n        container.splice.apply( container , inserted ) ;\n    }\n    finally\n    {\n        inserted.splice(0, 2) ;\n    }\n}","\"use strict\" ;\n\n/**\n * Swaps two indexed values in a specific array representation.\n * @name swap\n * @memberof core.arrays\n * @function\n * @instance\n * @param {Array} ar - The Array of values to change.\n * @param {number} [from=0] The first index position to swap.\n * @param {number} [to=0] The second index position to swap.\n * @param {boolean} [clone=false] Returns a swaped clone of the passed-in array.\n * @example\n * var ar = [ 1 , 2 , 3 , 4 ] ;\n * trace( ar ) ; // 1,2,3,4\n * swap( ar , 1 , 3 ) ;\n * trace( ar ) ; // 1,4,3,2\n */\nexport function swap( ar , from = 0 , to = 0 , clone = false )\n{\n    if( ar instanceof Array )\n    {\n        if( clone )\n        {\n            ar = [].concat(ar) ;\n        }\n        var value = ar[from] ;\n        ar[from] = ar[to] ;\n        ar[to]   = value ;\n        return ar ;\n    }\n    return null ;\n}","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { contains }   from './arrays/contains.js' ;\nimport { initialize } from './arrays/initialize.js' ;\nimport { pierce }     from './arrays/pierce.js' ;\nimport { repeat }     from './arrays/repeat.js' ;\nimport { rotate }     from './arrays/rotate.js' ;\nimport { shuffle }    from './arrays/shuffle.js' ;\nimport { sortOn }     from './arrays/sortOn.js' ;\nimport { spliceInto } from './arrays/spliceInto.js' ;\nimport { swap }       from './arrays/swap.js' ;\n\n/**\n * The {@link core.arrays} package is a modular <b>JavaScript</b> library that provides extra <code>Array</code> methods.\n * @summary The {@link core.arrays} package is a modular <b>JavaScript</b> library that provides extra <code>Array</code> methods.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace core.arrays\n * @memberof core\n */\nexport var arrays = Object.assign\n({\n    contains : contains ,\n    initialize : initialize ,\n    pierce : pierce ,\n    repeat : repeat ,\n    rotate : rotate ,\n    shuffle : shuffle ,\n    sortOn : sortOn ,\n    spliceInto : spliceInto,\n    swap : swap\n}) ;","\"use strict\" ;\n\n/**\n * Compares the two caracteres passed in argument for order.\n * @name compare\n * @memberof core.chars\n * @function\n * @instance\n * @param {string} charA - The first char to compare.\n * @param {string} charB - The second char to compare.\n * @return {number} <p>An integer value :\n * <li>-1 if charA is \"lower\" than (less than, before, etc.) charB ;</li>\n * <li> 1 if charA is \"higher\" than (greater than, after, etc.) charB ;</li>\n * <li> 0 if charA and charB are equal.</li>\n * </p>\n * @example\n * trace( compare(\"a\",\"a\") ) ; // 0\n * trace( compare(\"a\",\"b\") ) ; // -1\n * trace( compare(\"b\",\"a\") ) ; // 1\n */\nexport function compare( charA , charB )\n{\n    var a = charA.charAt(0) ;\n    var b = charB.charAt(0) ;\n    if ( caseValue(a) < caseValue(b) )\n    {\n        return -1;\n    }\n    if ( caseValue(a) > caseValue(b) )\n    {\n        return 1 ;\n    }\n    if ( a < b )\n    {\n        return -1;\n    }\n    if ( a > b )\n    {\n        return 1;\n    }\n    return 0 ;\n}\n\nfunction caseValue( str )\n{\n    return ( str.toLowerCase().valueOf() === str.valueOf() ) ? 0 : 1 ;\n}","\"use strict\" ;\n\n/**\n * @name isAlpha\n * @function\n * @instance\n * @memberof core.chars\n * @description Indicates if the specified character is an alpha (A-Z or a-z) character.\n * @param {string} c - The expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return {boolean} <code>true</code> if the specified character is an alpha character.\n */\nexport function isAlpha( c , index = 0 )\n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n    return ((\"A\" <= c) && (c <= \"Z\")) || ((\"a\" <= c) && (c <= \"z\")) ;\n}","\"use strict\" ;\n\n/**\n * Indicates if the specified character is an alpha (A-Z or a-z) or a digit character.\n * @name isAlphaOrDigit\n * @memberof core.chars\n * @instance\n * @function\n * @param {string} c - The expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return <code>true</code> if the specified character is an alpha or digit character.\n * @example\n * trace( isAlphaOrDigit( \"Z\" ) ) ; // true\n * trace( isAlphaOrDigit( \"a\" ) ) ; // true\n * trace( isAlphaOrDigit( \"0\" ) ) ; // true\n * trace( isAlphaOrDigit( \"9\" ) ) ; // true\n * trace( isAlphaOrDigit( \"+\" ) ) ; // false\n */\nexport function isAlphaOrDigit( c , index = 0 )\n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n    return ((\"A\" <= c) && (c <= \"Z\")) || ((\"a\" <= c) && (c <= \"z\")) || ((\"0\" <= c) && (c <= \"9\")) ;\n}","\"use strict\" ;\n\n/**\n * Indicates if the specified character is an <strong>{@link https://fr.wikipedia.org/wiki/American_Standard_Code_for_Information_Interchange|ASCII}</strong> character.\n * @param {string} c - The character expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return {boolean} <code>true</code> if the specified character is a <strong>{@link https://fr.wikipedia.org/wiki/American_Standard_Code_for_Information_Interchange|ASCII}</strong> character.\n * @memberof core.chars\n * @name isASCII\n * @function\n * @instance\n * @example\n * trace( isASCII( \"Z\" ) ) ; // true\n * trace( isASCII( \"a\" ) ) ; // true\n * trace( isASCII( \"+\" ) ) ; // true\n */\nexport function isASCII( c , index = 0 )\n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n    return c.charCodeAt( 0 ) <= 255 ;\n}\n","\"use strict\" ;\n\n/**\n * Indicates if the specified character is a digit.\n * @name isContained\n * @memberof core.chars\n * @function\n * @instance\n * @param {string} c - The expression to evaluate.\n * @param {number} index - The optional index to evaluate a specific character in the passed-in expression.\n * @param {string} charset - The list of characters to evaluate.\n * @return True if the specified character is a digit.\n * @example\n * trace( isContained( \"a\" , \"bubble\" ) ) ; // false\n * trace( isContained( \"u\" , \"bubble\" ) ) ; // true\n */\nexport function isContained( c , charset , index = 0)\n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n\n    var l = charset.length ;\n    for( var i = 0 ; i<l ; i++ )\n    {\n        if( c === charset.charAt( i ) )\n        {\n            return true ;\n        }\n    }\n\n    return false;\n}\n","\"use strict\" ;\n\n/**\n * Indicates if the specified character is a digit.\n * @name isDigit\n * @memberof core.chars\n * @function\n * @instance\n * @param {string} c - The expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return {boolean} True if the specified character is a digit.\n * @example\n * trace( isDigit( \"Z\" ) ) ; // false\n * trace( isDigit( \"+\" ) ) ; // false\n * trace( isDigit( \"0\" ) ) ; // true\n * trace( isDigit( \"9\" ) ) ; // true\n */\nexport function isDigit( c , index = 0 )\n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n    return (\"0\" <= c) && (c <= \"9\") ;\n}\n","\"use strict\" ;\n\n/**\n * Indicates if the specified character is a hexadecimal digit.\n * @name isHexDigit\n * @memberof core.chars\n * @function\n * @instance\n * @param {string} c - The expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return <true> if the specified character is an hexadecimal digit.\n * @example\n * trace( isHexDigit( \"Z\" ) ) ; // false\n * trace( isHexDigit( \"+\" ) ) ; // false\n * trace( isHexDigit( \"0\" ) ) ; // true\n * trace( isHexDigit( \"1\" ) ) ; // true\n * trace( isHexDigit( \"2\" ) ) ; // true\n * trace( isHexDigit( \"9\" ) ) ; // true\n * trace( isHexDigit( \"A\" ) ) ; // true\n * trace( isHexDigit( \"F\" ) ) ; // true\n */\nexport function isHexDigit( c , index = 0 )\n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n    return ( (\"0\" <= c) && (c <= \"9\") ) || ((\"A\" <= c) && (c <= \"F\")) || ((\"a\" <= c) && (c <= \"f\")) ;\n}\n","\"use strict\" ;\n\n/**\n * Indicates if the specified character is a start identifier : <strong>UnicodeLetter, $, _ or the \\ unicode escape sequence.</strong>\n * @name isIdentifierStart\n * @memberof core.chars\n * @function\n * @instance\n * @see <a href=\"http://www.ecma-international.org/ecma-262/5.1/Ecma-262.pdf\">ECMA-262 spec 7.6 (PDF)</a>\n * @param {string} c - The expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return <code>true</code> if the specified character is an identifier start character.\n */\nexport function isIdentifierStart( c , index = 0 )\n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n    return ((\"A\" <= c) && (c <= \"Z\")) || ((\"a\" <= c) && (c <= \"z\")) || ( c === \"_\" ) || ( c  === \"$\" ) ;\n}\n","\"use strict\" ;\n\n/**\n * Like white space characters, line terminator characters are used to improve source text readability and to separate tokens (indivisible lexical units) from each other.\n * However, unlike white space characters, line terminators have some influence over the behaviour of the syntactic grammar.\n * In general, line terminators may occur between any two tokens, but there are a few places where they are forbidden by the syntactic grammar.\n * A line terminator cannot occur within any token, not even a string.\n * Line terminators also affect the process of automatic semicolon insertion.\n * <p>ECMAScript specification.</p>\n * @name lineTerminators\n * @memberof core.chars\n * @instance\n * @const\n * @type {Array}\n */\nexport var lineTerminators =\n[\n    \"\\u000A\" , // LF : Line Feed\n    \"\\u000D\" , // CR : Carriage Return\n    \"\\u2028\" , // LS : Line Separator\n    \"\\u2929\" , // PS : Paragraphe Separator\n];","\"use strict\" ;\n\nimport { lineTerminators } from './lineTerminators.js' ;\n\n/**\n * @description Indicates if the specified character is a line terminator :\n * * \"\\n\" - u000A - LF : Line Feed\n * * \"\\r\" - u000D - CR : Carriage Return\n * * ???  - u2028 - LS : Line Separator\n * * ???  - u2029 - PS : Paragraphe Separator\n * @name isLineTerminator\n * @memberof core.chars\n * @function\n * @instance\n * @see <a href=\"http://www.ecma-international.org/ecma-262/5.1/Ecma-262.pdf\">ECMA-262 spec 7.3 (PDF)</a>\n * @param {string} c - The expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return <code>true</code> if the passed-in string value is a line terminator defines in the core.chars.lineTerminators collection.\n  * @example\n * trace( isLineTerminator( \"h\" ) ) ; // false\n * trace( isLineTerminator( \"\\n\" ) ) ; // true\n */\nexport function isLineTerminator( c  , index /*uint*/ = 0 ) \n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n\n    var l = lineTerminators.length ;\n    while( --l > -1 )\n    {\n        if( c === lineTerminators[l] )\n        {\n            return true;\n        }\n    }\n\n    return false ;\n}\n","\"use strict\" ;\n\n/**\n * Indicates if the character is lowercase.\n * @name isLower\n * @memberof core.chars\n * @function\n * @instance\n * @param {string} c - The expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return <code>true</code> if the specified character is lowercase.\n * @example\n * trace( isLower( \"a\" ) ) ; // true\n * trace( isLower( \"A\" ) ) ; // false\n * trace( isLower( \"-\" ) ) ; // false\n * trace( isLower( \"#\" ) ) ; // false\n * trace( isLower( \"1\" ) ) ; // false\n */\nexport function isLower( c , index = 0 ) \n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n    return ( \"a\" <= c ) && ( c <= \"z\" ) ;\n}\n","\"use strict\" ;\n\n/**\n * Indicates if the specified character is an octal digit. The octal numeral system, or oct for short, is the <strong>base-8</strong> number system, and uses the digits <code>0</code> to <code>7</code>.\n * @name isOctalDigit\n * @memberof core.chars\n * @function\n * @instance\n * @param {string} c - The expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return <code>true</code> if the specified character is an octal digit.\n * @example\n * var chars =\n * [\n *     \"0\" , \"1\" , \"2\" , \"3\" , \"4\" ,\n *     \"5\" , \"6\" , \"7\" , \"8\" , \"A\" , \"a\" , \"$\"\n * ] ;\n * for( var i = 0 ; i<chars.length ; i++ )\n * {\n *     trace( chars[i] + \" isOctalDigit \" + isOctalDigit( chars[i] ) ) ;\n * }\n */\nexport function isOctalDigit( c  , index /*uint*/ = 0 ) \n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n    return (\"0\" <= c) && (c <= \"7\") ;\n}\n","\"use strict\" ;\n\n/**\n * The collection representation of all operators characters.\n * @name operators\n * @memberof core.chars\n * @const\n * @type {Array}\n * @instance\n */\nexport var operators =\n[\n    \"*\" ,\n    \"/\" ,\n    \"%\" ,\n    \"+\" ,\n    \"-\" ,\n    \"\" ,\n    \"\" ,\n    \">\" ,\n    \"<\" ,\n    \"\" ,\n    \"&\" ,\n    \"^\" ,\n    \"|\"\n];","\"use strict\" ;\n\nimport { operators } from './operators.js' ;\n\n/**\n * Indicates if the passed-in string value is a operator digit.\n * @name isOperator\n * @memberof core.chars\n * @function\n * @instance\n * @param {string} c - The expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return <code>true</code> if the passed-in string value is a operator digit.\n * @example\n * trace( isOperator( \"a\" ) ) ; // false\n * trace( isOperator( \"+\" ) ) ; // true\n */\nexport function isOperator( c , index = 0 )\n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n    return operators.indexOf(c) > -1 ;\n}\n","\"use strict\" ;\n\n/**\n * The collection representation of all ASCII symbols characters.\n * @name symbols\n * @memberof core.chars\n * @const\n * @type {Array}\n * @instance\n */\nexport var symbols =\n[\n    \" \"  , // The \"space\" unicode character\n    \"!\"  , // The \"!\" unicode character\n    \"\\\"\" , // The quotation marks\n    \"#\"  , // The number sign\n    \"$\"  , // The \"$\" unicode character\n    \"%\"  , // The percent unicode character\n    \"&\"  , // The ampersand unicode character\n    \"\\'\" , // The apostrophe unicode character\n    \"(\"  , // The \"(\" unicode character\n    \")\"  , // The \")\" unicode character\n    \"*\"  , // The asterisk closing single quotation mark, acute accent unicode character\n    \"+\"  , // The plus unicode character\n    \",\"  , // The comma unicode character\n    \"-\"  , // The minus (hyphen) unicode character\n    \".\"  , // The decimal point (period) unicode character\n    \"/\"  , // The slash (slant) unicode character\n    \":\"  , // The colon \":\" unicode character\n    \";\"  , // The semi colon \";\" unicode character\n    \"<\"  , // The lessThan \"&lt;\" unicode characte.\n    \"=\"  , // The equals unicode character\n    \">\"  , // The greaterThen \"&gt;\" unicode character\n    \"?\"  , // The questionMark \"?\" unicode character\n    \"@\"  , // The commercial at \"@\" unicode character\n    \"[\"  , // The opening bracket \"[\" unicode character\n    \"\\\\\" , // The backslash (reverse slant) \"\\\\\" unicode character\n    \"]\"  , // The closing bracket \"]\" unicode character\n    \"^\"  , // The circumflex \"^\" unicode character\n    \"_\"  , // The underline \"_\" unicode character\n    \"`\"  , // The grave accent \"`\" unicode character\n    \"{\"  , // The opening brace \"{\" unicode character\n    \"|\"  , // The pipe (vertical line) \"|\" unicode character\n    \"}\"  , // The closing brace \"}\" unicode character\n    \"~\"  , // The tilde \"~\" pr \"-\" overline, general accent unicode character\n];","\"use strict\" ;\n\nimport { symbols } from './symbols.js' ;\n\n/**\n * Indicates if the character is an ASCII symbol.\n * @name isSymbol\n * @memberof core.chars\n * @function\n * @instance\n * @param {string} c - The expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return <code>true</code> if the passed-in string value is a symbol defines in the core.chars.symbols collection.\n */\nexport function isSymbol( c , index = 0 )\n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n\n    return symbols.indexOf(c) > -1 ;\n}\n","\"use strict\" ;\n\n/**\n * Indicates if the specified character is a unicode character (the charcode of the character must be > 255).\n * @name isUnicode\n * @memberof core.chars\n * @function\n * @instance\n * @param {string} c - The expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return <code>true</code> if the passed-in string value is a unicode character.\n */\nexport function isUnicode( c  , index /*uint*/ = 0 ) \n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n    return c.charCodeAt( 0 ) > 255 ;\n}\n","\"use strict\" ;\n\n/**\n * Indicates if the character is an uppercase letter.\n * @name isUpper\n * @memberof core.chars\n * @function\n * @instance\n * @param {string} c - The expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return <code>true</code> if the specified character is lowercase.\n * trace( isUpper( \"A\" ) ) ; // true\n * trace( isUpper( \"B\" ) ) ; // true\n * trace( isUpper( \"Z\" ) ) ; // true\n * trace( isUpper( \"a\" ) ) ; // false\n * trace( isUpper( \"b\" ) ) ; // false\n * trace( isUpper( \"-\" ) ) ; // false\n * trace( isUpper( \"#\" ) ) ; // false\n * trace( isUpper( \"1\" ) ) ; // false\n */\nexport function isUpper( c  , index /*uint*/ = 0 ) \n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n    return ( \"A\" <= c ) && ( c <= \"Z\" ) ;\n}\n","\"use strict\" ;\n\n/**\n * This collection contains all white space chars.\n * <p><b>Note :</b></p>\n * <ul>\n * <li>http://www.fileformat.info/info/unicode/category/Zs/list.htm</li>\n * <li>http://www.fileformat.info/info/unicode/category/Zl/list.htm</li>\n * <li>http://www.fileformat.info/info/unicode/category/Zp/list.htm</li>\n * <li>http://www.fileformat.info/info/unicode/char/200b/index.htm</li>\n * <li>http://www.fileformat.info/info/unicode/char/feff/index.htm</li>\n * <li>http://www.fileformat.info/info/unicode/char/2060/index.htm</li>\n * </ul>\n * @name whiteSpaces\n * @memberof core.chars\n * @instance\n * @const\n * @type {Array}\n * @see The ECMAScript specification.\n */\nexport var whiteSpaces =\n[\n    \"\\u0009\" , // Horizontal tab\n    \"\\u000A\" , // Line feed or New line\n    \"\\u000B\" , // Vertical tab\n    \"\\u000C\" , // Formfeed\n    \"\\u000D\" , // Carriage return\n    \"\\u0020\" , // Space\n    \"\\u00A0\" , // Non-breaking space\n    \"\\u1680\" , // Ogham space mark\n    \"\\u180E\" , // Mongolian vowel separator\n    \"\\u2000\" , // En quad\n    \"\\u2001\" , // Em quad\n    \"\\u2002\" , // En space\n    \"\\u2003\" , // Em space\n    \"\\u2004\" , // Three-per-em space\n    \"\\u2005\" , // Four-per-em space\n    \"\\u2006\" , // Six-per-em space\n    \"\\u2007\" , // Figure space\n    \"\\u2008\" , // Punctuation space\n    \"\\u2009\" , // Thin space\n    \"\\u200A\" , // Hair space\n    \"\\u200B\" , // Zero width space\n    \"\\u2028\" , // Line separator\n    \"\\u2029\" , // Paragraph separator\n    \"\\u202F\" , // Narrow no-break space\n    \"\\u205F\" , // Medium mathematical space\n    \"\\u3000\" , // Ideographic space\n];","\"use strict\" ;\n\nimport { whiteSpaces } from './whiteSpaces.js' ;\n\n/**\n * Indicates if the character is white space.\n * @name isWhiteSpace\n * @memberof core.chars\n * @function\n * @instance\n * @param {string} c - The expression to evaluate.\n * @param {number} [index=0] - The optional index to evaluate a specific character in the passed-in expression.\n * @return <code>true</code> if the passed-in string value is a white space defines in the core.chars.whiteSpaces collection.\n * @example\n * trace( isWhiteSpace( '!' ) ) ;\n * trace( isWhiteSpace( ' ' ) ) ;\n * trace( isWhiteSpace( '\\r' ) ) ;\n */\nexport function isWhiteSpace( c , index = 0 )\n{\n    if( index > 0 )\n    {\n        c = c.charAt( index ) ;\n    }\n\n    return whiteSpaces.indexOf(c) > -1 ;\n}\n","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { compare }           from './chars/compare.js' ;\nimport { isAlpha }           from './chars/isAlpha.js' ;\nimport { isAlphaOrDigit }    from './chars/isAlphaOrDigit.js' ;\nimport { isASCII }           from './chars/isASCII.js' ;\nimport { isContained }       from './chars/isContained.js' ;\nimport { isDigit }           from './chars/isDigit.js' ;\nimport { isHexDigit }        from './chars/isHexDigit.js' ;\nimport { isIdentifierStart } from './chars/isIdentifierStart.js' ;\nimport { isLineTerminator }  from './chars/isLineTerminator.js' ;\nimport { isLower }           from './chars/isLower.js' ;\nimport { isOctalDigit }      from './chars/isOctalDigit.js' ;\nimport { isOperator }        from './chars/isOperator.js' ;\nimport { isSymbol }          from './chars/isSymbol.js' ;\nimport { isUnicode }         from './chars/isUnicode.js' ;\nimport { isUpper }           from './chars/isUpper.js' ;\nimport { isWhiteSpace }      from './chars/isWhiteSpace.js' ;\nimport { lineTerminators }   from './chars/lineTerminators.js' ;\nimport { operators }         from './chars/operators.js' ;\nimport { symbols }           from './chars/symbols.js' ;\nimport { whiteSpaces }       from './chars/whiteSpaces.js' ;\n\n/**\n * The {@link core.chars} package is a modular <b>JavaScript</b> library that provides extra <code>String</code> methods to validate and transform the basic characters.\n * <p>You can use this library for example to parse a string (JSON, csv, etc.).</p>\n * @summary The {@link core.chars} package is a modular <b>JavaScript</b> library that provides extra <code>String</code> methods to validate and transform a basic character.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace core.chars\n * @memberof core\n */\nexport var chars = Object.assign\n({\n    compare           : compare ,\n    isAlpha           : isAlpha ,\n    isAlphaOrDigit    : isAlphaOrDigit ,\n    isASCII           : isASCII ,\n    isContained       : isContained ,\n    isDigit           : isDigit ,\n    isHexDigit        : isHexDigit ,\n    isIdentifierStart : isIdentifierStart ,\n    isLineTerminator  : isLineTerminator ,\n    isLower           : isLower ,\n    isOctalDigit      : isOctalDigit ,\n    isOperator        : isOperator ,\n    isSymbol          : isSymbol ,\n    isUnicode         : isUnicode ,\n    isUpper           : isUpper ,\n    isWhiteSpace      : isWhiteSpace ,\n    lineTerminators   : lineTerminators ,\n    operators         : operators ,\n    symbols           : symbols ,\n    whiteSpaces       : whiteSpaces\n}) ;","/*jshint bitwise:false*/\n\"use strict\" ;\n\n/**\n * Calculates the distance between two color number values.\n * @name distance\n * @memberof core.colors\n * @function\n * @instance\n * @param {number} color1 - The first color value.\n * @param {number} color2 - The second color value.\n * @example\n * trace( distance( 0xFFFFFF , 0x000000 ) ) ; // 195075\n * trace( distance( 0xFFFFFF , 0xFFEEFF ) ) ; // 289\n * trace( distance( 0xFF0000 , 0xFF0000 ) ) ; // 0\n * trace( distance( 0xFFFFFF , 0xFFFFFF ) ) ; // 0\n */\nexport var distance = ( color1 , color2 ) =>\n{\n    return Math.pow( (color1 >> 16 & 0xFF) - (color2 >> 16 & 0xFF) , 2 ) +\n           Math.pow( (color1 >> 8 & 0xFF)  - (color2 >> 8 & 0xFF)  , 2 ) +\n           Math.pow( (color1 & 0xFF)       - (color2 & 0xFF)       , 2 ) ;\n}","/*jshint bitwise:false*/\n\"use strict\" ;\n\n/**\n * Evaluates if two colors are similar with a specific tolerance ratio between 0 and 1.\n * @name equals\n * @memberof core.colors\n * @function\n * @instance\n * @param {number} color1 - The first color value.\n * @param {number} color2 - The second color value.\n * @param {number} [tolerance=0.01] - The tolerance ratio.\n * @return <code>true</code> if the two colors are similar.\n * @example\n * trace( equals( 0xFFFFFF , 0x000000 ) ) ; // false\n * trace( equals( 0xFF0000 , 0xFF0000 ) ) ; // true\n * trace( equals( 0xFFFFFF , 0xFFFFFF ) ) ; // true\n *\n * trace( equals( 0xFFFFFF , 0xFFEEFF ) ) ; // true\n * trace( equals( 0xFFFFFF , 0xFFEEFF , 0 ) ) ; // false\n * trace( equals( 0xFFFFFF , 0xFFEEFF , 1 ) ) ; // true\n */\nexport var equals = ( color1 , color2 , tolerance = 0.01 ) =>\n{\n    let dist = Math.pow( (color1 >> 16 & 0xFF) - (color2 >> 16 & 0xFF) , 2 ) +\n               Math.pow( (color1 >> 8 & 0xFF)  - (color2 >> 8 & 0xFF)  , 2 ) +\n               Math.pow( (color1 & 0xFF)       - (color2 & 0xFF)       , 2 ) ;\n    return dist <= ( tolerance * ( 255 * 255 * 3 ) << 0 ) ;\n}","/*jshint bitwise:false*/\n\"use strict\" ;\n\n/**\n * Creates a new color with the fading between two rgb numeric colors and a specific ratio.\n * @name fade\n * @memberof core.colors\n * @function\n * @instance\n * @param {number} from - The first color to interpolate.\n * @param {number} to - The second color to interpolate.\n * @param ratio The value between 0 and 1 to calculate the fading level.\n * @example <caption>Javascript example</caption>\n * \"use strict\" ;\n * window.onload = function()\n * {\n *     if( !vegas )\n *     {\n *         throw new Error(\"The VEGAS library is not found.\") ;\n *     }\n *\n *     // ----- imports\n *\n *     var global   = vegas.global ; // jshint ignore:line\n *     var trace    = vegas.trace  ; // jshint ignore:line\n *     var core     = vegas.core   ; // jshint ignore:line\n *     var system   = vegas.system ; // jshint ignore:line\n *     var graphics = vegas.graphics ; // jshint ignore:line\n *\n *     var fade  = core.colors.fade ;\n *     var toHex = core.colors.toHex ;\n *     var Point = graphics.geom.Point ;\n *\n *     // ----- initialize\n *\n *     var canvas  = document.getElementById('canvas') ;\n *     var context = canvas.getContext('2d');\n *\n *     canvas.width  = 800;\n *     canvas.height = 640;\n *\n *     var width  = canvas.width ;\n *     var height = canvas.height ;\n *\n *     var size = 40 ;\n *\n *     var ratio ;\n *     var rgb ;\n *     var color ;\n *\n *     var clear = function()\n *     {\n *         context.clearRect(0, 0, width, height);\n *         context.fillStyle = '#333333' ;\n *         context.fillRect(0, 0, width, height );\n *     }\n *\n *     var render = function( position , start , end , rows )\n *     {\n *         for( var i = 0 ; i < rows ; i++ )\n *         {\n *             ratio = i/(rows-1);\n *             color = fade( start , end, ratio ) ;\n *\n *             rgb = toHex( color ) ;\n *\n *             context.fillStyle = rgb ;\n *             context.fillRect( position.x + (i * size) , position.y , size , size );\n *\n *             trace( ratio + \" => value:\" + color + \" color:\" + rgb );\n *         }\n *     }\n *\n *     clear() ;\n *     render( new Point(25, 25) , 0x00FF00 , 0xFF0000 , 12 ) ;\n *     render( new Point(25, 75) , 0xFFFFFF , 0x000000 , 12 ) ;\n *     render( new Point(25,130) , 0x125D7F , 0xFFED5D , 12 ) ;\n *  }\n * @example <caption>HTML page</caption>\n * <!doctype html>\n * <html>\n * <head>\n *     <meta charset=\"UTF-8\">\n *     <title>Test core.colors.fade()</title>\n *     <style>\n *     body\n *     {\n *         margin: 0px;\n *         padding: 0px;\n *     }\n *     </style>\n * </head>\n * <body>\n *     <canvas id=\"canvas\" width=\"100%\" height=\"100%\"></canvas>\n *     <script src=\"./js/vegas.js\"></script>\n *     <script src=\"./js/fade.js\"></script>\n * </body>\n * </html>\n */\nexport var fade = ( from = 0 , to = 0xFFFFFF , ratio = 0 ) =>\n{\n    if( ratio <= 0 )\n    {\n        return from ;\n    }\n    else if( ratio >= 1 )\n    {\n        return to ;\n    }\n\n    let r = from >> 16 ;\n    let g = from >> 8 & 0xFF ;\n    let b = from & 0xFF ;\n\n    r += ( ( to >> 16       ) -r ) * ratio ;\n    g += ( ( to >> 8 & 0xFF ) -g ) * ratio ;\n    b += ( ( to      & 0xFF ) -b ) * ratio ;\n\n    return r<<16 | g<<8 | b ;\n}","\"use strict\" ;\n\nimport '../../polyfill/Uint32Array.js' ;\n\n/**\n * Determinates if the device big or little endian and detected if the browser supports TypedArrays.\n * @name isLittleEndian\n * @memberof core.maths\n * @instance\n * @function\n * @private\n */\nexport var isLittleEndian = () =>\n{\n    let a = new ArrayBuffer(4);\n    let b = new Uint8Array(a);\n    let c = new Uint32Array(a);\n\n    b[0] = 0xa1 ;\n    b[1] = 0xb2 ;\n    b[2] = 0xc3 ;\n    b[3] = 0xd4 ;\n\n    if ( c[0] === 0xd4c3b2a1 )\n    {\n        return true ;\n    }\n    if ( c[0] === 0xa1b2c3d4 )\n    {\n        return false ;\n    }\n    else\n    {\n        return null ;\n    }\n}\n\n/**\n * This constant indicates if the device big or little endian and detected if the browser supports TypedArrays.\n * @name littleEndian\n * @memberof core.maths\n * @instance\n * @const\n * @type boolean\n */\nexport const littleEndian = isLittleEndian() ;\n","/*jshint bitwise:false*/\n\"use strict\" ;\n\nimport { littleEndian } from '../maths/littleEndian.js' ;\n\nvar max = 0xFF ;\n\n/**\n * Calculates the ARGB hexadecimal color value with the fours respected passed-in a,r,g,b components (values between <code>0</code> and <code>255</code>).\n * @name fromARGB\n * @memberof core.colors\n * @function\n * @instance\n * @param {number} a - The alpha (transparency) integer component between <code>0</code> and <code>1</code>.\n * @param {number} r - The red integer component between <code>0</code> and <code>255</code> (<code>0xFF</code>).\n * @param {number} g - The green integer component between <code>0</code> and <code>255</code> (<code>0xFF</code>).\n * @param {number} b - The blue integer component between <code>0</code> and <code>255</code> (<code>0xFF</code>).\n * @example\n * trace( fromARGB(0.6,170,170,170) === 0x99AAAAAA ) ; // true\n */\nexport var fromARGB = ( a , r , g , b ) =>\n{\n    r = Math.min( Math.max( r , 0 ) , max ) ;\n    g = Math.min( Math.max( g , 0 ) , max ) ;\n    b = Math.min( Math.max( b , 0 ) , max ) ;\n\n    a = isNaN(a) ? 0 : a ;\n    a = 0xFF * Math.max( Math.min( a , 1 ) , 0 ) ;\n\n    return littleEndian ? ( (a << 24) | (b << 16) | (g <<  8) | r ) >>> 0\n                        : ( (r << 24) | (g << 16) | (b <<  8) | a ) >>> 0 ;\n}","/*jshint bitwise:false*/\n\"use strict\" ;\n\n/**\n * Extract the alpha part of an ARGB color (value between <code>0</code> and <code>255</code>).\n * @return The alpha part of an ARGB color (value between 0 and 255).\n * @name getAlpha\n * @memberof core.colors\n * @function\n * @instance\n * @param {number} color - The color value to evaluates.\n * @example\n * trace( getAlpha( 0xFFFFFFFF ) ) ; // 255\n * trace( getAlpha( 0xFF000000 ) ) ; // 255\n * trace( getAlpha( 0x00FFFFFF ) ) ; // 0\n */\nexport var getAlpha = ( color ) =>\n{\n    return (color >> 24) & 0xFF ;\n}","/*jshint bitwise:false*/\n\"use strict\" ;\n\n/**\n * Extract the blue part of an ARGB color (value between <code>0</code> and <code>255</code>).\n * @return The blue part of an ARGB color (value between 0 and 255).\n * @name getBlue\n * @memberof core.colors\n * @function\n * @instance\n * @param {number} color - The color value to evaluates.\n * @example\n * trace( getBlue( 0x0000FF ) ) ; // 255\n * trace( getBlue( 0xFFFF00 ) ) ; // 0\n * trace( getBlue( 0x000000 ) ) ; // 0\n */\nexport var getBlue = ( color ) =>\n{\n    return color & 0xFF ;\n}","/*jshint bitwise:false*/\n\"use strict\" ;\n\n/**\n * Extract the green part of an ARGB color (value between <code>0</code> and <code>255</code>).\n * @return The green part of an ARGB color (value between 0 and 255).\n * @name getGreen\n * @memberof core.colors\n * @function\n * @instance\n * @param {number} color - The color value to evaluates.\n * @example\n * trace( getGreen( 0x0000FF00 ) ) ; // 255\n * trace( getGreen( 0x00FF00 ) ) ; // 0\n * trace( getGreen( 0x000000 ) ) ; // 0\n */\nexport var getGreen = ( color ) =>\n{\n    return (color >> 8) & 0xFF ;\n}","/*jshint bitwise:false*/\n\"use strict\" ;\n\n/**\n * Extract the red part of an ARGB color (value between <code>0</code> and <code>255</code>).\n * @return The red part of an ARGB color (value between 0 and 255).\n * @name getRed\n * @memberof core.colors\n * @function\n * @instance\n * @param {number} color - The color value to evaluates.\n * @example\n * trace( getRed( 0x00FF0000 ) ) ; // 255\n * trace( getRed( 0xFF0000 ) ) ; // 0\n * trace( getRed( 0x000000 ) ) ; // 0\n */\nexport var getRed = ( color ) =>\n{\n    return (color >> 16) & 0xFF ;\n}","/*jshint bitwise:false*/\n\"use strict\" ;\n\n/**\n * Evaluates a given color to a set of colors and defines if this color is unique.\n * @name isUnique\n * @memberof core.colors\n * @function\n * @instance\n * @param {number} color The color to evaluate.\n * @param {Array} colors The vector of uint colors to compare the specific color value.\n * @param {number} [tolerance=0.01] - The tolerance of the algorythm.\n * @return True is the color is sufficiently unique.\n * @example\n * var colors = [ 0xFF0000 , 0x00FF00 , 0x0000FF , 0x000000 ] ;\n *\n * trace( isUnique( 0xFFFFFF , colors ) ) ; // true\n * trace( isUnique( 0xEEFFFF , colors ) ) ; // true\n *\n * trace( isUnique( 0xFF0000 , colors ) ) ; // false\n * trace( isUnique( 0xFE0000 , colors ) ) ; // false\n *\n * trace( isUnique( 0x00FF00 , colors ) ) ; // false\n * trace( isUnique( 0x0000FF , colors ) ) ; // false\n * trace( isUnique( 0x000000 , colors ) ) ; // false\n */\nexport var isUnique = ( color , colors , tolerance = 0.01 ) =>\n{\n    if( !(colors instanceof Array) || colors.length === 0 )\n    {\n        return true ;\n    }\n\n    tolerance = tolerance * ( 255 * 255 * 3 ) << 0 ;\n\n    let cur ;\n    let distance ;\n\n    let len = colors.length ;\n    for( let i = 0 ; i < len ; i++ )\n    {\n        cur = colors[i] ;\n        distance = Math.pow( (color >> 16 & 0xFF) - (cur >> 16 & 0xFF) , 2 ) +\n                   Math.pow( (color >> 8 & 0xFF)  - (cur >> 8 & 0xFF)  , 2 ) +\n                   Math.pow( (color & 0xFF)       - (cur & 0xFF)       , 2 ) ;\n\n        if( distance <= tolerance )\n        {\n            return false ;\n        }\n    }\n    return true ;\n}","/*jshint bitwise:false */\n\"use strict\" ;\n\n/**\n * Converts the specified uint value in a hexadecimal String representation.\n * @name toHex\n * @memberof core.colors\n * @function\n * @instance\n * @param {number} value - The value to format in an hexadecimal string expression.\n * @param {string} [prefix=#] - The string prefix of the final expression (default #).\n * @param {boolean} [upper=true] - Indicates if the string result is uppercase.\n * @example\n * trace( toHex( 0xFF0000 ) ) ; // #FF0000\n * trace( toHex( 0xFF0000 , '#' , false ) ) ; // #ff0000\n * trace( toHex( 0xFF0000 , '0x' ) ; // 0xFF0000\n * trace( toHex( 0xFF0000 , '' ) ) ; // FF0000\n * trace( toHex( 0xFF0000 , '' , false ) ) ; // ff0000\n */\nexport var toHex = ( value , prefix = '#' , upper = true ) =>\n{\n    if( !((Number(value) === value) && (value%1 === 0) && (value >= 0)) )\n    {\n        throw new TypeError( 'toHex failed, the value parameter must be an upper integer.' ) ;\n    }\n\n    prefix = (typeof(prefix) === 'string' || prefix instanceof String ) ? prefix : '#' ;\n    upper  = upper === true ;\n\n    let gb ;\n\n    let r = value >> 16 ; gb = value ^ r << 16 ;\n    let g = gb >> 8 ;\n    let b = gb^g << 8 ;\n\n    return prefix + hex( r , upper ) + hex( g , upper ) + hex( b , upper ) ;\n}\n\nexport function hex( value , upper = true )\n{\n    let hex = value.toString( 16 ) ;\n    hex = hex.length % 2 === 0 ? hex : \"0\" + hex ;\n    return upper ? hex.toUpperCase() : hex ;\n}","\"use strict\" ;\n\nimport { isUnique } from './isUnique.js' ;\n\n/**\n * Returns a set of unique colors up to a given maximum.\n * @name uniques\n * @memberof core.colors\n * @function\n * @instance\n * @param {Array} colors - The vector of uint colors to evaluates.\n * @param {number} maximum - The maximum length of the result set of color elements.\n * @param {number} [tolerance=0.01] - The tolerance of the algorythm.\n * @return {Array} A set of unique colors up to a given maximum.\n * @example\n * var colors = [0xFFFFFF,0xFFFFFE,0xFF0000,0xFFFFFF,0x000000,0xFF0000,0xFFFFFD] ;\n *\n * trace( colors ) ; // 16777215,16777214,16711680,16777215,0,16711680,16777213\n *\n * colors = uniques( colors ) ;\n *\n * trace( colors ) ; // 16777215,16711680,0\n */\nexport var uniques = ( colors , maximum = 0xFFFFFF , tolerance = 0.01 ) =>\n{\n    var result = [] ;\n\n    for ( let i = 0 ; i < colors.length && result.length < maximum ; i++ )\n    {\n        if ( isUnique( colors[i], result, tolerance ) )\n        {\n            result.push( colors[i] ) ;\n        }\n    }\n\n    return result;\n}","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { distance } from './colors/distance.js' ;\nimport { equals }   from './colors/equals.js' ;\nimport { fade }     from './colors/fade.js' ;\nimport { fromARGB } from './colors/fromARGB.js' ;\nimport { getAlpha } from './colors/getAlpha.js' ;\nimport { getBlue }  from './colors/getBlue.js' ;\nimport { getGreen } from './colors/getGreen.js' ;\nimport { getRed }   from './colors/getRed.js' ;\nimport { isUnique } from './colors/isUnique.js' ;\nimport { toHex }    from './colors/toHex.js' ;\nimport { uniques }  from './colors/uniques.js' ;\n\n/**\n * The {@link core.colors} package is a modular <b>JavaScript</b> library that provides extra <b>rgb color</b> methods.\n * @summary The {@link core.colors} package is a modular <b>JavaScript</b> library that provides extra <b>rgb color</b> methods.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace core.colors\n * @memberof core\n */\nexport var colors = Object.assign\n({\n    distance : distance ,\n    equals   : equals ,\n    fade     : fade ,\n    fromARGB : fromARGB ,\n    getAlpha : getAlpha ,\n    getBlue  : getBlue ,\n    getGreen : getGreen ,\n    getRed   : getRed ,\n    isUnique : isUnique ,\n    toHex    : toHex ,\n    uniques  : uniques\n}) ;","\"use strict\" ;\n\n/**\n * Constant field representing one day, in milliseconds.\n * @name ONE_DAY_MS\n * @memberof core.date\n * @instance\n * @const\n * @type number\n * @default 86400000\n */\nexport const ONE_DAY_MS = 86400000 ; // 1000*60*60*24\n","/*jshint node: true*/\n\"use strict\" ;\n\n/**\n * Indicates if the first date is <b>after</b> the second date.\n * @param {Date} date1 - The first date to evaluates.\n * @param {Date} date2 - The second date to evaluates.\n * @return <code>true</code> if the first date is after the second date.\n * @name after\n * @memberof core.date\n * @function\n * @instance\n * @throws TypeError The two date arguments must be a valid Date object.\n * @example\n * trace( after(new Date(2017,0,1),new Date(2016,0,1)) ) ; // true\n */\nexport var after = ( date1 , date2 ) =>\n{\n    if( !(date1 instanceof Date && date2 instanceof Date) )\n    {\n        throw new TypeError( 'after() failed, the passed-in date arguments must be valid Date objects.' ) ;\n    }\n    return date1.valueOf() > date2.valueOf() ;\n}","/*jshint node: true*/\n\"use strict\" ;\n\n/**\n * Indicates if the first date is <b>before</b> the second date.\n * @param {Date} date1 - The first date to evaluates.\n * @param {Date} date2 - The second date to evaluates.\n * @return <code>true</code> if the first date is before the second date.\n * @name after\n * @memberof core.date\n * @function\n * @instance\n * @throws TypeError The two date arguments must be a valid Date object.\n * @example\n * trace( before(new Date(2016,0,1),new Date(2017,0,1)) ) ; // true\n */\nexport var before = ( date1 , date2 ) =>\n{\n    if( !(date1 instanceof Date && date2 instanceof Date) )\n    {\n        throw new TypeError( 'after() failed, the passed-in date arguments must be valid Date objects.' ) ;\n    }\n    return date1.valueOf() < date2.valueOf() ;\n}","\"use strict\" ;\n\nconst monthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31] ;\n\n/**\n * Returns the numbers of days in a specified month.\n * @return The numbers of days in a specified month.\n * @name daysInMonth\n * @memberof core.date\n * @function\n * @instance\n * @param {Date} [date] - The date (or now) to search the number of days in a month.\n * @example\n * trace( daysInMonth(new Date(2016,0,1)) ) ; // 31\n * trace( daysInMonth(new Date(2016,1,1)) ) ; // 29\n * trace( daysInMonth(new Date(2017,0,1)) ) ; // 31\n */\nexport var daysInMonth = ( date = null ) =>\n{\n    if( !(date instanceof Date) )\n    {\n        date = new Date() ;\n    }\n\n    let y = date.getFullYear() ;\n    let m = date.getMonth() ;\n\n    if ( ( ( y%4 === 0 && y%100 !== 0 ) || y%400 === 0 ) && m === 1 )\n    {\n    \treturn 29 ;\n    }\n\n    return monthDays[m] ;\n}\n","\"use strict\" ;\n\nconst monthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31] ;\n\n/**\n * Indicates if the specified date is a <b>leap year</b> (also known as an intercalary year or a bissextile year) .\n * @param {Date|number} date - The date to evaluates or a number representing the year integer value representing the year (Value from 0 to 99 map to the years 1900 to 1999).\n * @return <code>true</code> if the specified date is a <b>leap year</b> .\n * @name leapYear\n * @memberof core.date\n * @function\n * @instance\n * @throws TypeError The date argument must be a valid Date object.\n * @example\n * trace( leapYear(2016) ) ; // true\n * trace( leapYear(new Date(2016,0,1)) ) ; // true\n *\n * trace( leapYear(2017) ) ; // false\n * trace( leapYear(new Date(2017,0,1)) ) ; // false\n */\nexport var leapYear = ( date ) =>\n{\n    let year ;\n    if( date instanceof Date )\n    {\n        year = date.getFullYear() ;\n    }\n    else if( date instanceof Number || typeof(date) === 'number' )\n    {\n        year = date ;\n    }\n    else\n    {\n        throw new TypeError( 'leapYear failed, the passed-in date argument must be a valid Date object or an integer representing the year to evaluates.' ) ;\n    }\n    return ((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0);\n}\n","\"use strict\" ;\n\nimport { ONE_DAY_MS } from './ONE_DAY_MS.js' ;\n\n/**\n * The <code>yesterday</code> new Date object.\n * @param {Date} [date] - The date to evaluates. If this argument is ommited the current Date is used.\n * @return The <code>yesterday</code> new Date object.\n * @name yesterday\n * @memberof core.date\n * @function\n * @instance\n * @example\n * trace( yesterday(new Date(2016,1,2)) ) ;\n */\nexport var yesterday = ( date = null ) =>\n{\n    date = (date instanceof Date) ? date : new Date() ;\n    return new Date( date.valueOf() - ONE_DAY_MS ) ;\n}","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { ONE_DAY_MS } from './date/ONE_DAY_MS.js' ;\n\nimport { after } from './date/after.js' ;\nimport { before } from './date/before.js' ;\nimport { daysInMonth } from './date/daysInMonth.js' ;\nimport { leapYear } from './date/leapYear.js' ;\nimport { yesterday } from './date/yesterday.js' ;\n\n/**\n * The {@link core.date} package is a modular <b>JavaScript</b> library that provides extra <code>Date</code> methods.\n * @summary The {@link core.date} package is a modular <b>JavaScript</b> library that provides extra <code>Date</code> methods.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace core.date\n * @memberof core\n */\nexport var date = Object.assign\n({\n    ONE_DAY_MS : ONE_DAY_MS ,\n\n    after : after ,\n    before : before ,\n    daysInMonth : daysInMonth ,\n    leapYear : leapYear,\n    yesterday : yesterday\n}) ;","\"use strict\" ;\n\n/**\n * Indicates if a value is a <code>Node</code> DOM object.\n * @name isDOMElement\n * @memberof core.dom\n * @function\n * @instance\n * @param {Object} value - The value to check.\n * @return <code>true</code> if the passed-in value is a <code>Node</code> DOM object.\n * @example\n * var div = document.createElement('div') ;\n * console.log( isDOMElement( div ) ) ;\n */\nexport var isDOMElement = ( value ) =>\n{\n    if( !value )\n    {\n        return false ;\n    }\n    try\n    {\n        return value instanceof Node ;\n    }\n    catch (e)\n    {\n        return false ;\n    }\n\n}","\"use strict\" ;\n\n/**\n * Indicates if a value is a DOM object.\n * @name isDomObject\n * @memberof core.dom\n * @function\n * @instance\n * @param {Object} value - The value to check.\n * @return <code>true</code> if the passed-in value is a DOM object and inherits the native EventTarget class.\n * @example\n * var div = document.createElement('div') ;\n * console.log( isDOMObject( div ) ) ;\n */\nexport var isDOMObject = ( value ) =>\n{\n    if( !value )\n    {\n        return false ;\n    }\n    try\n    {\n        return value instanceof EventTarget ;\n    }\n    catch (e)\n    {\n        return false ;\n    }\n\n}","\"use strict\" ;\n\n/**\n * Indicates if a value is an Element object in the DOM.\n * @name isElement\n * @memberof core.dom\n * @function\n * @instance\n * @param {Object} value - The value to check.\n * @return <code>true</code> if the passed-in value is an HTMLElement object.\n * @example\n * var div = document.createElement('div') ;\n * console.log( isElement( div ) ) ;\n */\nexport var isElement = ( value ) =>\n{\n    if( !value )\n    {\n        return false ;\n    }\n    try\n    {\n        return value instanceof Element;\n    }\n    catch (e)\n    {\n        return !!( value && typeof(obj) === \"object\" && ('nodeType' in value) && (value.nodeType === 1) && value.nodeName );\n    }\n\n}","\"use strict\" ;\n\n/**\n * Indicates if a value is an HTMLElement object in the DOM.\n * @name isHTMLElement\n * @memberof core.dom\n * @function\n * @instance\n * @param {Object} value - The value to check.\n * @return <code>true</code> if the passed-in value is an HTMLElement object.\n * @example\n * var div = document.createElement('div') ;\n * console.log( isHTMLElement( div ) ) ;\n */\nexport var isHTMLElement = ( value ) =>\n{\n    if( !value )\n    {\n        return false ;\n    }\n    if ( \"HTMLElement\" in window )\n    {\n        return (value && value instanceof HTMLElement);\n    }\n    return !!( value && typeof(obj) === \"object\" && ('nodeType' in value) && (value.nodeType === 1) && value.nodeName );\n}","\"use strict\" ;\n\n/**\n * Indicates if a value is a NodeList object.\n * @name isListObject\n * @memberof core.dom\n * @function\n * @instance\n * @param {Object} value - The value to check.\n * @return <code>true</code> if the passed-in value is a <code>NodeList</code> object.\n * @example\n * var list = document.getElementsByTagName(\"p\") ;\n * for ( var i = 0; i < list.length; i++)\n * {\n *     console.log( isListObject( list[i] ) ) ;\n * }\n */\nexport var isListObject = ( value ) =>\n{\n    if( !value )\n    {\n        return false ;\n    }\n    try\n    {\n        return value instanceof NodeList ;\n    }\n    catch (e)\n    {\n        return false ;\n    }\n}","\"use strict\" ;\n\n/**\n * Indicates if a value is an HTMLElement object in the DOM.\n * @name isSVGElement\n * @memberof core.dom\n * @function\n * @instance\n * @param {Object} value - The value to check.\n * @return <code>true</code> if the passed-in value is an HTMLElement object.\n * @example\n * var svg = document.createElementNS( \"http://www.w3.org/2000/svg\" , \"svg\" ) ;\n * console.log( isSVGElement( svg ) ) ;\n */\nexport var isSVGElement = ( value ) =>\n{\n    if( !value )\n    {\n        return false ;\n    }\n    if ( \"SVGElement\" in window )\n    {\n        return (value && value instanceof SVGElement);\n    }\n    return !!( value && typeof(obj) === \"object\" && ('nodeType' in value) && (value.nodeType === 1) && value.nodeName && value.xmlbase );\n}","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { isDOMElement }  from './dom/isDOMElement.js' ;\nimport { isDOMObject }   from './dom/isDOMObject.js' ;\nimport { isElement }     from './dom/isElement.js' ;\nimport { isHTMLElement } from './dom/isHTMLElement.js' ;\nimport { isListObject }  from './dom/isListObject.js' ;\nimport { isSVGElement }  from './dom/isSVGElement.js' ;\n\n/**\n * The {@link core.dom} package is a modular <b>JavaScript</b> library that provides extra <code>W3C DOM</code> methods.\n * @summary The {@link core.dom} package is a modular <b>JavaScript</b> library that provides extra <code>W3C DOM</code> methods.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace core.dom\n * @memberof core\n */\nexport var dom = Object.assign\n({\n    isDOMElement  : isDOMElement ,\n    isDOMObject   : isDOMObject ,\n    isElement     : isElement ,\n    isHTMLElement : isHTMLElement ,\n    isListObject  : isListObject ,\n    isSVGElement  : isSVGElement\n}) ;","\"use strict\" ;\n\n/**\n * The <code>backIn</code> function starts the motion by backtracking and then reversing direction and moving toward the target.\n * @name backIn\n * @memberof core.easings\n * @function\n * @instance\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @param {number} [s=1.70158] - Specifies the amount of overshoot, where the higher the value, the greater the overshoot.\n * @return {number} The value of the interpolated property at the specified time.\n */\nexport var backIn = ( t , b , c , d , s = 1.70158 ) =>\n{\n    if ( isNaN( s ) )\n    {\n        s = 1.70158 ;\n    }\n    return c * (t/=d) * t * ( (s+1) * t -  s) + b ;\n}\n","\"use strict\" ;\n\n/**\n * The <code>backInOut</code> method combines the motion of the <code>backIn</code> and <code>backOut</code> methods\n * @name backInOut\n * @memberof core.easings\n * @function\n * @instance\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @param {number} [s=1.70158] - Specifies the amount of overshoot, where the higher the value, the greater the overshoot.\n * @return The value of the interpolated property at the specified time.\n */\nexport var backInOut = ( t , b , c , d , s = 1.70158 ) =>\n{\n    if ( isNaN( s ) )\n    {\n        s = 1.70158 ;\n    }\n    if ((t/=d/2) < 1)\n    {\n        return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;\n    }\n    return c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;\n}\n","\"use strict\" ;\n\n/**\n * The <code>backIn</code> function starts the motion by moving towards the target, overshooting it slightly,\n * @name backOut\n * @memberof core.easings\n * @function\n * @instance\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @param {number} [s=1.70158] - Specifies the amount of overshoot, where the higher the value, the greater the overshoot.\n * @return The value of the interpolated property at the specified time.\n */\nexport var backOut = ( t , b , c , d , s = 1.70158 ) =>\n{\n    if ( isNaN( s ) )\n    {\n        s = 1.70158 ;\n    }\n    return c * ((t=t/d-1) * t * ((s+1) * t + s) + 1) + b;\n}","\"use strict\" ;\n\n/**\n * The <code>bounceOut</code> function starts the bounce motion fast and then decelerates motion as it executes.\n * @name bounceOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var bounceOut = ( t , b , c , d ) =>\n{\n    if ((t /= d) < (1 / 2.75))\n    {\n        return c * (7.5625 * t * t) + b;\n    }\n    else if (t < (2 / 2.75))\n    {\n        return c * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75) + b ;\n    }\n    else if (t < (2.5 / 2.75))\n    {\n        return c * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375) + b ;\n    }\n    else\n    {\n        return c * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375) + b ;\n    }\n}\n","\"use strict\" ;\n\nimport { bounceOut } from './bounceOut.js' ;\n\n/**\n * The <code>bounceIn</code> function starts the bounce motion slowly and then accelerates motion as it executes.\n * @name bounceIn\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var bounceIn = ( t , b , c , d ) =>\n{\n    return c - bounceOut( d - t , 0 , c , d ) + b ;\n}\n","\"use strict\" ;\n\nimport { bounceIn  } from './bounceIn.js' ;\nimport { bounceOut } from './bounceOut.js' ;\n\n/**\n * The <code>bounceInOut</code> function combines the motion of the <code>bounceIn</code> and <code>bounceOut</code> functions\n * @name bounceInOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var bounceInOut = ( t , b , c , d ) =>\n{\n    return (t < d/2) ? bounceIn(t * 2, 0, c, d) * 0.5 + b : bounceOut(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b ;\n}\n","\"use strict\" ;\n\n/**\n * The <code>circularIn</code> function starts motion from zero velocity and then accelerates motion as it executes.\n * @name circularIn\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var circularIn = ( t , b , c , d ) =>\n{\n    return -c * ( Math.sqrt(1 - ( t/=d ) * t ) - 1) + b ;\n}\n","\"use strict\" ;\n\n/**\n * The <code>circularInOut</code> function combines the motion of the circularIn and circularOut methods to start the motion from a zero velocity, accelerate motion, then decelerate to a zero velocity.\n * @name circularInOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var circularInOut = ( t , b , c , d ) =>\n{\n    if ((t/=d/2) < 1)\n    {\n        return -c/2 * (Math.sqrt(1 - t*t) - 1) + b ;\n    }\n    return c/2 * ( Math.sqrt (1 - ( t-=2 )* t ) + 1 ) + b ;\n}\n","\"use strict\" ;\n\n/**\n * The <code>circularOut</code> function starts motion fast and then decelerates motion to a zero velocity as it executes.\n * @name circularOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var circularOut = ( t , b , c , d ) => c * Math.sqrt( 1 - ( t = t/d-1) * t ) + b ;\n","\"use strict\" ;\n\n/**\n * The <code>cubicIn</code> function starts motion from zero velocity and then accelerates motion as it executes.\n * @name cubicIn\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var cubicIn = ( t , b , c , d ) => c * (t/=d) * t * t + b ;\n","\"use strict\" ;\n\n/**\n * The <code>cubicOut</code> function combines the motion of the <b>cubicIn</b> and <b>cubicOut</b> functions to start the motion from a zero velocity, accelerate motion, then decelerate to a zero velocity.\n * <p>A cubic equation is based on the power of three : <code>p(t) = t &#42; t &#42; t</code>.</p>\n * @name cubicInOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var cubicInOut = ( t , b , c , d ) =>\n{\n    if ((t/=d/2) < 1)\n    {\n        return c/2 * t* t* t + b ;\n    }\n    return c/2 * ( (t-=2) * t * t + 2 ) + b ;\n}\n","\"use strict\" ;\n\n/**\n * The <code>cubicOut</code> function starts motion fast and then decelerates motion to a zero velocity as it executes.\n * <p>A cubic equation is based on the power of three : <code>p(t) = t &#42; t &#42; t</code>.</p>\n * @name cubicOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var cubicOut = ( t , b , c , d ) => c * ( ( t = t/d-1 ) * t * t + 1 ) + b;\n","\"use strict\" ;\n\n/**\n * The <code>elasticIn</code> function starts motion from zero velocity and then accelerates motion as it executes.\n * @name elasticIn\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @param {number} [a=0] - Specifies the amplitude of the sine wave.\n * @param {number} [p=0] - Specifies the period of the sine wave.\n * @return The value of the interpolated property at the specified time.\n */\nexport var elasticIn = ( t , b , c , d , a = 0 , p = 0 ) =>\n{\n    var s ;\n\n    if ( t === 0 )\n    {\n        return b ;\n    }\n\n    if ((t/=d) === 1)\n    {\n        return b+c ;\n    }\n\n    if ( !(p) )\n    {\n        p = d * 0.3 ;\n    }\n\n    if ( !a || a < Math.abs(c) )\n    {\n        a = c   ;\n        s = p / 4 ;\n    }\n    else\n    {\n        s = p / ( 2 * Math.PI ) * Math.asin ( c/a ) ;\n    }\n\n    return -( a * Math.pow( 2 , 10 * ( t-=1 ) ) * Math.sin( ( t * d - s ) * ( 2 * Math.PI ) / p )) + b ;\n}\n","\"use strict\" ;\n\n/**\n * The <code>elasticInOut</code> function combines the motion of the elasticIn and elasticOut methods to start the motion from a zero velocity, accelerate motion, then decelerate to a zero velocity.\n * @name elasticInOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @param {number} [a=0] - Specifies the amplitude of the sine wave.\n * @param {number} [p=0] - Specifies the period of the sine wave.\n * @return The value of the interpolated property at the specified time.\n */\nexport var elasticInOut = ( t , b , c , d , a = 0 , p = 0 ) =>\n{\n    var s ;\n\n    if ( t === 0 )\n    {\n        return b;\n    }\n    if ( (t/=d/2) === 2 )\n    {\n        return b+c ;\n    }\n    if ( !(p) )\n    {\n        p = d*(0.3*1.5) ;\n    }\n    if (!a || a < Math.abs(c))\n    {\n        a = c ;\n        s = p / 4 ;\n    }\n    else\n    {\n        s = p / (2*Math.PI) * Math.asin (c/a) ;\n    }\n\n    if (t < 1)\n    {\n        return -0.5*(a*Math.pow(2,10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )) + b;\n    }\n\n    return a * Math.pow(2,-10*(t-=1)) * Math.sin( (t*d-s)*(2*Math.PI)/p )*0.5 + c + b ;\n}\n","\"use strict\" ;\n\n/**\n * The <code>elasticOut</code> function starts motion fast and then decelerates motion to a zero velocity as it executes.\n * @name elasticOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @param {number} [a=0] - Specifies the amplitude of the sine wave.\n * @param {number} [p=0] - Specifies the period of the sine wave.\n * @return The value of the interpolated property at the specified time.\n */\nexport var elasticOut = ( t , b , c , d , a = 0 , p = 0 ) =>\n{\n    var s ;\n\n    if ( t === 0 )\n    {\n        return b ;\n    }\n\n    if ( (t/=d) === 1 )\n    {\n        return b + c ;\n    }\n\n    if ( !p )\n    {\n        p = d * 0.3 ;\n    }\n    if ( !a || a < Math.abs(c) )\n    {\n        a = c   ;\n        s = p / 4 ;\n    }\n    else\n    {\n        s = p / (2*Math.PI) * Math.asin(c/a) ;\n    }\n\n    return (a*Math.pow(2,-10*t) * Math.sin( (t*d-s)*(2*Math.PI)/p ) + c + b) ;\n}\n","\"use strict\" ;\n\n/**\n * The <code>expoIn</code> function starts motion from zero velocity and then accelerates motion as it executes.\n * The exponential functions is based on the number 2 raised to a multiple of <b>10</b> : <code>p(t) = 2^10(t-1)</code>\n * @name expoIn\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var expoIn = ( t , b , c , d ) => ( t === 0 ) ? b : c * Math.pow( 2 , 10 * (t/d - 1) ) + b ;\n","\"use strict\" ;\n\n/**\n * The <code>expoInOut</code> function combines the motion of the expoIn and expoOut() methods to start the motion from a zero velocity, accelerate motion, then decelerate to a zero velocity.\n * The exponential functions is based on the number 2 raised to a multiple of <b>10</b> : <code>p(t) = 2^10(t-1)</code>\n * @name expoInOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var expoInOut = ( t , b , c , d ) =>\n{\n    if ( t === 0 )\n    {\n        return b ;\n    }\n    if ( t === d )\n    {\n        return b + c ;\n    }\n    if ( (t /= d/2 ) < 1 )\n    {\n        return c/2 * Math.pow(2, 10 * (t - 1)) + b ;\n    }\n    return c/2 * (-Math.pow(2, -10 * --t) + 2) + b ;\n}\n","\"use strict\" ;\n\n/**\n * The <code>expoOut</code> function starts motion fast and then decelerates motion to a zero velocity as it executes.\n * The exponential functions is based on the number 2 raised to a multiple of <b>10</b> : <code>p(t) = 2^10(t-1)</code>\n * @name expoOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var expoOut = ( t , b , c , d ) => ( t === d ) ? ( b + c ) : ( c * (-Math.pow(2, -10 * t/d) + 1) + b ) ;\n","\"use strict\" ;\n\n/**\n * The <code>linear</code> function starts a basic and linear motion.\n * @name linear\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var linear = ( t , b , c , d ) => ( c * t / d ) + b ;","\"use strict\" ;\n\n/**\n * The <code>quarticIn</code> function starts motion from zero velocity and then accelerates motion as it executes.\n * A quartic equation is based on the power of four : <code>p(t) = t &#42; t &#42; t &#42; t</code>\n * @name quarticIn\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var quarticIn = ( t , b , c , d ) => c * (t/=d) * t * t * t + b ;\n","\"use strict\" ;\n\n/**\n * The <code>quarticInOut</code> function combines the motion of the quarticIn and quarticOut methods to start the motion from a zero velocity, accelerate motion, then decelerate to a zero velocity.\n * A quartic equation is based on the power of four : <code>p(t) = t &#42; t &#42; t &#42; t</code>\n * @name quarticInOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var quarticInOut = ( t , b , c , d ) =>\n{\n    if ((t/=d/2) < 1)\n    {\n        return c/2 * t * t * t * t + b ;\n    }\n    return -c/2 * ( (t-=2) * t * t * t - 2 ) + b ;\n}\n","\"use strict\" ;\n\n/**\n * The <code>quarticOut</code> function starts motion fast and then decelerates motion to a zero velocity as it executes.\n * A quartic equation is based on the power of four : <code>p(t) = t &#42; t &#42; t &#42; t</code>\n * @name quarticOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var quarticOut = ( t , b , c , d ) => -c * ( ( t =t/d - 1) * t * t * t - 1) + b ;\n","\"use strict\" ;\n\n/**\n * The <code>quinticIn</code> function starts motion from zero velocity and then accelerates motion as it executes.\n * A quintic easing continues the upward trend, raises time to the fifth power : <code>p(t) = t &#42; t &#42; t &#42; t &#42; t</code>\n * @name quintic\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var quinticIn = ( t , b , c , d ) => c * (t/=d) * t * t * t * t + b ;\n","\"use strict\" ;\n\n/**\n * The <code>quinticInOut</code> function combines the motion of the quinticIn() and quinticOut() methods to start the motion from a zero velocity, accelerate motion, then decelerate to a zero velocity.\n * A quintic easing continues the upward trend, raises time to the fifth power : <code>p(t) = t &#42; t &#42; t &#42; t &#42; t</code>\n * @name quinticInOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var quinticInOut = ( t , b , c , d ) =>\n{\n    if ((t/=d/2) < 1)\n    {\n        return c/2 * t * t * t * t * t + b ;\n    }\n    return c/2 * ( (t-=2) * t * t * t * t + 2 ) + b ;\n};\n","\"use strict\" ;\n\n/**\n * The <code>quinticOut</code> function starts motion fast and then decelerates motion to a zero velocity as it executes.\n * A quintic easing continues the upward trend, raises time to the fifth power : <code>p(t) = t &#42; t &#42; t &#42; t &#42; t</code>\n * @name quinticOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var quinticOut = ( t , b , c , d ) => c * ( ( t = t/d-1 ) * t * t * t * t + 1 ) + b ;\n","\"use strict\" ;\n\n/**\n * The <code>regularIn</code> function starts motion from zero velocity and then accelerates motion as it executes.\n * @name regularIn\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var regularIn = ( t , b , c , d ) => c * (t/=d) * t + b ;\n","\"use strict\" ;\n\n/**\n * The <code>regularInOut</code> function combines the motion of the regularIn() and regularOut() methods to start the motion from a zero velocity, accelerate motion, then decelerate to a zero velocity.\n * @name regularInOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var regularInOut = ( t , b , c , d ) =>\n{\n    if ( (t/=d/2) < 1 )\n    {\n        return c/2 * t * t + b ;\n    }\n    return -c/2 * ( (--t) * ( t-2 ) - 1 ) + b ;\n}\n","\"use strict\" ;\n\n/**\n * The <code>regularOut</code> function starts motion fast and then decelerates motion to a zero velocity as it executes.\n * @name regularOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var regularOut = ( t , b , c , d ) => -c * ( t/=d ) * ( t-2 ) + b ;\n","\"use strict\" ;\n\n/**\n * The <code>sineIn</code> function starts motion from zero velocity and then accelerates motion as it executes.\n * <p>A sinusoidal equation is based on a sine or cosine function. Either one produces a sine wavea periodic oscillation of a specific shape.</p>\n * <p>This is the equation on which I based the easing curve : <code>p(t) = sin( t &#42; Math.PI / 2 )</code></p>\n * @name sineIn\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var sineIn = ( t , b , c , d ) => -c * Math.cos( t / d * ( Math.PI / 2 ) ) + c + b ;\n","\"use strict\" ;\n\n/**\n * The <code>sineInOut</code> function combines the motion of the sineIn() and sineOut() methods to start the motion from a zero velocity, accelerate motion, then decelerate to a zero velocity.\n * <p>A sinusoidal equation is based on a sine or cosine function. Either one produces a sine wavea periodic oscillation of a specific shape.</p>\n * <p>This is the equation on which I based the easing curve : <code>p(t) = sin( t &#42; Math.PI / 2 )</code></p>\n * @name sineInOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var sineInOut = ( t , b , c , d ) => -c/2 * ( Math.cos( Math.PI*t/d ) - 1 ) + b ;\n","\"use strict\" ;\n\n/**\n * The <code>sineOut</code> function starts motion fast and then decelerates motion to a zero velocity as it executes.\n * <p>A sinusoidal equation is based on a sine or cosine function. Either one produces a sine wavea periodic oscillation of a specific shape.</p>\n * <p>This is the equation on which I based the easing curve : <code>p(t) = sin( t &#42; Math.PI / 2 )</code></p>\n * @name sineOut\n * @function\n * @instance\n * @memberof core.easings\n * @param {number} t - Specifies the current time, between 0 and duration inclusive.\n * @param {number} b - Specifies the initial value of the animation property.\n * @param {number} c - Specifies the total change in the animation property.\n * @param {number} d - Specifies the duration of the motion.\n * @return The value of the interpolated property at the specified time.\n */\nexport var sineOut = ( t , b , c , d ) => c * Math.sin( t/d * ( Math.PI/2 ) ) + b ;\n","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { backIn }        from './easings/backIn.js' ;\nimport { backInOut }     from './easings/backInOut.js' ;\nimport { backOut }       from './easings/backOut.js' ;\nimport { bounceIn }      from './easings/bounceIn.js' ;\nimport { bounceInOut }   from './easings/bounceInOut.js' ;\nimport { bounceOut }     from './easings/bounceOut.js' ;\nimport { circularIn }    from './easings/circularIn.js' ;\nimport { circularInOut } from './easings/circularInOut.js' ;\nimport { circularOut }   from './easings/circularOut.js' ;\nimport { cubicIn }       from './easings/cubicIn.js' ;\nimport { cubicInOut }    from './easings/cubicInOut.js' ;\nimport { cubicOut }      from './easings/cubicOut.js' ;\nimport { elasticIn }     from './easings/elasticIn.js' ;\nimport { elasticInOut }  from './easings/elasticInOut.js' ;\nimport { elasticOut }    from './easings/elasticOut.js' ;\nimport { expoIn }        from './easings/expoIn.js' ;\nimport { expoInOut }     from './easings/expoInOut.js' ;\nimport { expoOut }       from './easings/expoOut.js' ;\nimport { linear }        from './easings/linear.js' ;\nimport { quarticIn }     from './easings/quarticIn.js' ;\nimport { quarticInOut }  from './easings/quarticInOut.js' ;\nimport { quarticOut }    from './easings/quarticOut.js' ;\nimport { quinticIn }     from './easings/quinticIn.js' ;\nimport { quinticInOut }  from './easings/quinticInOut.js' ;\nimport { quinticOut }    from './easings/quinticOut.js' ;\nimport { regularIn }     from './easings/regularIn.js' ;\nimport { regularInOut }  from './easings/regularInOut.js' ;\nimport { regularOut }    from './easings/regularOut.js' ;\nimport { sineIn }        from './easings/sineIn.js' ;\nimport { sineInOut }     from './easings/sineInOut.js' ;\nimport { sineOut }       from './easings/sineOut.js' ;\n\n/**\n * The {@link system.transitions} package use the {@link core.easings} library who contains all the easing functions to create the specific <b>tweening</b> effects.\n * <p>These easings functions provide different flavors of math-based motion under a consistent API.</p>\n *\n * |  easing   |                         description                         |  in  | out  | inout  |\n * |:--------: |:----------------------------------------------------------: |:---: |:---: |:-----: |\n * |  linear   | simple linear tweening : no easing, no acceleration         |  -   |  -   |   -    |\n * |   back    | back easing : overshooting cubic easing: (s+1)*t^3 - s*t^2  | yes  | yes  |  yes   |\n * |  bounce   | bounce easing : exponentially decaying parabolic bounce     | yes  | yes  |  yes   |\n * | circular  | circular easing : sqrt(1-t^2)                               | yes  | yes  |  yes   |\n * |   cubic   | cubic easing : t^3                                          | yes  | yes  |  yes   |\n * |  elastic  | elastic easing : exponentially decaying sine wave           | yes  | yes  |  yes   |\n * |   expo    | exponential easing : 2^t                                    | yes  | yes  |  yes   |\n * |   quad    | quadratic easing : t^2                                      | yes  | yes  | yes    |\n * |  quartic  | quartic easing : t^4                                        | yes  | yes  |  yes   |\n * |  quintic  | quintic easing : t^5                                        | yes  | yes  |  yes   |\n * |  regular  | regular easing                                              | yes  | yes  |  yes   |\n * |   sine    | sinusoidal easing : sin(t)                                  | yes  | yes  |  yes   |\n * @summary The {@link core.easings} library contains all the easing functions to create the specific tweening effects.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @namespace core.easings\n * @memberof core\n * @tutorial system.transitions\n * @see {@link system.transitions|system.transition library}\n */\nexport var easings = Object.assign\n({\n    backIn        : backIn ,\n    backInOut     : backInOut ,\n    backOut       : backOut ,\n    bounceIn      : bounceIn ,\n    bounceInOut   : bounceInOut ,\n    bounceOut     : bounceOut ,\n    circularIn    : circularIn ,\n    circularInOut : circularInOut ,\n    circularOut   : circularOut ,\n    cubicIn       : cubicIn ,\n    cubicInOut    : cubicInOut ,\n    cubicOut      : cubicOut ,\n    elasticIn     : elasticIn ,\n    elasticInOut  : elasticInOut ,\n    elasticOut    : elasticOut ,\n    expoIn        : expoIn ,\n    expoInOut     : expoInOut ,\n    expoOut       : expoOut ,\n    linear        : linear,\n    quarticIn     : quarticIn ,\n    quarticInOut  : quarticInOut ,\n    quarticOut    : quarticOut,\n    quinticIn     : quinticIn,\n    quinticInOut  : quinticInOut,\n    quinticOut    : quinticOut,\n    regularIn     : regularIn,\n    regularInOut  : regularInOut,\n    regularOut    : regularOut,\n    sineIn        : sineIn,\n    sineInOut     : sineInOut,\n    sineOut       : sineOut\n}) ;","\"use strict\" ;\n\n/**\n * Creates a Function who execute a specific function between two others.\n * @name aop\n * @memberof core.functors\n * @function\n * @instance\n * @example\n * var scope = { toString : function() { return \"scope\" ; } } ;\n *\n * var sum = function(x, y)\n * {\n *     console.info( this + \" calculating...\")\n *     return x + y;\n * }\n *\n * function begin()\n * {\n *     trace(\"--- begin\");\n * }\n *\n * function end()\n * {\n *     trace(\"--- end\");\n * }\n *\n * var result = aop(sum, begin, end, scope)(3, 5) ;\n *\n * console.log( result ) ;\n * @param {Function} func - The function to invoke.\n * @param {Function} begin - The function to invoke before the main function.\n * @param {Function} end - The function to invoke after the main function.\n * @param {Object} scope - The scope of the function to invoke after the main function.\n * @return {Function} The new function with the aop merging.\n */\nexport var aop = ( func , begin = null , end = null , scope = null ) =>\n{\n    return function( ...args )\n    {\n        try\n        {\n            if( begin !== null && begin instanceof Function )\n            {\n                begin();\n            }\n            return func.apply( scope , args );\n        }\n        finally\n        {\n            if( end !== null && end instanceof Function )\n            {\n                end();\n            }\n        }\n    }\n}","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { aop } from './functors/aop.js' ;\n\n/**\n * The {@link core.functors} package is a modular <b>JavaScript</b> library that provides extra <code>Function</code> methods.\n * @summary The {@link core.functors} package is a modular <b>JavaScript</b> library that provides extra <code>Function</code> methods.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace core.functors\n * @memberof core\n */\nexport var functors = Object.assign\n({\n    aop : aop\n}) ;","\"use strict\" ;\n\n/**\n * This constant change radians to degrees : <code>180/Math.PI</code>.\n * @name RAD2DEG\n * @memberof core.maths\n * @const\n * @instance\n */\nexport const RAD2DEG = 180 / Math.PI ;\n","\"use strict\" ;\n\nimport { RAD2DEG } from './RAD2DEG.js' ;\n\n/**\n * Returns the inverse cosine of a slope ratio and returns its angle in degrees.\n * @name acosD\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} ratio - A value between -1 and 1 inclusive.\n * @return the inverse cosine of a slope ratio and returns its angle in degrees.\n */\nexport var acosD = ( ratio ) => Math.acos( ratio ) * RAD2DEG ;\n","\"use strict\" ;\n\n/**\n * Anti-hyperbolic cosine : <code>acoshm = ln(x-(x^2-1))</code>\n * @name acosHm\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} x - A value to calculate the Anti-hyperbolic cosine.\n */\nexport var acosHm = ( x ) => Math.log( x - Math.sqrt( x * x - 1 ) );","\"use strict\" ;\n\n/**\n * Anti-hyperbolic cosine.\n * <pre>\n * acoshp = ln(x+(x^2-1))\n * </pre>\n * @name acosHp\n * @memberof core.maths\n * @function\n * @instance\n */\nexport var acosHp = ( x ) => Math.log(x + Math.sqrt(x * x - 1));","\"use strict\" ;\n\nimport { RAD2DEG } from './RAD2DEG.js' ;\n\n/**\n * Returns the angle in degrees between 2 points with this coordinates passed in argument.\n * @name angleOfLine\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} x1 - The x coordinate of the first point.\n * @param {number} y1 - The y coordinate of the first point.\n * @param {number} x2 - The x coordinate of the second point.\n * @param {number} y2 - The y coordinate of the second point.\n * @return the angle in degrees between 2 points with this coordinates passed in argument.\n */\nexport var angleOfLine = ( x1 , y1 , x2 , y2 ) => Math.atan2( y2 - y1 , x2 - x1 ) * RAD2DEG ;\n","\"use strict\" ;\n\nimport { RAD2DEG } from './RAD2DEG.js' ;\n\n/**\n * Calculates the arcsine of the passed angle.\n * @name asinD\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} ratio - A value between <code>-1</code> and <code>1</code> inclusive.\n * @return the arcsine of the passed angle in degrees.\n */\nexport var asinD = ( ratio ) => Math.asin(ratio) * RAD2DEG ;\n","\"use strict\" ;\n\n/**\n * Anti-hyperbolic sine.\n * @name asinH\n * @memberof core.maths\n * @function\n * @instance\n */\nexport var asinH = ( x ) => Math.log( x + Math.sqrt(x * x + 1) );","\"use strict\" ;\n\nimport { RAD2DEG } from './RAD2DEG.js' ;\n\n/**\n * Calculates the arctangent2 of the passed angle.\n * @name atan2D\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} y - A value representing y-axis of angle vector.\n * @param {number} x - A value representing x-axis of angle vector.\n * @return the arctangent2 of the passed angle.\n */\nexport var atan2D = ( y , x ) => Math.atan2( y , x ) * RAD2DEG ;","\"use strict\" ;\n\nimport { RAD2DEG } from './RAD2DEG.js' ;\n\n/**\n * Calculates the arctangent of the passed angle.\n * @name atanD\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} angle - A real number\n * @return the arctangent of the passed angle, a number between <code>-Math.PI/2</code> and <code>Math.PI/2</code> inclusive.\n */\nexport var atanD = ( angle ) => Math.atan( angle ) * RAD2DEG ;","\"use strict\" ;\n\n/**\n * Anti-hyperbolic tangent.\n * @name atanH\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} x - A real number\n * @return the Anti-hyperbolic tangent of the passed angle.\n */\nexport var atanH = ( x ) => Math.log( ( 1 + x ) / ( 1 - x ) ) / 2 ;\n","\"use strict\" ;\n\n/**\n * This constant change degrees to radians : <code>Math.PI/180</code>.\n * @name DEG2RAD\n * @memberof core.maths\n * @instance\n * @const\n */\nexport const DEG2RAD = Math.PI / 180 ;\n","\"use strict\" ;\n\nimport { DEG2RAD } from './DEG2RAD.js' ;\nimport { RAD2DEG } from './RAD2DEG.js' ;\n\n/**\n * Calculates the initial bearing (sometimes referred to as forward azimuth) which if followed in a straight line along a great-circle arc will take you from the start point to the end point (in degrees).\n * @name bearing\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} latitude1 - The first latitude coordinate.\n * @param {number} longitude1 - The first longitude coordinate.\n * @param {number} latitude2 - The second latitude coordinate.\n * @param {number} longitude2 - The second longitude coordinate.\n * @return The bearing in degrees from North.\n * @example\n * var position1 = { x : 37.422045 , y : -122.084347 } ; // Google HQ\n * var position2 = { x :  37.77493 , y : -122.419416 } ; // San Francisco, CA\n * trace( bearing( position1.x , position1.y , position2.x , position2.y ) ) ; // 323.1477743368166\n */\nexport var bearing = ( latitude1, longitude1, latitude2, longitude2 ) =>\n{\n    latitude1 = latitude1 * DEG2RAD ;\n    latitude2 = latitude2 * DEG2RAD ;\n\n    var dLng = ( longitude2 - longitude1 ) * DEG2RAD ;\n\n    var y = Math.sin( dLng ) * Math.cos( latitude2 ) ;\n    var x = Math.cos( latitude1 )*Math.sin( latitude2 ) - Math.sin( latitude1 ) * Math.cos( latitude2 ) * Math.cos( dLng ) ;\n\n    return ((Math.atan2(y, x)) * RAD2DEG + 360) % 360 ;\n}\n","\"use strict\" ;\n\n/**\n * Bounds a numeric value between 2 numbers.\n * @name clamp\n * @memberof core.maths\n * @function\n * @instance\n * @example\n * var n ;\n *\n * n = core.maths.clamp(4, 5, 10) ;\n * trace (\"n : \" + n) ; // 5\n *\n * n = core.maths.clamp(12, 5, 10) ;\n * trace (\"n : \" + n) ; // 10\n *\n * n = core.maths.clamp(6, 5, 10) ;\n * trace (\"n : \" + n) ; // 5\n *\n * n = core.maths.clamp(NaN, 5, 10) ;\n * trace (\"n : \" + n) ; // NaN\n * @param {number} value - The value to clamp.\n * @param {number} min - The min value of the range.\n * @param {number} max - The max value of the range.\n * @return a bound numeric value between 2 numbers.\n */\nexport var clamp = ( value , min , max ) =>\n{\n    if ( isNaN( value ) )\n    {\n        return NaN ;\n    }\n    if ( isNaN( min ) )\n    {\n        min = value ;\n    }\n    if ( isNaN( max ) )\n    {\n        max = value ;\n    }\n    return Math.max( Math.min( value, max ), min ) ;\n}\n","\"use strict\" ;\n\nimport { clamp } from './clamp.js' ;\n\n/**\n * Short for 'boing-like interpolation', this method will first overshoot, then waver back and forth around the end value before coming to a rest.\n * @name berp\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} start - The begining value.\n * @param {number} end - The ending value.\n * @param {number} amount - The amount to interpolate between the two values where 0.0 equal to the first point, 0.1 is very near the first point, 0.5 is half-way in between, etc.\n * @return The interpolated value between two numbers at a specific increment.\n * @example\n * trace( berp( 0 , 100 , 0.5 ) ; // 105.1015801865505\n */\nexport var berp = ( start , end , amount ) =>\n{\n    if ( start === end )\n    {\n        return start ;\n    }\n    amount = clamp( amount , 0 , 1 ) ;\n    amount = ( Math.sin( amount * Math.PI * ( 0.2 + 2.5 * amount * amount * amount ) ) * Math.pow( 1 - amount , 2.2 ) + amount ) * ( 1 + ( 1.2 * ( 1 - amount ) ) ) ;\n    return start + ( end - start ) * amount ;\n}\n","\"use strict\" ;\n\n/**\n * Returns a value between 0 and 1 that can be used to easily make bouncing GUI items (a la OS X's Dock)\n * @name bounce\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} amount - The amount to bounce a value between 0 and 1.\n * @return a value between <code>0</code> and <code>1</code> that can be used to easily make bouncing GUI items (a la OS X's Dock)\n * @example\n * trace( bounce( 0.5 ) ) ;\n */\nexport var bounce = ( amount ) => Math.abs( Math.sin( 6.28 * ( amount + 1 ) * ( amount + 1 ) ) * ( 1 - amount ) ) ;","\"use strict\" ;\n\nimport { RAD2DEG } from './RAD2DEG.js' ;\n\n/**\n * Converts a vector in cartesian in a polar vector. Return a generic object with the properties angle and radius.\n * @name cartesianToPolar\n * @memberof core.maths\n * @function\n * @instance\n * @param {graphics.geom.Vector2|graphics.geom.Point|Objectj} vector - The cartesian vector to transform.\n * @param {boolean} degrees - Indicates if the angle attribute in the return polar object is in degrees or not (default this parameter is false).\n * @return a vector in cartesian in a polar vector.\n */\nexport var cartesianToPolar = ( vector , degrees ) => ( { angle : Math.atan2(vector.y,vector.x) * ( Boolean(degrees) ? RAD2DEG : 1 ) , radius : Math.sqrt(vector.x*vector.x+vector.y*vector.y) } ) ;","\"use strict\" ;\n\n/**\n * Rounds and returns the ceiling of the specified number or expression.\n * The ceiling of a number is the closest integer that is greater than or equal to the number.\n * @name ceil\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} n - The number to round.\n * @param {number} [floatCount=0] the count of number after the point.\n * @return the ceil value of a number by a count of floating points.\n * @example\n * trace(ceil(4.572525153, 2)) ; 4.58\n * trace(ceil(4.572525153, -1)) ; // 5\n */\nexport function ceil( n , floatCount = 0 )\n{\n    if (isNaN( n ))\n    {\n        return NaN ;\n    }\n    var r = 1 ;\n    var i = - 1 ;\n    while (++ i < floatCount)\n    {\n        r *= 10 ;\n    }\n    return Math.ceil( n * r ) / r  ;\n}\n","\"use strict\" ;\n\n/**\n * Circular Lerp is like lerp but handles the wraparound from 0 to 360.\n * This is useful when interpolating eulerAngles and the object crosses the 0/360 boundary.\n * The standard Lerp function causes the object to rotate in the wrong direction and looks stupid, clerp() fixes that.\n * @name clerp\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} start - The begining value.\n * @param {number} end - The ending value.\n * @param {number} amount - The amount to interpolate between the two values where 0.0 equal to the first point, 0.1 is very near the first point, 0.5 is half-way in between, etc.\n * @return The interpolated value between two numbers at a specific increment.\n * @example\n * trace( clerp( 0 , 180 , 0.5 ) ; // 90\n */\nexport var clerp = ( start , end , amount ) =>\n{\n    let max  = 360 ;\n    let half = 180 ; // abs((360-0)/2) == abs(max-min)/2\n    let diff = end - start ;\n    if ( diff < -half )\n    {\n        return start + ( ( max - start ) + end ) * amount ;\n    }\n    else if ( diff > half )\n    {\n        return start - ( ( max - end ) + start ) * amount ;\n    }\n    else\n    {\n        return start + ( end - start ) * amount ;\n    }\n}\n","\"use strict\" ;\n\nimport { DEG2RAD } from './DEG2RAD.js' ;\n\n/**\n * Calculates the cosine of the passed angle.\n * @name cosD\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} angle - A value representing angle in degrees.\n * @return the cosine of the passed angle, a number between -1 and 1 inclusive.\n */\nexport var cosD = ( angle ) => Math.cos( angle * DEG2RAD ) ;\n","\"use strict\" ;\n\n/**\n * Short for 'cosinusoidal interpolation', this method will interpolate while easing around the end, when value is near one.\n * @name coserp\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} start - The begining value.\n * @param {number} end - The ending value.\n * @param {number} amount - The amount to interpolate between the two values where 0.0 equal to the first point, 0.1 is very near the first point, 0.5 is half-way in between, etc.\n * @return The interpolated value between two numbers at a specific increment.\n * @example\n * trace( coserp( 0 , 100 , 0.5 ) ; // 29.28932188134524\n */\nexport var coserp = ( start , end , amount ) =>\n{\n    if ( start === end )\n    {\n        return start ;\n    }\n    amount = 1 - Math.cos( amount * Math.PI * 0.5 ) ;\n    return ( ( 1 - amount ) * start ) + ( amount * end ) ;\n}\n","\"use strict\" ;\n\n/**\n * Hyperbolic cosine.\n * @name cosH\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} x - A value to calculate the Hyperbolic cosine.\n */\nexport var cosH = ( x ) => ( Math.exp(x) + Math.exp(-x) ) / 2 ;","\"use strict\" ;\n\nimport { DEG2RAD } from './DEG2RAD.js' ;\n\n/**\n * Converts degrees to radians.\n * @name degreesToRadians\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} angle - Value, in degrees, to convert to radians.\n * @return The angle in radians.\n */\nexport var degreesToRadians = ( angle ) => angle * DEG2RAD ;","\"use strict\" ;\n\n/**\n * Calculates the distance between 2 points.\n * @name distance\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} x1 - The x coordinate of the first point.\n * @param {number} y1 - The y coordinate of the first point.\n * @param {number} x2 - The x coordinate of the second point.\n * @param {number} y2 - The y coordinate of the second point.\n * @return the length between 2 points.\n */\nexport var distance = ( x1 , y1 , x2 , y2 ) =>\n{\n    var dx = x2 - x1 ;\n    var dy = y2 - y1 ;\n    return Math.sqrt( dx * dx + dy * dy ) ;\n}\n","\"use strict\" ;\n\n/**\n * Returns the distance between 2 points with the coordinates of the 2 points.\n * @name distanceByObject\n * @memberof core.maths\n * @function\n * @instance\n * @param {graphics.geom.Vector2|graphics.geom.Point|Object} p1 the first point to determinate the distance (defines with the x and y coordinates).\n * @param {graphics.geom.Vector2|graphics.geom.Point|Object} p2 the second point to determinate the distance (defines with the x and y coordinates).\n * @return the length between 2 points.\n */\nexport function distanceByObject( p1 , p2 )\n{\n    let dx = p2.x - p1.x ;\n    let dy = p2.y - p1.y ;\n    return Math.sqrt( ( dx * dx ) + ( dy * dy ) ) ;\n}\n","\"use strict\" ;\n\n/**\n * This constant defines the radius of the earth in meter : <code>6371 km</code>.\n * @name EARTH_RADIUS_IN_METERS\n * @memberof core.maths\n * @instance\n * @const\n */\nexport const EARTH_RADIUS_IN_METERS = 6371000 ;\n","\"use strict\" ;\n\n/**\n * Represents the smallest positive Single value greater than zero, <code>EPSILON=0.000000001</code>.\n * @name EPSILON\n * @memberof core.maths\n * @instance\n * @const\n */\nexport const EPSILON = 0.000000001;\n","\"use strict\" ;\n\n/**\n * Calculates with the product of all positive integers less than or equal to <code>value</code>.\n * @name factorial\n * @memberof core.maths\n * @instance\n * @function\n * @param {number} value - The positive integer to limit the factorial equation.\n * @return The product of all positive integers less than or equal to <code>value</code>.\n * @example\n * trace( factorial( 0 ) ) ; // 1\n * trace( factorial( 1 ) ) ; // 1\n * trace( factorial( 2 ) ) ; // 2\n * trace( factorial( 3 ) ) ; // 6\n * trace( factorial( 4 ) ) ; // 24\n */\nexport var factorial = ( value ) =>\n{\n    if( value === 0 )\n    {\n        return 1 ;\n    }\n\n    let result = value ;\n\n    while (--value)\n    {\n        result *= value ;\n    }\n\n    return result ;\n}\n","\"use strict\" ;\n\n/**\n * Calculates with the fibonacci sequence the value with a specific level.\n * By definition, the first two numbers in the Fibonacci sequence are 0 and 1, and each subsequent number is the sum of the previous two.\n * @name fibonacci\n * @memberof core.maths\n * @instance\n * @function\n */\nexport var fibonacci = ( value ) =>\n{\n    let i = 1 ;\n    let j = 0 ;\n    for( let k = 1 ; k <= value ; k++ )\n    {\n        [i,j] = [j,i+j] ;\n    }\n    return j ;\n}\n","\"use strict\" ;\n\nimport { DEG2RAD } from './DEG2RAD.js' ;\nimport { RAD2DEG } from './RAD2DEG.js' ;\n\n/**\n * Calculates the final bearing from a specific points to a supplied point, in degrees. For final bearing, simply take the initial bearing from the end point to the start point and reverse it (using  = (+180) % 360).\n * @name finalBearing\n * @memberof core.maths\n * @function\n * @instance\n * @example\n * var position1 = new Point( 37.422045 , -122.084347 ) ; // Google HQ\n * var position2 = new Point( 37.77493  , -122.419416 ) ; // San Francisco, CA\n * trace( finalBearing( position1.x , position1.y , position2.x , position2.y ) ) ; // 143.1477743368166\n * @param {number} latitude1 - The first latitude coordinate.\n * @param {number} longitude1 - The first longitude coordinate.\n * @param {number} latitude2 - The second latitude coordinate.\n * @param {number} longitude2 - The second longitude coordinate.\n * @return The bearing in degrees from North.\n */\nexport var finalBearing = ( latitude1, longitude1, latitude2, longitude2 ) =>\n{\n    latitude1 = latitude1 * DEG2RAD ;\n    latitude2 = latitude2 * DEG2RAD ;\n\n    let dLng = ( longitude2 - longitude1 ) * DEG2RAD ;\n\n    let y = Math.sin( dLng ) * Math.cos( latitude2 ) ;\n    let x = Math.cos( latitude1 ) * Math.sin( latitude2 ) - Math.sin( latitude1 ) * Math.cos( latitude2 ) * Math.cos( dLng ) ;\n\n    return ((Math.atan2(y, x)) * RAD2DEG + 180) % 360 ;\n}\n","\"use strict\" ;\n\n/**\n * Fixs an angle in degrees between 0 and 360 degrees.\n * @name fixAngle\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} angle - The passed angle value.\n * @return an angle fixed between 0 and 360 degrees.\n */\nexport function fixAngle( angle )\n{\n    if ( isNaN(angle) )\n    {\n        angle = 0 ;\n    }\n\n    angle %= 360 ;\n\n    return ( angle < 0 ) ? ( angle + 360 ) : angle ;\n}\n","\"use strict\" ;\n\n/**\n * Rounds and returns a number by a count of floating points.\n * @name floor\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} n - The number to round.\n * @param {number} [floatCount=0] the count of number after the point.\n * @return the floor value of a number by a count of floating points.\n * @example\n * trace(floor(4.572525153, 2)) ; // 4.57\n * trace(floor(4.572525153, -1)) ; // 4\n */\nexport var floor = ( n , floatCount = 0 ) =>\n{\n    if (isNaN( n ))\n    {\n        return NaN ;\n    }\n    var r = 1 ;\n    var i = - 1 ;\n    while (++ i < floatCount)\n    {\n        r *= 10 ;\n    }\n    return Math.floor( n * r ) / r  ;\n}\n","\"use strict\" ;\n\n/**\n * Indicates the greatest common divisor of two values with the Euclidean algorithm.\n * @name gcd\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} i1 - The first integer value.\n * @param {number} i2 - The second integer value.\n * @return the greatest common divisor with the Euclidean algorithm.\n * @example\n * trace(\"gcd(320,240) : \" + gcd(320,240) ) ; // gcd(320,240) : 80\n */\nexport var gcd = ( i1 , i2 ) =>\n{\n    if ( i2 === 0 )\n    {\n        return i1 ;\n    }\n    else if ( i1 === i2 )\n    {\n        return i1 ;\n    }\n    else\n    {\n        var t  ;\n        while( i2 !== 0 )\n        {\n            t  = i2 ;\n            i2 = i1 % i2 ;\n            i1 = t ;\n        }\n        return i1 ;\n    }\n}\n\n","\"use strict\" ;\n\nimport { DEG2RAD } from './DEG2RAD.js' ;\nimport { EARTH_RADIUS_IN_METERS } from './EARTH_RADIUS_IN_METERS.js' ;\n\n/**\n * The haversine formula is an equation important in navigation, giving great-circle distances between two points on a sphere from their longitudes and latitudes.\n * This algorithm is way faster than the <a href=\"https://en.wikipedia.org/wiki/Vincenty%27s_formulae\">Vincenty Formula</a> but less accurate.\n * @name haversine\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} latitude1 - The first latitude coordinate.\n * @param {number} longitude1 - The first longitude coordinate.\n * @param {number} latitude2 - The second latitude coordinate.\n * @param {number} longitude2 - The second longitude coordinate.\n * @param {number} [radius={@link core.maths.EARTH_RADIUS_IN_METERS}] - The optional radius of the sphere (by default the function use the earth's radius, mean radius = 6,371km) .\n * @return The distance between two points on a sphere from their longitudes and latitudes.\n * @see core.maths.EARTH_RADIUS_IN_METERS\n * @example\n * var position1 = { x : 37.422045 , y : -122.084347  } ; // Google HQ\n * var position2 = { x : 37.77493  , y : -122.419416 } ; // San Francisco, CA\n * trace( haversine( position1.x , position1.y , position2.x , position2.y ) ) ; // 49 103.007 meters\n */\nexport var haversine = ( latitude1, longitude1, latitude2, longitude2 , radius = EARTH_RADIUS_IN_METERS ) =>\n{\n    if( isNaN(radius) )\n    {\n        radius = EARTH_RADIUS_IN_METERS ;\n    }\n\n    let dLat = ( latitude2  - latitude1  ) * DEG2RAD;\n    let dLng = ( longitude2 - longitude1 ) * DEG2RAD;\n\n    let a = Math.sin( dLat * 0.5 ) * Math.sin( dLat * 0.5 ) + Math.cos( latitude1 * DEG2RAD ) * Math.cos( latitude2 * DEG2RAD ) * Math.sin( dLng/2 ) * Math.sin( dLng/2 );\n    let c = Number ( ( ( 2 * Math.atan2( Math.sqrt(a) , Math.sqrt(1-a) ) ) * radius ).toFixed(3) ) ;\n\n    return ( c === c ) ? c : 0 ;\n}\n","\"use strict\" ;\n\n/**\n * This method will interpolate while easing in and out at the limits.\n * @name hermite\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} start the begining value.\n * @param {number} end The ending value.\n * @param {number} amount The amount to interpolate between the two values where 0.0 equal to the first point, 0.1 is very near the first point, 0.5 is half-way in between, etc.\n * @return The interpolated value between two numbers at a specific increment.\n * @example\n * trace( hermite( 0 , 100 , 0.5 ) ; // 50\n */\nexport var hermite = ( start , end , amount ) =>\n{\n    if ( start === end )\n    {\n        return start ;\n    }\n    amount = amount * amount * ( 3 - 2 * amount ) ; // lerp(3-2*amount)\n    return ( ( 1 - amount ) * start ) + ( amount * end ) ;\n}\n","\"use strict\" ;\n\n/**\n * Computes square root of sum of two arguments (Computes hypotenuse).\n * <p>A hypotenuse is the longest side of a right triangle (Right-angled triangle in British English), the side opposite the right angle. The length of the hypotenuse of a right triangle can be found using the Pythagorean theorem, which states that the square of the length of the hypotenuse equals the sum of the square of the lengths of the other two sides.</p>\n * @name hypothenuse\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} x - Specifies the length of first side\n * @param {number} y - Specifies the length of second side\n * @return The length of the hypotenuse\n * @example\n * trace( hypothenuse(5,12) ) ; // 13\n */\nexport var hypothenuse = ( x , y ) => Math.sqrt( x*x + y*y );","\"use strict\" ;\n\n/**\n * With a number value and a range this method returns the actual value for the interpolated value in that range.\n * @name interpolate\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} value The normal number value to interpolate (value between min and max).\n * @param {number} min The minimum value of the interpolation.\n * @param {number} max The maximum value of the interpolation.\n * @return the actual value for the interpolated value in that range.\n * @example\n * trace( interpolate( 0.5 , 0 , 100 ) ) ; // 50\n */\nexport var interpolate = ( value , min , max ) => min + (max - min) * value ;\n","\"use strict\" ;\n\n/**\n * Indicates if an integer that is \"evenly divisible\" by 2.\n * @name isEven\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} value - The value to check.\n * @return <code>true</code> if the passed-in value is even.\n * @example\n * trace( isEven(0) ) ; // true\n * trace( isEven(2) ) ; // true\n * trace( isEven(3) ) ; // false\n */\nexport var isEven = ( value ) => value%2 === 0 ;","\"use strict\" ;\n\n/**\n * Indicates if an integer that is not \"evenly divisible\" by 2.\n * @name isOdd\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} value - The value to check.\n * @return <code>true</code> if the passed-in value is odd.\n * @example\n * trace( isOdd(0) ) ; // false\n * trace( isOdd(2) ) ; // false\n * trace( isOdd(3) ) ; // true\n * trace( isOdd(5) ) ; // true\n */\nexport var isOdd = ( value ) => value%2 !== 0 ;","\"use strict\" ;\n\n/**\n* This constant is the Euler-Mascheroni constant (lambda or C) :\n* <p>\n* <pre>\n* ( n )\n* lim( sigma 1/k - ln(n) )\n* n->oo ( k=1 )\n* </pre>\n* </p>\n * @name LAMBDA\n * @memberof core.maths\n * @instance\n * @const\n*/\nexport const LAMBDA = 0.57721566490143;\n","\"use strict\" ;\n\n/**\n * Calculates a number between two numbers at a specific increment.\n * The lerp function is convenient for creating motion along a straight path and for drawing dotted lines.\n * <p>Lerp is an abbreviation for linear interpolation, which can also be used as a verb (Raymond 2003).</p>\n * <p>Linear interpolation is a method of curve fitting using linear polynomials.\n * It is heavily employed in mathematics (particularly numerical analysis), and numerous applications including computer graphics. It is a simple form of interpolation.</p>\n * @name lerp\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} start the begining value.\n * @param {number} end The ending value.\n * @param {number} amount The amount to interpolate between the two values where 0.0 equal to the first point, 0.1 is very near the first point, 0.5 is half-way in between, etc.\n * @return The interpolated value between two numbers at a specific increment.\n * @example\n * trace( lerp( 0 , 100 , 0.5 ) ; // 50\n */\nexport var lerp = ( start , end , amount ) =>\n{\n    if ( start === end )\n    {\n        return start ;\n    }\n    return ( ( 1 - amount ) * start ) + ( amount * end ) ;\n}\n","\"use strict\" ;\n\n/**\n * Calculates the log10 of the specified value.\n * @name log10\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} value - The value to calculate.\n * @return The log10 of the specified value.\n * @example\n * trace( log10(10) ) ; // 1\n */\nexport function log10( value )\n{\n    return Math.log( value ) / Math.LN10;\n}\n","\"use strict\" ;\n\n/**\n * Calculates the logN of the specified value.\n * @name log10\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} value - The value to calculate.\n * @param {number} base - The base to calculate the log of the value.\n * @return The logN of the specified value.\n * @example\n * trace( logN(10,10) ) ; // 1\n */\nexport function logN( value , base )\n{\n    return Math.log(value) / Math.log(base) ;\n}\n","\"use strict\" ;\n\n/**\n * Takes a value within a given range and converts it to a number between 0 and 1.\n * Actually it can be outside that range if the original value is outside its range.\n * @name normalize\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} value The normal number value to interpolate (value between min and max).\n * @param {number} min The minimum value of the interpolation.\n * @param {number} max The maximum value of the interpolation.\n * @return The normalized value between 0 and 1.\n * @example\n * trace( normalize( 10, 0 , 100 ) ) ; // 0.1\n */\nexport var normalize = ( value , minimum , maximum ) => (value - minimum) / (maximum - minimum) ;\n","\"use strict\" ;\n\nimport { interpolate } from './interpolate.js' ;\nimport { normalize }   from './normalize.js' ;\n\n/**\n * Takes a value in a given range (minimum1, maximum1) and finds the corresponding value in the next range(minimum2, maximum2).\n * @name map\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} value - The number value to map.\n * @param {number} min1 - The minimum value of the first range of the value.\n * @param {number} max1 - The maximum value of the first range of the value.\n * @param {number} min2 - The minimum value of the second range of the value.\n * @param {number} max2 - The maximum value of the second range of the value.\n * @return value in a given range (minimum1, maximum1) and finds the corresponding value in the next range(minimum2, maximum2).\n * @example\n * trace( map( 10,  0, 100, 20, 80  ) ) ; // 26\n * trace( map( 26, 20,  80,  0, 100 ) ) ; // 10\n */\nexport var map = ( value , min1 , max1 , min2 , max2 ) => interpolate( normalize( value, min1, max1 ), min2, max2 );\n","\"use strict\" ;\n\nimport { DEG2RAD } from './DEG2RAD.js' ;\nimport { RAD2DEG } from './RAD2DEG.js' ;\n\n/**\n * Calculates the midpoint along a great circle path between the two points.\n * @see <a href=\"http://mathforum.org/library/drmath/view/51822.html\">\"Latitude and Longitude of a Point Halfway between Two Points\"</a> question to calculate the derivation.</p>\n * @name midPoint\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} latitude1 - The first latitude coordinate.\n * @param {number} longitude1 - The first longitude coordinate.\n * @param {number} latitude2 - The second latitude coordinate.\n * @param {number} longitude2 - The second longitude coordinate.\n * @return The midpoint (Object) along a great circle path between the two points.\n * @example\n * var pos1 = { x : 34.122222   , y : 118.4111111 } ; // LA\n * var pos2 = { x : 40.66972222 , y : 73.94388889 } ; // NYC\n * var result = midPoint( pos1.x , pos1.y , pos2.x , pos2.y )  ;\n * trace( \"midpt latitude:\" + result.x + \" longitude:\" + result.y ) ;// midpt latitude:39.547078603870254 longitude:97.2015133919303\n */\nexport var midPoint = ( latitude1, longitude1, latitude2, longitude2 ) =>\n{\n    let dLng = ( longitude2 - longitude1 ) * DEG2RAD ;\n\n    latitude1  = latitude1  * DEG2RAD ;\n    longitude1 = longitude1 * DEG2RAD ;\n    latitude2  = latitude2  * DEG2RAD ;\n\n    let bx = Math.cos( latitude2 ) * Math.cos( dLng );\n    let by = Math.cos( latitude2 ) * Math.sin( dLng ) ;\n\n    let point =\n    {\n        x : Math.atan2( Math.sin( latitude1 ) + Math.sin( latitude2 ), Math.sqrt( ( Math.cos( latitude1 ) + bx ) * ( Math.cos( latitude1 ) + bx ) + by * by ) ) * RAD2DEG ,\n        y : ( longitude1 + Math.atan2( by , Math.cos( latitude1 ) + bx ) ) * RAD2DEG\n    }\n\n    return point ;\n}\n","\"use strict\" ;\n\n/**\n * This constant change mile distance to meter : <code>1 mile = 1609 m</code>.\n * @name MILE_TO_METER\n * @memberof core.maths\n * @const\n * @instance\n */\nexport const MILE_TO_METER = 1609 ;\n","\"use strict\" ;\n\n/**\n * The % operator in ECMASCript returns the remainder of a / b, but differs from some other languages in that the result will have the same sign as the dividend.\n * For example, -1 % 8 == -1, whereas in some other languages (such as Python) the result would be 7.\n * This function emulates the more correct modulo behavior, which is useful for certain applications such as calculating an offset index in a circular list.\n * @name modulo\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} a - The dividend.\n * @param {number} b - The divisor.\n * @return The <code>a % b</code> where the result is between <code>0</code> and <code>b</code> (either <code>0 <= x < b or b < x <= 0</code>, depending on the sign of b).\n * @example\n * trace( modulo(-1,8) ) ; // 7\n */\nexport function modulo( a , b )\n{\n    var r = a % b;\n    return ( r * b < 0 ) ? r + b : r ; // If r and b differ in sign, add b to wrap the result to the correct sign.\n}\n","\"use strict\" ;\n\n/**\n * Evaluates whether the two values are equal to each other, within a certain tolerance to adjust for floating pount errors.\n * @name nearlyEquals\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} value1 - A number to evaluate.\n * @param {number} value2 - A number to evaluate.\n * @param {number} [tolerance=0.000001] - An optional tolerance range. If specified, should be greater than 0.\n * @return <code>true</code> if value1 and value2 are nearly equal.\n */\nexport var nearlyEquals = ( value1 , value2 , tolerance = 0.000001 ) =>\n{\n    if( isNaN(tolerance ) )\n    {\n        tolerance = 0.000001 ;\n    }\n    else if ( tolerance < 0 )\n    {\n        tolerance = 0 ;\n    }\n    return Math.abs( value1 - value2 ) <= tolerance ;\n}\n","\"use strict\" ;\n\n/**\n * Calculates a percentage value.\n * @name percentage\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} value - The current value to calculates.\n * @param {number} maximum - The max value.\n * @return a percentage value or NaN.\n * @example\n * trace( percentage( 50 , 100 ) + \"%\" ) ; // 50%\n * trace( percentage( 68 , 425 ) + \"%\" ) ; // 16%\n  */\nexport var percentage = ( value , maximum ) =>\n{\n    let p = (value / maximum) * 100 ;\n    return (isNaN( p ) || ! isFinite( p )) ? NaN : p ;\n}\n","\"use strict\" ;\n\n/**\n * The <b>golden ratio</b> (phi) : <code>( 1 + Math.sqrt(5) ) / 2</code>.\n * @name PHI\n * @memberof core.maths\n * @const\n * @instance\n */\nexport const PHI = 1.61803398874989 ;\n","\"use strict\" ;\n\n/**\n * This constant equal <code>Math.PI*2</code>.\n * @name PI2\n * @memberof core.maths\n * @instance\n * @const\n * @default Math.PI * 2\n */\nexport const PI2 = Math.PI * 2 ;\n","\"use strict\" ;\n\nimport { DEG2RAD } from './DEG2RAD.js' ;\n\n/**\n * Converts a Polar object in a cartesian vector.\n * @name polarToCartesian\n * @memberof core.maths\n * @function\n * @instance\n * @param {Object} polar The polar generic object to transform (with the attributes angle and radius).\n * @param {number} polar.angle The angle of the polar coordinates.\n * @param {number} polar.radius The radius of the polar coordinates.\n * @param {number} degrees Indicates if the angle of the polar object is in degrees or radians.\n * @return A generic Object with the cartesian representation of the specified Polar object (with the coordinates x and y).\n */\nexport var polarToCartesian = ( vector , degrees  ) =>\n{\n    var angle  = vector.angle ;\n    var radius = vector.radius ;\n    if ( degrees )\n    {\n        angle *= DEG2RAD ;\n    }\n    return { x : radius * Math.cos( angle ) , y : radius * Math.sin( angle ) } ;\n}\n","\"use strict\" ;\n\n/**\n * Replace the passed-in Number value, if the value is NaN the return value is the default value in second argument.\n * @name replaceNaN\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} value - The <code>Number</code> value to replace, if this value is <code>NaN</code> the value is changed.\n * @param {*} [defaultValue=0] The default value to apply over the specified value if this value is <code>NaN</code>.\n * @return The replaced value.\n * @example\n * trace( replaceNaN(1,2) ) ; // 1\n * trace( replaceNaN(NaN) ) ; // 0\n * trace( replaceNaN(NaN,2) ) ; // 2\n * trace( replaceNaN(NaN,\"foo\") ) ; // \"foo\"\n */\nexport var replaceNaN = ( value , defaultValue = 0 ) =>\n{\n    return isNaN( value ) ? defaultValue : value ;\n}\n","\"use strict\" ;\n\n/**\n * Rounds and returns a number by a count of floating points.\n * @name round\n * @memberof core.maths\n * @function\n * @instance\n * @example\n * var n ;\n * n = core.maths.round(4.572525153, 2) ;\n * trace (\"n : \" + n) ; // 4.57\n *\n * n = core.maths.round(4.572525153, -1) ;\n * trace (\"n : \" + n) ; // 5\n * @param {number} n - The number to round.\n * @param {number} [floatCount=0] - The count of number after the point.\n * @return The round of a number by a count of floating points.\n */\nexport var round = ( n , floatCount = 0 ) =>\n{\n    if ( isNaN(n) )\n    {\n        return NaN ;\n    }\n    let r  = 1 ;\n    let i  = - 1 ;\n    while (++ i < floatCount)\n    {\n        r *= 10 ;\n    }\n    return Math.round( n * r ) / r  ;\n}\n","\"use strict\" ;\n\n/**\n * Returns 1 if the value is positive or -1.\n * @name sign\n * @memberof core.maths\n * @function\n * @instance\n * @example\n * var n ;\n *\n * n = core.maths.sign( -150 ) ;\n * trace (\"n : \" + n) ; // -1\n *\n * n = core.maths.sign( 200 ) ;\n * trace (\"n : \" + n) ; // 1\n *\n * n = core.maths.sign( 0 ) ;\n * trace (\"n : \" + n) ; // 1\n * @param {number} n - The number to defined this sign.\n * @return <code>1</code> if the value is positive or <code>-1</code>.\n * @throws TypeError if the passed-in value is <code>NaN</code>.\n */\nexport var sign = ( n ) =>\n{\n    if (isNaN( n ))\n    {\n        throw new TypeError( \"sign failed, the passed-in value not must be NaN.\" ) ;\n    }\n    return ( n < 0 ) ? -1 : 1 ;\n}\n","\"use strict\" ;\n\nimport { DEG2RAD } from './DEG2RAD.js' ;\n\n/**\n * Calculates the sine of the passed angle.\n * @name sinD\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} angle - A value in degrees.\n * @return The sine of the passed angle, a number between <code>-1</code> and <code>1</code> inclusive.\n */\nexport var sinD = ( angle ) => Math.sin( angle * DEG2RAD ) ;","\"use strict\" ;\n\n/**\n * Short for 'cosinusoidal interpolation', this method will interpolate while easing around the end, when value is near one.\n * @name sinerp\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} start the begining value.\n * @param {number} end The ending value.\n * @param {number} amount The amount to interpolate between the two values where 0.0 equal to the first point, 0.1 is very near the first point, 0.5 is half-way in between, etc.\n * @return The interpolated value between two numbers at a specific increment.\n * @example\n * trace( sinerp( 0 , 100 , 0.5 ) ; // 70.71067811865474\n */\nexport var sinerp = ( start , end , amount ) =>\n{\n    if ( start === end )\n    {\n        return start ;\n    }\n    amount = Math.sin( amount * Math.PI * 0.5 ) ;\n    return ( ( 1 - amount ) * start ) + ( amount * end ) ;\n}\n","\"use strict\" ;\n\n/**\n * Calculates the Hyperbolic sine.\n * @name sinH\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} x - A value to calculates.\n * @return The Hyperbolic sine of the specified value.\n */\nexport var sinH = ( x ) => (Math.exp(x) - Math.exp(-x)) * 0.5 ;\n","\"use strict\" ;\n\nimport { DEG2RAD } from './DEG2RAD.js' ;\n\n/**\n * Calculates the tangent of the passed angle.\n * @name tanD\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} angle - The angle in degrees.\n * @return The tangent of the passed angle.\n */\nexport var tanD = ( angle ) => Math.tan( angle * DEG2RAD ) ;","\"use strict\" ;\n\nimport { cosH } from './cosH.js' ;\nimport { sinH } from './sinH.js' ;\n\n/**\n * Calculates the Hyperbolic tangent.\n * @name tanH\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} x - A value to calculates.\n * @return The Hyperbolic tangent of the specified value.\n */\nexport var tanH = ( x ) => sinH(x) / cosH(x) ;\n","\"use strict\" ;\n\nimport { DEG2RAD } from './DEG2RAD.js' ;\n\n/**\n * Calculates geodesic distance in meter between two points specified by latitude and longitude (in numeric degrees)\n * using the Vincenty inverse formula for ellipsoids. This algorithm is slow but very accurate (down to 0.5 mm).\n * <p>See the original reference about this formula : <a href=\"http://www.ngs.noaa.gov/PUBS_LIB/inverse.pdf\">Direct and Inverse Solutions of Geodesics on the Ellipsoid with application of nested equations</a>.</p>\n * @name vincenty\n * @memberof core.maths\n * @function\n * @instance\n * @example\n * var position1 = { x : 37.422045,  y : -122.084347 } ; // Google HQ\n * var position2 = { x : 37.77493  , y : -122.419416 } ; // San Francisco, CA\n *\n * trace( vincenty( position1.x , position1.y , position2.x , position2.y ) ) ; // 49 087.066 meters\n * @param {number} latitude1 - The first latitude coordinate.\n * @param {number} longitude1 - The first longitude coordinate.\n * @param {number} latitude2 - The second latitude coordinate.\n * @param {number} longitude2 - The second longitude coordinate.\n * @return The distance between two points on a sphere from their longitudes and latitudes.\n */\nexport function vincenty( latitude1, longitude1, latitude2, longitude2 ) /*Number*/\n{\n    // World Geodetic System (WGS-84 ellipsoid parameters)\n    const a = 6378137;\n    const b = 6356752.3142 ;\n    const f = 1 / 298.257223563 ;\n\n    // Algorithm\n    var L = (longitude2 - longitude1) * DEG2RAD;\n\n    var U1 = Math.atan((1 - f) * Math.tan( latitude1 * DEG2RAD ) );\n    var U2 = Math.atan((1 - f) * Math.tan( latitude2 * DEG2RAD ) );\n\n    var sinU1 = Math.sin(U1), cosU1 = Math.cos(U1);\n    var sinU2 = Math.sin(U2), cosU2 = Math.cos(U2);\n\n    var lambda = L ;\n    var lambdaP = 2 * Math.PI;\n\n    var iterLimit = 20;\n\n    var cosLambda ;\n    var sinLambda ;\n\n    var cosSigma ;\n    var sinSigma ;\n\n    var sigma ;\n\n    var sinAlpha ;\n\n    var cosSqAlpha ;\n    var cos2SigmaM ;\n\n    var C ;\n\n    do\n    {\n        sinLambda = Math.sin( lambda ) ;\n        cosLambda = Math.cos( lambda ) ;\n\n        sinSigma  = Math.sqrt((cosU2 * sinLambda) * (cosU2 * sinLambda) + (cosU1 * sinU2 - sinU1 * cosU2 * cosLambda) * (cosU1 * sinU2 - sinU1 * cosU2 * cosLambda));\n\n        if ( sinSigma === 0 )\n        {\n            return 0 ; // co-incident points\n        }\n\n        cosSigma = sinU1 * sinU2 + cosU1 * cosU2 * cosLambda ;\n\n        sigma = Math.atan2( sinSigma , cosSigma ) ;\n\n        sinAlpha   = cosU1 * cosU2 * sinLambda / sinSigma;\n\n        cosSqAlpha = 1 - sinAlpha * sinAlpha;\n\n        cos2SigmaM = cosSigma - 2 * sinU1 * sinU2 / cosSqAlpha;\n\n        if( isNaN( cos2SigmaM ) )\n        {\n            cos2SigmaM = 0 ; // equatorial line: cosSqAlpha=0 (6)\n        }\n\n        C = f / 16 * cosSqAlpha * (4 + f * (4 - 3 * cosSqAlpha));\n\n        lambdaP = lambda;\n\n        lambda = L + (1 - C) * f * sinAlpha * (sigma + C * sinSigma * (cos2SigmaM + C * cosSigma * (-1 + 2 * cos2SigmaM * cos2SigmaM)));\n    }\n    while ( Math.abs(lambda - lambdaP) > 1e-12 && --iterLimit > 0 ) ;\n\n    if ( iterLimit === 0 )\n    {\n        return NaN ; // formula failed to converge\n    }\n\n    var uSq = cosSqAlpha * (a * a - b * b) / (b * b);\n    var A   = 1 + uSq / 16384 * (4096 + uSq * (-768 + uSq * (320 - 175 * uSq)));\n    var B   = uSq / 1024 * (256 + uSq * (-128 + uSq * (74 - 47 * uSq)));\n    var deltaSigma = B * sinSigma * (cos2SigmaM + B / 4 * (cosSigma * (-1 + 2 * cos2SigmaM * cos2SigmaM) - B / 6 * cos2SigmaM * (-3 + 4 * sinSigma * sinSigma) * (-3 + 4 * cos2SigmaM * cos2SigmaM)));\n\n    var s = b * A * ( sigma - deltaSigma ) ;\n\n    s = Number(s.toFixed(3)) ; // round to 1mm precision\n\n    return s;\n}\n","\"use strict\" ;\n\n/**\n * Wrap an angle value between two values.\n * @name wrap\n * @memberof core.maths\n * @function\n * @instance\n * @param {number} angle - The passed angle value.\n * @param {number} [min=0] - The minimum angle value.\n * @param {number} [max=360] - The maximum angle value.\n * @return The wrapped angle value fixed between the <code>min</code> and <code>max</code> values.\n * @example\n * trace( wrap( 0 ) ) ; 0\n * trace( wrap( 360 ) ) ; 0\n * trace( wrap( -1 ) ) ; 359\n *\n * trace( wrap( 0 , 0 , Math.PI ) ) ; // 0\n * trace( wrap( Math.PI , 0 , Math.PI ) ) ; // 0\n * trace( wrap( Math.PI / 2 , 0 , Math.PI ) ) ; // Math.PI / 2\n * trace( wrap( Math.PI - 1 , 0 , Math.PI ) === ( Math.PI - 1 ) ) ; // true\n * trace( wrap( Math.PI + 1 , 0 , Math.PI ) ) ; // 1\n */\nexport function wrap( angle , min = 0 , max = 360 )\n{\n    let range = max - min;\n\n    if( range <= 0 )\n    {\n        return 0 ;\n    }\n\n    let result = (angle - min) % range ;\n\n    if( result < 0 )\n    {\n        result += range;\n    }\n\n    return result + min ;\n}\n","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { acosD }                  from './maths/acosD.js' ;\nimport { acosHm }                 from './maths/acosHm.js' ;\nimport { acosHp }                 from './maths/acosHp.js' ;\nimport { angleOfLine }            from './maths/angleOfLine.js' ;\nimport { asinD }                  from './maths/asinD.js' ;\nimport { asinH }                  from './maths/asinH.js' ;\nimport { atan2D }                 from './maths/atan2D.js' ;\nimport { atanD }                  from './maths/atanD.js' ;\nimport { atanH }                  from './maths/atanH.js' ;\nimport { bearing }                from './maths/bearing.js' ;\nimport { berp }                   from './maths/berp.js' ;\nimport { bounce }                 from './maths/bounce.js' ;\nimport { cartesianToPolar }       from './maths/cartesianToPolar.js' ;\nimport { ceil }                   from './maths/ceil.js' ;\nimport { clamp }                  from './maths/clamp.js' ;\nimport { clerp }                  from './maths/clerp.js' ;\nimport { cosD }                   from './maths/cosD.js' ;\nimport { coserp }                 from './maths/coserp.js' ;\nimport { cosH }                   from './maths/cosH.js' ;\nimport { DEG2RAD }                from './maths/DEG2RAD.js' ;\nimport { degreesToRadians }       from './maths/degreesToRadians.js' ;\nimport { distance }               from './maths/distance.js' ;\nimport { distanceByObject }       from './maths/distanceByObject.js' ;\nimport { EARTH_RADIUS_IN_METERS } from './maths/EARTH_RADIUS_IN_METERS.js' ;\nimport { EPSILON }                from './maths/EPSILON.js' ;\nimport { factorial }              from './maths/factorial.js' ;\nimport { fibonacci }              from './maths/fibonacci.js' ;\nimport { finalBearing }           from './maths/finalBearing.js' ;\nimport { fixAngle }               from './maths/fixAngle.js' ;\nimport { floor }                  from './maths/floor.js' ;\nimport { gcd }                    from './maths/gcd.js' ;\nimport { haversine }              from './maths/haversine.js' ;\nimport { hermite }                from './maths/hermite.js' ;\nimport { hypothenuse }            from './maths/hypothenuse.js' ;\nimport { interpolate }            from './maths/interpolate.js' ;\nimport { isEven }                 from './maths/isEven.js' ;\nimport { isOdd }                  from './maths/isOdd.js' ;\nimport { LAMBDA }                 from './maths/LAMBDA.js' ;\nimport { lerp }                   from './maths/lerp.js' ;\nimport { littleEndian }           from './maths/littleEndian.js' ;\nimport { log10 }                  from './maths/log10.js' ;\nimport { logN }                   from './maths/logN.js' ;\nimport { map }                    from './maths/map.js' ;\nimport { midPoint }               from './maths/midPoint.js' ;\nimport { MILE_TO_METER }          from './maths/MILE_TO_METER.js' ;\nimport { modulo }                 from './maths/modulo.js' ;\nimport { nearlyEquals }           from './maths/nearlyEquals.js' ;\nimport { normalize }              from './maths/normalize.js' ;\nimport { percentage }             from './maths/percentage.js' ;\nimport { PHI }                    from './maths/PHI.js' ;\nimport { PI2 }                    from './maths/PI2.js' ;\nimport { polarToCartesian }       from './maths/polarToCartesian.js' ;\nimport { RAD2DEG }                from './maths/RAD2DEG.js' ;\nimport { replaceNaN }             from './maths/replaceNaN.js' ;\nimport { round }                  from './maths/round.js' ;\nimport { sign }                   from './maths/sign.js' ;\nimport { sinD }                   from './maths/sinD.js' ;\nimport { sinerp }                 from './maths/sinerp.js' ;\nimport { sinH }                   from './maths/sinH.js' ;\nimport { tanD }                   from './maths/tanD.js' ;\nimport { tanH }                   from './maths/tanH.js' ;\nimport { vincenty }               from './maths/vincenty.js' ;\nimport { wrap }                   from './maths/wrap.js' ;\n\n/**\n * The {@link core.maths} package is a modular <b>JavaScript</b> library that provides extra <code>mathematics</code> methods and implementations.\n * @summary The {@link core.maths} package is a modular <b>JavaScript</b> library that provides extra <code>mathematics</code> methods and implementations.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace core.maths\n * @memberof core\n */\nexport var maths = Object.assign\n({\n    acosD : acosD,\n    acosHm : acosHm,\n    acosHp : acosHp,\n    angleOfLine : angleOfLine,\n    asinD : asinD,\n    asinH : asinH,\n    atan2D : atan2D,\n    atanD : atanD,\n    atanH : atanH,\n    bearing : bearing,\n    berp : berp,\n    bounce : bounce,\n    cartesianToPolar : cartesianToPolar,\n    ceil : ceil,\n    clamp : clamp,\n    clerp : clerp,\n    cosD : cosD,\n    coserp : coserp,\n    cosH : cosH,\n    DEG2RAD : DEG2RAD,\n    degreesToRadians : degreesToRadians,\n    distance : distance,\n    distanceByObject : distanceByObject,\n    EARTH_RADIUS_IN_METERS : EARTH_RADIUS_IN_METERS,\n    EPSILON : EPSILON,\n    factorial : factorial,\n    fibonacci : fibonacci,\n    finalBearing : finalBearing,\n    fixAngle : fixAngle,\n    floor : floor,\n    gcd : gcd,\n    haversine : haversine,\n    hermite : hermite,\n    hypothenuse : hypothenuse,\n    interpolate : interpolate,\n    isEven : isEven,\n    isOdd : isOdd,\n    LAMBDA : LAMBDA,\n    lerp : lerp,\n    littleEndian : littleEndian,\n    log10 : log10,\n    logN : logN,\n    map : map,\n    midPoint : midPoint,\n    MILE_TO_METER : MILE_TO_METER,\n    modulo : modulo,\n    nearlyEquals : nearlyEquals,\n    normalize : normalize,\n    percentage : percentage,\n    PHI : PHI,\n    PI2 : PI2,\n    polarToCartesian : polarToCartesian,\n    RAD2DEG : RAD2DEG,\n    replaceNaN : replaceNaN,\n    round : round,\n    sign : sign,\n    sinD : sinD,\n    sinerp : sinerp,\n    sinH : sinH,\n    tanD : tanD,\n    tanH : tanH,\n    vincenty : vincenty,\n    wrap : wrap\n}) ;","\"use strict\" ;\r\n\r\n/**\r\n * Transform a float number into this integer representation.\r\n * @name toInt\r\n * @memberof core.numbers\r\n * @function\r\n * @instance\r\n * @param {number} num - The number to transform in an integer numeric value.\r\n * @return The integer representation of the specific value.\r\n * @example\r\n * trace( toInt(0) ) ; // 0\r\n * trace( toInt(10) ) ; // 10\r\n * trace( toInt(10.123) ) ; // 10\r\n * trace( toInt(-10.123) ) ; // -10\r\n */\r\nexport function toInt( num )\r\n{\r\n    return num - (num % 1) ;\r\n}","\"use strict\" ;\r\n\r\n/**\r\n * Transform a float number into this upper integer representation.\r\n * @name toUint\r\n * @memberof core.numbers\r\n * @function\r\n * @instance\r\n * @param {number} num - The number to transform in an upper integer numeric value.\r\n * @return The upper integer representation of the specific numeric value.\r\n * @example\r\n * trace( toUint(0) ) ; // 0\r\n * trace( toUint(10) ) ; // 10\r\n * trace( toUint(10.123) ) ; // 10\r\n * trace( toUint(-10.123) ) ; // 10\r\n */\r\nexport function toUint( num )\r\n{\r\n    num -= (num % 1) ;\r\n    return num < 0 ? -num : num ;\r\n}","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { toInt } from './numbers/toInt.js' ;\nimport { toUint } from './numbers/toUint.js' ;\nimport { toUnicodeNotation } from './numbers/toUnicodeNotation.js' ;\n\n/**\n * The {@link core.numbers} package is a modular <b>JavaScript</b> library that provides extra <code>Number</code> methods and implementations.\n * @summary The {@link core.numbers} package is a modular <b>JavaScript</b> library that provides extra <code>Number</code> methods and implementations.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace core.numbers\n * @memberof core\n */\nexport var numbers = Object.assign\n({\n    toInt : toInt ,\n    toUint : toUint ,\n    toUnicodeNotation : toUnicodeNotation\n}) ;","\"use strict\" ;\n\n/**\n * Executes a function on each item in the object. Each invocation of iterator is called with three arguments: (value, key, ref).\n * @name forEach\n * @memberof core.objects\n * @function\n * @instance\n * @param {Object} object The reference of the object to enumerate.\n * @param {Function} callback The function to run on each item in the object. This function can contain a simple command (for example, a trace() statement) or a more complex operation, and is invoked with three arguments; the value of an item, the key of an item, and the object reference : <code>function callback(item:*, key:*, ref:Object):void;</code>.\n * @param {Object} [context=null] An object to use as this for the callback function.\n * @param {*} [breaker=null] value to stop the enumeration. If this argument is null the behaviour is forgotten.\n * @example\n * var object = { one:1 , two:2 , three:3 , four:4 , five:5 } ;\n *\n * var action = function( value , key , ref )\n * {\n *     trace( \"key:\" + key + \" value:\" + value ) ;\n *     return value ;\n * }\n *\n * forEach( object , action ) ;\n *\n * trace( \"----\" ) ;\n *\n * forEach( object , action, null, 3 ) ;\n *\n * trace( \"----\" ) ;\n *\n * forEach( [1,2,3,4] , action ) ; // use the Array.forEach method over Array objects.\n */\nexport function forEach( object , callback , context = null , breaker = null )\n{\n    if( !object )\n    {\n        return ;\n    }\n    if( (\"forEach\" in object) && ( object.forEach instanceof Function ) )\n    {\n        object.forEach( callback , context ) ;\n    }\n    else\n    {\n        for ( var key in object )\n        {\n            if( key in object )\n            {\n                if( breaker !== null )\n                {\n                    if ( callback.call( context , object[key] , key , object ) === breaker )\n                    {\n                        return;\n                    }\n                }\n                else\n                {\n                     callback.call( context , object[key] , key , object ) ;\n                }\n            }\n        }\n    }\n}","\"use strict\" ;\n\n/**\n * Copies an array or vector from the specified source (array or vector), beginning at the specified position, to the specified position of the destination object.\n * A subsequence of array components are copied from the source referenced by src to the destination referenced by dest.\n * The number of components copied is equal to the length argument. The components at positions srcPos through srcPos+length-1 in the source array are copied into positions\n * destPos through destPos+length-1, respectively, of the destination object. If the src and dest arguments refer to the same array object, then the copying is performed as\n * if the components at positions srcPos through srcPos+length-1 were first copied to a temporary object with length components and then the contents of the temporary array were\n * copied into positions destPos through destPos+length-1 of the destination array.\n * <p>If src is null, then a ArgumentError is thrown and the destination array is not modified.</p>\n * <p>If dest is null, then dest is the src reference.</p>\n * @name fuse\n * @memberof core.objects\n * @function\n * @instance\n * @param {Array|Object} src - The source array or vector to copy.\n * @param {number} srcPos - The starting position in the source array.\n * @param {Array|Object} dest - The destination array or vector.\n * @param {number} destPos - The starting position in the destination data.\n * @param {number} length - The number of array elements to be copied.\n * @return The copy reference.\n * @example\n * var ar1 = [1,2,3,4] ;\n * var ar2 = [5,6,7,8] ;\n * fuse( ar1 , 2 , ar2 , 2 , 2 ) ;\n * trace( dump( ar2 ) ) ; // [5,6,3,4]\n */\nexport function fuse( src , srcPos , dest , destPos , length )\n{\n    if ( !src )\n    {\n        throw new ReferenceError( \"fuse failed, if either src is null.\" ) ;\n    }\n    if ( !dest )\n    {\n        dest = src ;\n    }\n    if ( destPos < 0 )\n    {\n        destPos = dest.length ;\n    }\n    while (length > 0)\n    {\n        dest[destPos] = src[srcPos];\n        srcPos++;\n        destPos++;\n        length--;\n    }\n}","\"use strict\" ;\n\n/**\n * Returns all the public members of an object, either by key or by value.\n * @name members\n * @memberof core.objects\n * @function\n * @instance\n * @param {object} o The target object to enumerate.\n * @param {boolean} [byValue=false] The optional flag indicates if the function return an Array of strings (keys) or of values.\n * @return An array containing all the string key names or values (if the #byValue argument is true). The method returns null if no members are finding.\n * @example\n * var o = { a : 5 , b : 6 } ;\n * trace( core.dump( core.objects.members( o ) ) ) ; // [a,b]\n * trace( core.dump( core.objects.members( o , true ) ) ) ; // [5,6]\n */\nexport function members( o , byValue = false )\n{\n    byValue = Boolean( byValue === true ) ;\n    var members  = [];\n    if( byValue )\n    {\n        for( var prop  in o )\n        {\n            if( o.hasOwnProperty(prop) )\n            {\n                members.push( o[prop] );\n            }\n        }\n    }\n    else\n    {\n        for( var member  in o )\n        {\n            if( o.hasOwnProperty(member) )\n            {\n                members.push( member );\n            }\n        }\n    }\n    return members.length > 0 ? members : null ;\n}","\"use strict\" ;\n\n/**\n * Merging enumerable properties from a specific Object to a target Object.\n * @name merge\n * @memberof core.objects\n * @function\n * @instance\n * @param {Object} target - The target object to merge.\n * @param {Object} source - The source object reference.\n * @param {boolean} [overwrite=true] - The optional flag to indicates if the merge function can override the already existing properties in the target reference (default true).\n * @return The merged target reference.\n * @example\n * var target = { a : 5 , b : 6 } ;\n * var from   = { a : 1 , b : 2 , c: 3 } ;\n * trace( dump( merge( target , from ) ) ) ; // {a:1,b:2,c:3}\n */\nexport function merge( target , source , overwrite = true )\n{\n    if ( overwrite === null || overwrite === undefined )\n    {\n        overwrite = true ;\n    }\n\n    if ( source === null || source === undefined )\n    {\n        source = {} ;\n    }\n\n    for( var prop in source )\n    {\n        if ( !( prop in target ) || overwrite )\n        {\n            target[prop] = source[prop] ;\n        }\n    }\n\n    return target ;\n}","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { forEach } from './objects/forEach.js' ;\nimport { fuse }    from './objects/fuse.js' ;\nimport { members } from './objects/members.js' ;\nimport { merge }   from './objects/merge.js' ;\n\n/**\n * The {@link core.objects} package is a modular <b>JavaScript</b> library that provides extra <code>Object</code> methods and implementations.\n * @summary The {@link core.objects} package is a modular <b>JavaScript</b> library that provides extra <code>Object</code> methods and implementations.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace core.objects\n * @memberof core\n */\nexport var objects = Object.assign\n({\n    forEach : forEach,\n    fuse    : fuse,\n    members : members,\n    merge   : merge\n}) ;","/*jslint bitwise: true */\r\n\"use strict\" ;\r\n\r\n/**\r\n * Generates a version 4 (randomly generated number) UUID as per RFC 4122.\r\n * @name generateUUID\r\n * @memberof core.random\r\n * @function\r\n * @instance\r\n * @return The String expression of the UUID version 4.\r\n * @example\r\n * trace( generateUUID() ) ; // 1ba7bbbd-783c-44db-9fc7-3ca772c6a8d2\r\n */\r\nexport function generateUUID()\r\n{\r\n    let d = new Date().getTime();\r\n    return pattern.replace(/[xy]/g, (c) =>\r\n    {\r\n        let r = (d + Math.random()*16)%16 | 0;\r\n        d = Math.floor( d / 16 ) ;\r\n        return (c === 'x' ? r : (r&0x3|0x8)).toString(16);\r\n    });\r\n}\r\n\r\n/**\r\n * The uuid pattern.\r\n * @private\r\n */\r\nconst pattern = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx' ;","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { generateUUID } from './random/generateUUID.js' ;\n\n/**\n * The {@link core.objects} package is a modular <b>JavaScript</b> library that provides extra methods to generates a random number.\n * @summary The {@link core.objects} package is a modular <b>JavaScript</b> library that provides extra methods to generates a random number.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace core.random\n * @memberof core\n */\nexport var random = Object.assign\n({\n    generateUUID : generateUUID\n}) ;","\"use strict\" ;\r\n\r\nimport { global } from '../global.js' ;\r\n\r\n/**\r\n * Returns the instance of a public definition in a specific <code>domain</code> object.\r\n * @name invoke\r\n * @memberof core.reflect\r\n * @function\r\n * @instance\r\n * @param {string} name - The name of the full qualified path of a definition (instance, class, etc).\r\n * @param {Object} [domain] - A global object or namespace who contains the definition object. By default, the function use the <code>global</code> scope object where to find the reference.\r\n * @example\r\n * var definition = core.reflect.getDefinitionByName('system.signals.Signal') ;\r\n * trace( definition ) ;\r\n */\r\nexport function getDefinitionByName( name , domain = null )\r\n{\r\n    if( ( name instanceof String ) || typeof(name) === 'string' )\r\n    {\r\n        name = name.split('.') ;\r\n        if( name.length > 0 )\r\n        {\r\n            try\r\n            {\r\n                var o = domain || global ;\r\n                name.forEach( ( element ) =>\r\n                {\r\n                    if(o.hasOwnProperty(element) )\r\n                    {\r\n                        o = o[element] ;\r\n                    }\r\n                    else\r\n                    {\r\n                        return undefined ;\r\n                    }\r\n                });\r\n                return o ;\r\n            }\r\n            catch( e )\r\n            {\r\n                //\r\n            }\r\n        }\r\n    }\r\n    return undefined ;\r\n}","/*jslint bitwise: true */\r\n\"use strict\" ;\r\n\r\n/**\r\n * Invokes dynamically a class constructor.\r\n * @name invoke\r\n * @memberof core.reflect\r\n * @function\r\n * @instance\r\n * @param {function} c - The constructor (Function or Class) to invoke.\r\n * @param {array} [args] - the array of all arguments to pass to the constructor (max 32).\r\n * @return an instance of the class, or null if class can not construct.\r\n * @example\r\n * var ar = invoke( Array , [1,2,3]) ;\r\n * trace( dump( ar ) ) ; // 1,2,3\r\n */\r\nexport function invoke( c , a = null )\r\n{\r\n    if( !(c instanceof Function) )\r\n    {\r\n        return null ;\r\n    }\r\n\r\n    if( a === null || !(a instanceof Array) || (a.length === 0)  )\r\n    {\r\n        return new c();\r\n    }\r\n\r\n    // Note: if we ever need more than 32 args will use CC for that special case\r\n\r\n    switch( a.length )\r\n    {\r\n        case 0:\r\n        return new c();\r\n\r\n        case 1:\r\n        return new c( a[0] );\r\n\r\n        case 2:\r\n        return new c( a[0],a[1] );\r\n\r\n        case 3:\r\n        return new c( a[0],a[1],a[2] );\r\n\r\n        case 4:\r\n        return new c( a[0],a[1],a[2],a[3] );\r\n\r\n        case 5:\r\n        return new c( a[0],a[1],a[2],a[3],a[4] );\r\n\r\n        case 6:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5] );\r\n\r\n        case 7:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6] );\r\n\r\n        case 8:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7] );\r\n\r\n        case 9:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8] );\r\n\r\n        case 10:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9] );\r\n\r\n        case 11:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10] );\r\n\r\n        case 12:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11] );\r\n\r\n        case 13:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12] );\r\n\r\n        case 14:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13] );\r\n\r\n        case 15:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14] );\r\n\r\n        case 16:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15] );\r\n\r\n        case 17:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16] );\r\n\r\n        case 18:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17] );\r\n\r\n        case 19:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18] );\r\n\r\n        case 20:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18],a[19] );\r\n\r\n        case 21:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18],a[19],a[20] );\r\n\r\n        case 22:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18],a[19],a[20],a[21] );\r\n\r\n        case 23:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18],a[19],a[20],a[21],a[22] );\r\n\r\n        case 24:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18],a[19],a[20],a[21],a[22],a[23] );\r\n\r\n        case 25:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18],a[19],a[20],a[21],a[22],a[23],a[24] );\r\n\r\n        case 26:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18],a[19],a[20],a[21],a[22],a[23],a[24],a[25] );\r\n\r\n        case 27:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18],a[19],a[20],a[21],a[22],a[23],a[24],a[25],a[26] );\r\n\r\n        case 28:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18],a[19],a[20],a[21],a[22],a[23],a[24],a[25],a[26],a[27] );\r\n\r\n        case 29:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18],a[19],a[20],a[21],a[22],a[23],a[24],a[25],a[26],a[27],a[28] );\r\n\r\n        case 30:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18],a[19],a[20],a[21],a[22],a[23],a[24],a[25],a[26],a[27],a[28],a[29] );\r\n\r\n        case 31:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18],a[19],a[20],a[21],a[22],a[23],a[24],a[25],a[26],a[27],a[28],a[29],a[30] );\r\n\r\n        case 32:\r\n        return new c( a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],\r\n                      a[17],a[18],a[19],a[20],a[21],a[22],a[23],a[24],a[25],a[26],a[27],a[28],a[29],a[30],a[31] );\r\n\r\n        default:\r\n        return null;\r\n    }\r\n}","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { getDefinitionByName } from './reflect/getDefinitionByName.js' ;\nimport { invoke } from './reflect/invoke.js' ;\n\n/**\n * The {@link core.reflect} package is a modular <b>JavaScript</b> library that provides extra methods to to obtain information about loaded objects or generate it.\n * @summary The {@link core.reflect} package is a modular <b>JavaScript</b> library that provides extra methods to to obtain information about loaded objects or generate it.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace core.reflect\n * @memberof core\n */\nexport var reflect = Object.assign\n({\n    getDefinitionByName : getDefinitionByName ,\n    invoke              : invoke\n}) ;","\"use strict\" ;\n\n/**\n * Converts a hyphenated string to a camelcased string.\n * @name between\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to transform.\n * @return The new extracted string.\n * @example\n * trace( between(\"<b>hello</b>\" , \"<b>\" , \"</b>\" ) ) ; // hello\n * trace( between(\"hello {world}\" , \"{\" , \"}\" ) ) ; // world\n */\nexport function between( source , left , right )\n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return '' ;\n    }\n\n    if( !(left instanceof String || typeof(left) === 'string' ) || left === \"\" )\n    {\n        return source ;\n    }\n\n    var start = source.indexOf( left ) ;\n    var end   = source.indexOf( right , start + left.length );\n\n    if( end < 0 || !(right instanceof String || typeof(right) === 'string' ) || right === \"\" )\n    {\n        return source.substring( start+left.length ) ;\n    }\n\n    return source.slice( start + left.length, end) ;\n}","\"use strict\" ;\n\n/**\n * Converts a hyphenated string to a camelcased string.\n * @name camelCase\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to camelcase.\n * @return The camelcased string.\n * @example\n * trace( camelCase(\"hello-world\" ) ) ; // helloWorld\n */\nexport function camelCase( source )\n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return '' ;\n    }\n    return source.replace( /-\\D/g , ( match ) => match.charAt(1).toUpperCase() ) ;\n}","\"use strict\" ;\n\n/**\n * Converts the first letter of each word in a string to uppercase.\n * @name capitalize\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to transform.\n * @return The capitalized string.\n * @example\n * trace( capitalize( \"hello world\" ) ) ; // Hello World\n */\nexport function capitalize( source )\n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return '' ;\n    }\n    return source.replace( /\\b[a-z]/g , ( match ) => match.toUpperCase() ) ;\n}\n","\"use strict\" ;\n\n/**\n * Returns the center string representation of the specified string value.\n * @name center\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to center.\n * @param {number} [size=0] The number of character to center the String expression.\n * @param {string} [separator= ] The optional separator character use before and after the String to center.\n * @return The center expression of the specified string.\n * @example\n * trace( '<' + center(\"hello world\", 0)  + '>' ) ; // <hello world>\n * trace( '<' + center(\"hello world\", 20) + '>' ) ; // <    hello world     >\n * trace( '<' + center(\"hello world\", 20, \"_\" ) + '>'  )  ; // <____hello world_____>\n */\nexport function center( source , size = 0  , separator = \" \" )\n{\n    if ( source === null || !(source instanceof String || typeof(source) === 'string' ) )\n    {\n        return \"\" ;\n    }\n\n    if ( separator === null || !(separator instanceof String || typeof(separator) === 'string' ) )\n    {\n        separator = \" \" ;\n    }\n\n    var len = source.length;\n\n    if ( len <= size )\n    {\n        len = size - len ;\n        var remain = ( len % 2 === 0 ) ? \"\" : separator;\n        var pad    = \"\";\n        var count  = Math.floor( len / 2 );\n        if ( count > 0 )\n        {\n            for( var i = 0 ; i < count ; i++ )\n            {\n                pad = pad.concat( separator );\n            }\n        }\n        else\n        {\n            pad = separator;\n        }\n        return pad + source + pad + remain ;\n    }\n    else\n    {\n        return source ;\n    }\n}","/*jslint noempty: false */\n\"use strict\" ;\n\nimport { whiteSpaces } from '../chars/whiteSpaces.js' ;\n\n/**\n * Removes all occurrences of a set of specified characters (or strings) from the beginning and end of this instance.\n * @name trim\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to trim.\n * @param {array} [chars=null] - The optional Array of characters to trim. If this argument is null the {@link core.chars.whiteSpaces} array is used.\n * @return The new trimed string.\n * @example\n * trace( trim(\"\\r\\t   hello world   \\t \") ); // hello world\n * trace( trim(\"-_hello world_-\",[\"-\",\"_\"]) ) ; // hello world\n */\nexport function trim( source , chars = null )\n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return '' ;\n    }\n\n    if( !chars || !(chars instanceof Array) )\n    {\n        chars = whiteSpaces ;\n    }\n\n    var i ;\n    var l ;\n\n    // ---- start\n\n    l = source.length ;\n\n    for( i = 0 ; (i < l) && (chars.indexOf( source.charAt( i ) ) > - 1) ; i++ ){}\n    source = source.substring( i );\n\n    // ---- end\n\n    l = source.length ;\n    for( i = source.length - 1; (i >= 0) && (chars.indexOf( source.charAt( i ) ) > - 1) ; i-- ){}\n    source = source.substring( 0, i + 1 ) ;\n\n    // ----\n\n    return source ;\n}","\"use strict\" ;\n\nimport { trim } from './trim.js' ;\n\n/**\n * Removes all extraneous whitespace from a string and trims it.\n * @name clean\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to clean.\n * @return The cleaned string.\n * @example\n * trace( clean(\"   hello world \\n\\n\" ) ) ; // hello world\n */\nexport function clean( source )\n{\n    if ( source === null || !(source instanceof String || typeof(source) === 'string' ) )\n    {\n        return \"\" ;\n    }\n    return trim( source.replace( /\\s+/g , ' ' ) );\n}","\"use strict\" ;\n\n/**\n * Compares two strings, the default comparaison algorithm use an ascending alphabetic order with minuscule weighting less than majuscule.\n * @name compare\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} str1 - The first string to compare with the second string\n * @param {string} str2 - Thesecond string to compare with the first string\n * @param {boolean} [strict=false] This flag indicates if the function take into account the string case, default to false\n * @return An integer value :\n * <p>\n * <ul>\n * <li> 0 if the two strings are considered equals</li>\n * <li>-1 if the first string is considered smaller (lower) than the second string</li>\n * <li> 1 if the first string is considered bigger (higher) than the second string</li>\n * </ul>\n * </p>\n * @example\n * var s0 = \"HELLO\";\n * var s1 = \"hello\";\n * var s2 = \"welcome\";\n * var s3 = \"world\";\n *\n * trace( compare( s1, s2 ) ); //-1\n * trace( compare( s2, s1 ) ); //1\n * trace( compare( s1, s3 ) ); //1\n * trace( compare( s1, s1 ) ); //0\n * trace( compare( s1, s0 ) ); //0\n * trace( compare( s1, s0, true ) ); //-1\n * trace( compare( s0, s1, true ) ); //1\n */\nexport function compare( str1  , str2  , strict = false ) \n{\n    if( !( (typeof(str1) === 'string') || (str1 instanceof String ) ) )\n    {\n        throw new TypeError('Bad arguments, the compare function failed, the first argument must be a string value.') ;\n    }\n\n    if( !( (typeof(str2) === 'string') || (str2 instanceof String ) ) )\n    {\n        throw new TypeError('Bad arguments, the compare function failed, the second argument must be a string value.') ;\n    }\n\n    if( str1 === str2 )\n    {\n        return 0;\n    }\n\n    strict = Boolean(strict) ;\n\n    if( !strict )\n    {\n        str1 = str1.toLowerCase();\n        str2 = str2.toLowerCase();\n    }\n\n    if( str1.length === str2.length )\n    {\n        var local  = str1.localeCompare( str2 );\n        if( local === 0 )\n        {\n            return 0;\n        }\n        else if( local < 0 )\n        {\n            return -1;\n        }\n\n        return 1;\n    }\n    else if( str1.length > str2.length )\n    {\n        return 1;\n    }\n    else\n    {\n        return -1;\n    }\n}","\"use strict\" ;\n\n/**\n * Determines wether the end of a string matches the specified value.\n * @name endsWith\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to check.\n * @param {string} value - The value to find in end in the source.\n * @return <code>true</code> if the value is find in first.\n * @example <caption>Basic usage</caption>\n * trace( endsWith( \"hello world\", \"world\" ) ); //true\n * trace( endsWith( \"hello world\", \"hello\" ) ); //false\n */\nexport function endsWith( source , value )\n{\n    if\n    (\n        !(source instanceof String || typeof(source) === 'string' ) ||\n        !(value instanceof String  || typeof(value)  === 'string' ) ||\n        source.length < value.length\n    )\n    {\n        return false ;\n    }\n\n    if( value === \"\" )\n    {\n        return true ;\n    }\n\n    return source.lastIndexOf(value) === ( source.length - value.length ) ;\n}","\"use strict\" ;\n\n/**\n * Quick and fast format of a string using indexed parameters only.\n * <p><strong>Usage :</strong>\n * <ul>\n * <li><code>fastformat( pattern:String, ...args:Array ):String</code></li>\n * <li><code>fastformat( pattern:String, [arg0:*,arg1:*,arg2:*, ...] ):String</code></li>\n * </ul>\n * </p>\n * @name fastformat\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} pattern - The String pattern expression to format.\n * @param {...string} args - A serie of strings values or of arrays of strings to fill the pattern expression.\n * @return The formatted expression.\n * @see {@link core.strings.format}\n * @example\n * trace( fastformat( \"hello {0}\", \"world\" ) ); // \"hello world\"\n * trace( fastformat( \"hello {0} {1} {2}\", [ \"the\", \"big\", \"world\" ] ) ); // \"hello the big world\"\n * trace( fastformat( \"hello {0} {1} {2}\", [ \"the\", \"big\" ] , \"world\" ) ); // \"hello the big world\"\n */\nexport function fastformat( pattern , ...args ) \n{\n    if( (pattern === null) || !(pattern instanceof String || typeof(pattern) === 'string' ) )\n    {\n        return \"\" ;\n    }\n\n    if( args.length > 0 )\n    {\n        args = [].concat.apply( [] , args ) ;\n        let len  = args.length ;\n        for( var i = 0 ; i < len ; i++ )\n        {\n            pattern = pattern.replace( new RegExp( \"\\\\{\" + i + \"\\\\}\" , \"g\" ), args[i] );\n        }\n    }\n\n    return pattern;\n}","\"use strict\" ;\n\n/**\n * Returns the string representation of the specific date with the format \"yyyy-mm-dd\".\n * @name fastformatDate\n * @memberof core.strings\n * @function\n * @instance\n * @param {Date} [date=null] - The date object to format (default the current Date if the argument is null).\n * @param {string} [separator=-] The default separator of the format expression.\n * @return The string representation of the specific date with the format <code>\"yyyy-mm-dd\"</code>.\n * @example\n * trace( fastformatDate(new Date(2016,5,12)) ) ; // \"2016-06-12\"\n * trace( fastformatDate(new Date(2016,5,12),\"/\") ) ; // \"2016/06/12\"\n */\nexport function fastformatDate( date = null , separator = '-' )\n{\n    if( !(date instanceof Date) )\n    {\n        date = new Date() ;\n    }\n\n    var month = date.getMonth() + 1 ;\n    var day   = date.getDate() ;\n\n    var exp = date.getFullYear() + separator ;\n\n    if( month < 10 )\n    {\n       exp += \"0\" ;\n    }\n\n    exp += month + separator ;\n\n    if ( day < 10 )\n    {\n        exp += \"0\" ;\n    }\n\n    exp += day ;\n    return exp ;\n}","\"use strict\" ;\n\n/**\n * Apply character padding to a string.\n * <p>The padding amount is relative to the string length, if you try to pad the string <code>\"hello\"</code> (5 chars) with an amount of 10,\n * you will not add 10 spacing chars to the original string, but you will obtain <code>\".....hello\"</code>, exactly 10 chars after the padding.</p>\n * <p>A positive <code>amount</code> value will pad the string on the left (right align), and a negative <code>amount</code> value will pad the string on the right (left align).</p>\n * @name pad\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to pad.\n * @param {number} amount the amount of padding (number sign is the padding direction)\n * @param char the character to pad with (default is space)\n * @example <caption>Basic usage</caption>\n * trace( \"left  : [\" + pad( \"hello\" , 8 )  + \"]\" ); //left  : [   hello]\n * trace( \"right : [\" + pad( \"hello\" , -8 ) + \"]\" ); //right : [hello   ]\n * @example <caption>Padding a list of names\n * <ul>\n * <li>//.....jerry</li>\n * <li>//....george</li>\n * <li>//....kramer</li>\n * <li>//.....helen</li>\n * </ul>\n * </caption>\n * var seinfeld = [ \"jerry\", \"george\", \"kramer\", \"helen\" ];\n *\n * var len = seinfeld.length ;\n * for( var i = 0 ; i<len ; i++ )\n * {\n *     trace( pad( seinfeld[i] , 10 , \".\" ) ) ;\n * }\n */\nexport function pad( source , amount = 0 , ch = \" \" )\n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return '' ;\n    }\n\n    var left  = amount >= 0 ;\n    var width = amount > 0 ? amount : -amount ;\n\n    if( ( width < source.length ) || ( width === 0 ) )\n    {\n        return source ;\n    }\n\n    if ( ch === null )\n    {\n        ch = \" \" ;\n    }\n    else if ( ch.length > 1 )\n    {\n        ch = ch.charAt(0) ;\n    }\n\n    while( source.length !== width )\n    {\n        if( left )\n        {\n            source = ch + source ;\n        }\n        else\n        {\n            source += ch ;\n        }\n    }\n\n    return source;\n}","\"use strict\" ;\n\nimport { pad } from './pad.js' ;\n\n/**\n * Format a string using indexed or named parameters.\n * <p><strong>Usage :</strong>\n * <ul>\n * <li><code>format( pattern, ...args )</code></li>\n * <li><code>format( pattern, [arg0,arg1,arg, ...] )</code></li>\n * <li><code>format( pattern, [arg0:*,arg1,arg2, ...], ...args )</code></li>\n * <li><code>format( pattern, {name0:value0,name1:value1,name2:value2, ...} )</code></li>\n * <li><code>format( pattern, {name0:value0,name1:value1,name2:value2, ...}, ...args )</code></li>\n * </ul>\n * </p>\n * @name format\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} pattern - The string expression to format.\n * @param {...string|array|Object} args - A serie of strings values or of arrays of strings or an Object to fill the pattern expression.\n * @return The formatted expression.\n * @see {@link core.strings.fastformat}\n * @throws <strong>Error</strong> when a token is malformed.\n * @example\n * trace( core.strings.format( \"{0},{1},{2}\" , \"apples\" , \"oranges\", \"grapes\" ) ) ; // apples,oranges,grapes\n * trace( core.strings.format( \"{0},{1},{2}\" , [\"apples\" , \"oranges\", \"grapes\"] ) ) ; // apples,oranges,grapes\n * trace( core.strings.format( \"{path}{0}{name}{1}\" , { name : \"format\" , path:\"core.strings\" } , \".\" , \"()\" ) ) ; // core.strings.format()\n */\nexport function format( pattern , ...args ) \n{\n    if( (pattern === null) || !(pattern instanceof String || typeof(pattern) === 'string' ) )\n    {\n        return \"\" ;\n    }\n\n    var formatted = pattern;\n    var len       = args.length;\n    var words     = {};\n\n    if( (len === 1) && (args[0] instanceof Array) )\n    {\n        args = args[0];\n    }\n    else if( args[0] instanceof Array )\n    {\n        let a = args[0] ;\n        args.shift() ;\n        args = a.concat( args );\n    }\n    else if( (args[0] instanceof Object) && (String( args[0] ) === \"[object Object]\") )\n    {\n        words = args[0];\n        if( len > 1 )\n        {\n            args.shift();\n        }\n    }\n\n    /* note:\n       don't use the global flag here as we want the search\n       to be iterative and starting at index 0 of the string\n\n       but do use the multiline flag if a token can be replaced\n       by a \\n, \\r, etc.\n    */\n    var search = new RegExp( \"{([a-z0-9,:\\\\-]*)}\", \"m\" );\n    var result = search.exec( formatted );\n\n    var part ;\n    var token ;\n    var c ;\n\n    var pos ;\n\n    var dirty = false ;\n\n    var padding = 0;\n\n    /* note:\n       the buffer will store special string parts of the form\n       buffer[0] = \"{a:1,b:2,c:3}\"\n       the fromatted string will replace it by the form\n       \\uFFFC0 , \\uFFFC+N , N being an integer from 0 to N\n    */\n    var buffer  = [];\n\n    while( result !== null )\n    {\n        part  = result[0];\n        token = result[1] ;\n        pos   = token.indexOf( \",\" );\n\n        if( pos > 0 )\n        {\n            padding = Number( token.substr( pos + 1 ) );\n            token   = token.substring( 0, pos );\n        }\n\n        // -----\n\n        c = token.charAt( 0 ) ;\n\n        if( (\"0\" <= c) && (c <= \"9\") )\n        {\n            formatted = formatted.replace( part, pad( String( args[token] ) , padding ) );\n        }\n        else if( ( token === \"\" ) || ( token.indexOf( \":\" ) > -1 ) )\n        {\n            /* note:\n               this is to deal with eden/json strings inside a format string\n               if you do a format( \"expected: <{a:1,b:2,c:3}> but was: <{a:1,b:2,c:4}>\", \"test\" )\n               this will collide of the legit parsing of\n               format( \"hello {x,-8} and nhello {y,-8}\" )\n            */\n            buffer.push( part );\n            formatted = formatted.replace( new RegExp(part,\"g\"), \"\\uFFFC\"+ ( buffer.length - 1 ) ) ;\n            dirty     = true;\n        }\n        else if( ( \"a\" <= c ) && ( c <= \"z\" ) )\n        {\n            if( token in words || words.hasOwnProperty( token ) )\n            {\n                formatted = formatted.replace( new RegExp(part,\"g\"), pad( String( words[token] ) , padding ) );\n            }\n        }\n        else\n        {\n            throw new Error( \"core.strings.format failed, malformed token \\\"\" + part + \"\\\", can not start with \\\"\" + c + \"\\\"\" ) ;\n        }\n\n        result = search.exec( formatted );\n    }\n\n    if( dirty )\n    {\n        var i ;\n        var bl = buffer.length ;\n        for( i = 0 ; i < bl ; i++ )\n        {\n            formatted = formatted.replace( new RegExp( \"\\uFFFC\" + i , \"g\" ) , buffer[i] );\n        }\n    }\n\n    return formatted;\n}","\"use strict\" ;\n\n/**\n * Converts a camelcased string to a hyphenated string.\n * @name hyphenate\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to hyphenate.\n * @return The hyphenated string.\n * @example\n * trace( hyphenate( \"helloWorld\" ) ) ; //\"hello-world\"\n */\nexport function hyphenate( source )\n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return '' ;\n    }\n    return source.replace\n    (\n        /[A-Z]/g, ( match ) => '-' + match.charAt(0).toLowerCase()\n    );\n}","\"use strict\" ;\n\n/**\n * Reports the index of the first occurrence in a string expression of any character in a specified array of Unicode characters.\n * @name indexOfAny\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to check.\n * @param {Array} anyOf - The Array of Unicode characters to find in the String.\n * @param {number} [startIndex=0] - The init position of the search process.\n * @param {number} [count=-1] - The number of character positions to examine.\n * @return the index of the first occurrence in this instance of any character in a specified array of Unicode characters.\n * @example\n * trace( indexOfAny( \"hello world\" , [\"h\",\"e\",\"l\"]) ) ; // 0\n * trace( indexOfAny( \"hello world\" , [\"w\",\"a\",\"i\",\"t\"]) ) ; // 6\n * trace( indexOfAny( \"hello world\" , [\"n\",\"i\"] ) ) ; // -1\n */\nexport function indexOfAny( source , anyOf , startIndex = 0 , count = -1 ) \n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return -1 ;\n    }\n\n    if( !(anyOf instanceof Array) )\n    {\n        return -1 ;\n    }\n\n    startIndex = startIndex > 0 ? 0 : startIndex ;\n    count      = count < 0 ? -1 : count ;\n\n    let l = source.length ;\n    let endIndex ;\n\n    if( ( count < 0 ) || ( count > l - startIndex ) )\n    {\n        endIndex = l - 1 ;\n    }\n    else\n    {\n        endIndex = startIndex + count - 1;\n    }\n\n    for( let i = startIndex ; i <= endIndex ; i++ )\n    {\n        if( anyOf.indexOf( source[i] ) > - 1 )\n        {\n            return i ;\n        }\n    }\n\n    return -1 ;\n}","\"use strict\" ;\n\n/**\n * Inserts a specified instance of String at a specified index position in this instance.\n * <p><b>Note :</b>\n * <ul>\n * <li>if <code>index >= source.length</code>, we directly append the value to the end of the string.</li>\n * <li>if <code>index == 0</code>, we directly insert it to the begining of the string.</li>\n * <li>if <code>index < 0</code>, we directly insert but searching backwards from the <code>source.length - index</code> position.</li>\n * </ul>\n * </p>\n * @name insert\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to change.\n * @param {number} [index=0] The position to insert the new characters.\n * @param {string} value The expression to insert in the source.\n * @return the modified string expression.\n * @example\n * trace( insert(\"hello\",  0, \"a\" ) ) ; // ahello\n * trace( insert(\"hello\",  1, \"a\" ) ) ; // haello\n * trace( insert(\"hello\", 10, \"a\" ) ) ; // helloa\n * trace( insert(\"hello\", -1, \"a\" ) ) ; // helloa\n * trace( insert(\"hello\", -2, \"a\" ) ) ; // hellao\n */\nexport function insert( source , index = 0 , value = \"\" )\n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return '' ;\n    }\n\n    if( !(value instanceof String || typeof(value) === 'string' ) || value === \"\" )\n    {\n        return source ;\n    }\n\n    var strA = \"\";\n    var strB = \"\";\n\n    if( index < 0 )\n    {\n        index = source.length - Math.abs(index) + 1 ;\n    }\n    else if( index === 0 )\n    {\n        return value + source ;\n    }\n    else if( index >= source.length )\n    {\n        return source + value ;\n    }\n\n    strA = source.substr( 0, index );\n    strB = source.substr( index );\n\n    return strA + value + strB;\n}","\"use strict\" ;\n\n/**\n * Reports the index position of the last occurrence in this instance of one or more characters specified in a Unicode array.\n * @name lastIndexOfAny\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to check.\n * @param {Array} anyOf - The Array of Unicode characters to find in the String.\n * @param {number} [startIndex] - The init position of the search process (by default the length-1 of the source).\n * @param {number} [count=-1] - The number of character positions to check.\n * @return the index position of the last occurrence in this instance of one or more characters specified in a Unicode array.\n * @example\n * trace( lastIndexOfAny( \"hello world\" , [\"n\",\"i\"] ) ) ; // -1\n * trace( lastIndexOfAny( \"hello world\" , [\"h\",\"e\",\"l\"]) ) ; // 0\n * trace( lastIndexOfAny( \"hello world\" , [\"l\",\"e\",\"h\"]) ) ; // 9\n * trace( lastIndexOfAny( \"hello world\" , [\"w\",\"a\",\"i\",\"t\"]) ) ; // 6\n * trace( lastIndexOfAny( \"hello world\" , [\"d\",\"r\",\"a\",\"w\"]) ) ; // 10\n * trace( lastIndexOfAny( \"hello world\" , [\"l\"]) ) ; // 9\n * trace( lastIndexOfAny( \"hello world\" , [\"l\"] , 9 ) ) ; // 3\n * trace( lastIndexOfAny( \"hello world\" , [\"w\"] , 9 , 5 ) ) ; // 6\n */\nexport function lastIndexOfAny( source , anyOf , startIndex = Infinity , count = Infinity  ) \n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return -1 ;\n    }\n\n    if( !(anyOf instanceof Array) || anyOf.length === 0 )\n    {\n        return -1 ;\n    }\n\n    if( startIndex < 0 )\n    {\n        return -1 ;\n    }\n    else if( isNaN(startIndex) || startIndex > source.length )\n    {\n        startIndex = source.length ;\n    }\n\n    count = count > 0 ? count : 0 ;\n\n    let endIndex = Math.max( startIndex - count , 0 ) ;\n\n    source = source.slice( endIndex, startIndex ) ;\n\n    let len = anyOf.length ;\n    for ( let i = 0 ; i < len ; i++ )\n    {\n        let index = source.lastIndexOf( anyOf[i] , startIndex ) ;\n        if (index > - 1)\n        {\n            return endIndex + index ;\n        }\n    }\n\n    return - 1 ;\n}","/*jshint bitwise: false*/\n\"use strict\" ;\n\n/**\n * Returns a new String value who contains the specified String characters repeated count times.\n * @name repeat\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to repeat.\n * @param {number} [count=1] - The number of time to repeat the passed-in expression.\n * @return A new expression who contains the specified String characters repeated count times.\n * @example\n * trace( repeat( \"hello\" ) ) ; // hello\n * trace( repeat( \"hello\" , 0 ) ) ; // \"\"\n * trace( repeat( \"hello\" , 1 ) ) ; // hello\n * trace( repeat( \"hello\" , 2 ) ) ; // hellohello\n * trace( repeat( \"hello\" , 3 ) ) ; // hellohellohello\n *\n * trace( repeat( \"hello\" , -1 ) ) ; // throws RangeError =>'repeat count must be non-negative'\n * trace( repeat( \"hello\" , Infinity ) ) ; // throws RangeError =>'repeat count must be less than infinity'\n */\nexport function repeat( source , count = 1 )\n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return '' ;\n    }\n\n    count = isNaN( count ) ? 0 : count ;\n\n    if (count < 0)\n    {\n        throw new RangeError('repeat count must be non-negative');\n    }\n\n    if (count === Infinity)\n    {\n        throw new RangeError('repeat count must be less than infinity');\n    }\n\n    count = Math.floor(count);\n\n    // Ensuring count is a 31-bit integer allows us to heavily optimize the main part.\n    // But anyway, most current (August 2014) browsers can't handlestrings 1 << 28 chars or longer, so:\n    if ( (source.length * count) >= (1 << 28))\n    {\n        throw new RangeError('repeat count must not overflow maximum string size');\n    }\n\n    if ( count === 0 )\n    {\n        return \"\" ;\n    }\n\n    var result = '';\n    for (;;)\n    {\n        if ((count & 1) === 1)\n        {\n            result += source;\n        }\n        count >>>= 1;\n        if (count === 0)\n        {\n            break;\n        }\n        source += source;\n    }\n    return result;\n}","\"use strict\" ;\n\n/**\n * Checks if this string starts with the specified prefix.\n * @name startsWith\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to evaluates.\n * @param {string} value - The string expression to find in first in the source.\n * @return <code>true</code> if the value is find in first.\n * @example\n * trace( startsWith( \"hello.txt\" , \"hello\" ) ) ; // true\n */\nexport function startsWith( source , value )\n{\n    if\n    (\n        !(source instanceof String || typeof(source) === 'string' ) ||\n        !(value instanceof String  || typeof(value)  === 'string' ) ||\n        source.length < value.length\n    )\n    {\n        return false ;\n    }\n\n    if( value === \"\" )\n    {\n        return true ;\n    }\n\n    if( source.charAt( 0 ) !== value.charAt( 0 ) )\n    {\n        return false;\n    }\n\n    return source.indexOf( value ) === 0 ;\n}","/*jslint noempty: false */\n/*jslint unused: false */\n\"use strict\" ;\n\nimport { whiteSpaces } from '../chars/whiteSpaces.js' ;\n\n/**\n * Removes all occurrences of a set of characters specified in an array from the end of this instance.\n * @name trimEnd\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to trim.\n * @param {array} [chars=null] - The optional Array of characters to trim. If this argument is null the {@link core.chars.whiteSpaces} array is used.\n * @return The new trimed string.\n * @example\n * trace( trimEnd(\"---hello world---\" , [\"-\"] ) ) ; // ---hello world\n */\nexport function trimEnd( source , chars = null )\n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return '' ;\n    }\n\n    if( !chars || !(chars instanceof Array) )\n    {\n        chars = whiteSpaces ;\n    }\n\n    var i ;\n    var l = source.length ;\n\n    for( i = source.length - 1; (i >= 0) && (chars.indexOf( source.charAt( i ) ) > - 1) ; i-- ){}\n\n    return source.substring( 0, i + 1 );\n}","/*jslint noempty: false */\n\"use strict\" ;\n\nimport { whiteSpaces } from '../chars/whiteSpaces.js' ;\n\n/**\n * Removes all occurrences of a set of characters specified in an array from the beginning of this instance.\n * @name trimStart\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to trim.\n * @param {array} [chars=null] - The optional Array of characters to trim. If this argument is null the {@link core.chars.whiteSpaces} array is used.\n * @return The new trimed string.\n * @example\n * trace( trimStart( \"---hello world---\" , [\"-\"] ) ); // hello world---\n */\nexport function trimStart( source , chars = null )\n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return '' ;\n    }\n\n    if( !chars || !(chars instanceof Array) )\n    {\n        chars = whiteSpaces ;\n    }\n\n    var i ;\n    var l = source.length ;\n\n    for( i = 0; (i < l) && (chars.indexOf( source.charAt( i ) ) > - 1) ; i++ ){}\n\n    return source.substring( i );\n}","\"use strict\" ;\n\nimport { trimEnd } from './trimEnd.js' ;\n\n/**\n * Truncates a string expression, accounting for word placement and character count.\n * @name truncate\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to transform.\n * @param {number} length - The number of character to keep.\n * @param {string} prune - The string suffix to finalize the truncated expression.\n * @return The new truncated string.\n * @example\n * trace( truncate(\"this is some long text\")) ; // ...\n * trace( truncate(\"this is some long text\",3) ) ; // ...\n * trace( truncate(\"this is some long text\",7) ) ; // this is...\n * trace( truncate(\"this is some long text\",12) ) ; // this is some...\n * trace( truncate(\"this is some long text\",12,\" etc.\") ) ; // this is some, etc.\n */\nexport function truncate( source , length = 0 , prune = \"...\" )\n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return '' ;\n    }\n\n    length = length > 0 ? length : 0 ;\n\n    if( !(prune instanceof String || typeof(prune) === 'string' ) )\n    {\n        prune = '...' ;\n    }\n\n    if (source.length <= length)\n    {\n        return source ;\n    }\n\n    let template = source.slice( 0 , length+1 )\n                         .replace\n                         (\n                            /.(?=\\W*\\w*$)/g ,\n                            (c) => c.toUpperCase() !== c.toLowerCase() ? 'A' : ' '\n                         ) ;\n\n    if ( template.slice(template.length-2).match(/\\w\\w/))\n    {\n        template = template.replace( /\\s*\\S+$/ , '' );\n    }\n    else\n    {\n        template = trimEnd( template.slice( 0 , template.length-1 ) ) ;\n    }\n\n    return (template+prune).length > source.length ? source : source.slice(0, template.length) + prune ;\n}","\"use strict\" ;\n\n/**\n * Capitalize each word in a string.\n * @name ucWords\n * @memberof core.strings\n * @function\n * @instance\n * @param {string} source - The string reference to transform.\n * @param {string} [separator=' '] - The optional separator expression.\n * @return The new string expression with each word capitalized.\n * @example\n * trace( ucWords(\"hello world\")) ; // Hello World\n * trace( ucWords(\"hello-world\",\"-\")) ; // Hello-World\n */\nexport function ucWords( str , separator = \" \" )\n{\n    if( !(str instanceof String || typeof(str) === 'string' ) || str === \"\" )\n    {\n        return '' ;\n    }\n    var ar = str.split( separator ) ;\n    var l  = ar.length ;\n    while(--l > -1)\n    {\n        ar[l] = ar[l].charAt(0).toUpperCase() + ar[l].substring(1) ;\r\n    }\n    return ar.join( separator ) ;\n}\n","/*jshint bitwise: false*/\n\"use strict\" ;\n\n/**\n * Extracts the version from the UUID, which is (by definition) the M in xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx\n * @name versionUUID\n * @memberof core.strings\n * @function\n * @instance\n * @param  {String} uuid The uuid expression\n * @return {Number} The version number of the uuid expression.\n * @example\n * trace( versionUUID(\"c01bfdc3-405c-45a1-9dec-06e6e830bee1\") ) ; // 4\n */\nexport var versionUUID = function (uuid)\n{\n    return uuid.charAt(14)|0 ;\n};","\"use strict\" ;\n\nimport { versionUUID } from './versionUUID.js' ;\n\n/**\n * Determines whether the uuid is valid, converting it from a buffer if necessary.\n * @name validateUUID\n * @memberof core.strings\n * @function\n * @instance\n * @param {String} uuid - The uuid expression to validate.\n * @param {Number} vers - The optional version of the uuid to validate.\n * @return {Boolean} <code>true</code> if the uuid expression is valid.\n * @example\n * trace( validateUUID(\"c01bfdc3-405c-45a1-9dec-06e6e830bee1\") ) ; // true\n */\nexport function validateUUID( source , version = null )\n{\n    if( !(source instanceof String || typeof(source) === 'string' ) || source === \"\" )\n    {\n        return false ;\n    }\n\n    source = source.toLowerCase() ;\n\n    if ( !pattern.test(source) )\n    {\n        return false ;\n    }\n\n    if ( !version )\n    {\n        version = versionUUID(source) ;\n    }\n    else if (versionUUID(source) !== version )\n    {\n        return false ;\n    }\n\n    switch (version)\n    {\n        case 1:\n        case 2:\n        {\n            return true;\n        }\n        case 3 :\n        case 4 :\n        {\n            return ['8', '9', 'a', 'b'].indexOf(source.charAt(19)) !== -1;\n        }\n        default :\n        {\n            throw new Error('Invalid version provided.');\n        }\n    }\n}\n\n/**\n * Regular expression used for basic parsing of the uuid.\n * @private\n */\nvar pattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-4][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i;","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { between }           from './strings/between.js' ;\nimport { camelCase }         from './strings/camelCase.js' ;\nimport { capitalize }        from './strings/capitalize.js' ;\nimport { center }            from './strings/center.js' ;\nimport { clean }             from './strings/clean.js' ;\nimport { compare }           from './strings/compare.js' ;\nimport { endsWith }          from './strings/endsWith.js' ;\nimport { fastformat }        from './strings/fastformat.js' ;\nimport { fastformatDate }    from './strings/fastformatDate.js' ;\nimport { format }            from './strings/format.js' ;\nimport { hyphenate }         from './strings/hyphenate.js' ;\nimport { indexOfAny }        from './strings/indexOfAny.js' ;\nimport { insert }            from './strings/insert.js' ;\nimport { lastIndexOfAny }    from './strings/lastIndexOfAny.js' ;\nimport { pad }               from './strings/pad.js' ;\nimport { repeat as arepeat } from './strings/repeat.js' ;\nimport { startsWith }        from './strings/startsWith.js' ;\nimport { trim }              from './strings/trim.js' ;\nimport { trimEnd }           from './strings/trimEnd.js' ;\nimport { trimStart }         from './strings/trimStart.js' ;\nimport { truncate }          from './strings/truncate.js' ;\nimport { ucFirst }           from './strings/ucFirst.js' ;\nimport { ucWords }           from './strings/ucWords.js' ;\nimport { validateUUID }      from './strings/validateUUID.js' ;\nimport { versionUUID }       from './strings/versionUUID.js' ;\n\n// import { latinize }          from './strings/latinize.js' ;\n\n/**\n * The {@link core.strings} package is a modular <b>JavaScript</b> library that provides extra <code>String</code> methods.\n * @summary The {@link core.strings} package is a modular <b>JavaScript</b> library that provides extra <code>String</code> methods.\n * @namespace core.strings\n * @memberof core\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n */\nexport var strings = Object.assign\n({\n    between : between ,\n    camelCase : camelCase ,\n    capitalize : capitalize ,\n    center : center ,\n    clean : clean ,\n    compare : compare ,\n    endsWith : endsWith ,\n    fastformat : fastformat ,\n    fastformatDate : fastformatDate ,\n    format : format ,\n    hyphenate : hyphenate ,\n    indexOfAny : indexOfAny ,\n    insert : insert ,\n    lastIndexOfAny : lastIndexOfAny ,\n    //latinize : latinize ,\n    pad : pad ,\n    repeat : arepeat ,\n    startsWith : startsWith ,\n    trim : trim ,\n    trimEnd : trimEnd ,\n    trimStart : trimStart ,\n    truncate : truncate ,\n    ucFirst : ucFirst ,\n    ucWords : ucWords ,\n    validateUUID : validateUUID ,\n    versionUUID : versionUUID\n}) ;","\"use strict\" ;\n\nimport './polyfill/Object.js' ;\n\nimport { dump    } from './core/dump.js' ;\nimport { global  } from './core/global.js' ;\n\nimport { cancelAnimationFrame  } from './core/cancelAnimationFrame.js' ;\nimport { requestAnimationFrame } from './core/requestAnimationFrame.js' ;\n\nimport { isBoolean } from './core/isBoolean.js' ;\nimport { isFloat   } from './core/isFloat.js' ;\nimport { isInt     } from './core/isInt.js' ;\nimport { isNumber  } from './core/isNumber.js' ;\nimport { isUint    } from './core/isUint.js' ;\nimport { isString  } from './core/isString.js' ;\n\nimport { arrays   } from './core/arrays.js' ;\nimport { chars    } from './core/chars.js' ;\nimport { colors   } from './core/colors.js' ;\nimport { date     } from './core/date.js' ;\nimport { dom      } from './core/dom.js' ;\nimport { easings  } from './core/easings.js' ;\nimport { functors } from './core/functors.js' ;\nimport { maths    } from './core/maths.js' ;\nimport { numbers  } from './core/numbers.js' ;\nimport { objects  } from './core/objects.js' ;\nimport { random   } from './core/random.js' ;\nimport { reflect  } from './core/reflect.js' ;\nimport { strings  } from './core/strings.js' ;\n\n/**\n * The {@link core} package is specialized in functions utilities that are highly reusable without creating any dependencies : arrays, strings, chars, objects, numbers, maths, date, colors, etc.\n * <p>You can consider a library as a set of functions organized into classes, here with a <strong>\"core\"</strong> library in some cases we organize the functions in the package definitions without assembling them into a class.</p>\n * <p>Those functions are allowed to reuse the builtin types (Object, Array, Date, etc.), the Javascript API classes and packages, but nothing else.</p>\n * @summary The {@link core} package is specialized in functions utilities that are highly reusable without creating any dependencies.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/)|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace core\n * @version 1.0.7\n * @since 1.0.0\n */\nexport var core = Object.assign\n({\n    global  : global ,\n    dump    : dump ,\n    cancelAnimationFrame  : cancelAnimationFrame ,\n    requestAnimationFrame : requestAnimationFrame ,\n\n    isBoolean : isBoolean ,\n    isFloat   : isFloat ,\n    isInt     : isInt ,\n    isNumber  : isNumber ,\n    isString  : isString ,\n    isUint    : isUint ,\n\n    arrays   : arrays ,\n    chars    : chars ,\n    colors   : colors ,\n    date     : date ,\n    dom      : dom ,\n    easings  : easings,\n    functors : functors,\n    maths    : maths ,\n    numbers  : numbers,\n    objects  : objects ,\n    random   : random ,\n    reflect  : reflect ,\n    strings  : strings\n}) ;","\"use strict\" ;\n\n/**\n * This class determinates a basic implementation to creates enumeration objects.\n * @name Enum\n * @memberof system\n * @class\n * @param {number} value The value of the enumeration.\n * @param {string} name The name key of the enumeration.\n */\nexport function Enum( value , name )\n{\n    Object.defineProperties( this ,\n    {\n        _name :\n        {\n            value        : ((typeof(name) === \"string\" || name instanceof String )) ? name : \"\" ,\n            enumerable   : false ,\n            writable     : true ,\n            configurable : true\n        },\n        _value :\n        {\n            value        : isNaN(value) ? 0 : value ,\n            enumerable   : false ,\n            writable     : true ,\n            configurable : true\n        }\n    }) ;\n}\n\nEnum.prototype = Object.create( Object.prototype );\nEnum.prototype.constructor = Enum;\n\n/**\n * Compares the specified object with this object for equality.\n * @return <code>true</code> if the the specified object is equal with this object.\n * @memberof system.Enum\n * @instance\n * @function\n */\nEnum.prototype.equals = function ( object ) \n{\n    if ( object === this )\n    {\n        return true ;\n    }\n\n    if( object instanceof Enum )\n    {\n        return (object.toString() === this.toString()) && (object.valueOf() === this.valueOf()) ;\n    }\n\n    return false ;\n}\n\n/**\n * Returns the String representation of the object.\n * @return the String representation of the object.\n * @memberof system.Enum\n * @instance\n * @function\n */\nEnum.prototype.toString = function() \n{\n    return this._name ;\n}\n\n/**\n * Returns the primitive value of the object.\n * @return the primitive value of the object.\n * @memberof system.Enum\n * @instance\n * @function\n */\nEnum.prototype.valueOf = function()\n{\n    return this._value ;\n}","/*jshint unused: false*/\n\"use strict\" ;\n\n/**\n * Indicates if the specific objet is Equatable.\n * @function\n * @memberof system\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is {@link system.Equatable|Equatable}.\n */\nexport function isEquatable( target )\n{\n    if( target )\n    {\n        return ( target.equals && ( target.equals instanceof Function ) ) || (target instanceof Equatable)   ;\n    }\n\n    return false ;\n}\n\n/**\n * This interface is implemented by classes that can compare an object with their objects.\n * @name Equatable\n * @memberof system\n * @interface\n */\nexport function Equatable()\n{\n\n}\n\nEquatable.prototype = Object.create( Object.prototype );\nEquatable.prototype.constructor = Equatable;\n\n/**\n * Compares the specified object with this object for equality.\n * @memberof system.Equatable\n * @function\n * @param {*} object - The object to evaluates.\n * @return {boolean} true if the the specified object is <b>equal to</b> this object.\n */\nEquatable.prototype.equals = function( object )\n{\n    //\n}","/*jshint unused: false*/\n\"use strict\" ;\n\n/**\n * Indicates if the specific objet is {@link system.Evaluable|Evaluable}.\n * @name isEvaluable\n * @function\n * @memberof system\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is {@link system.Evaluable|Evaluable}.\n */\nexport function isEvaluable( target )\n{\n    if( target )\n    {\n        return (target instanceof Evaluable) ||\n               (( 'eval' in target ) && ( target.eval instanceof Function ))  ;\n    }\n    return false ;\n}\n\n/**\n * An Evaluable class can interpret an object to another object.\n * <p>It's not necessary a parser, but the most common cases would be a string being evaluated to an object structure.</p>\n * <p><b>Note:</b> eval always take one and only one argument, if you need to configure the evaluator pass different arguments in the constructor.</p>\n * @name Evaluable\n * @memberof system\n * @interface\n */\nexport function Evaluable() {}\n\nEvaluable.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Evaluable } ,\n\n    /**\n     * Evaluates the specified object.\n     * @param {*} value - The object to evaluates.\n     * @return The result of the evaluation.\n     * @name eval\n     * @memberof system.Evaluable\n     * @function\n     * @instance\n     */\n    eval : { writable : true , value : function( value ) {} } ,\n\n    /**\n     * Returns the string representation of this instance.\n     * @return {string} The string representation of this instance.\n     * @name toString\n     * @memberof system.Evaluable\n     * @instance\n     * @function\n     */\n    toString : { writable : true , value : function() { return '[' + this.constructor.name + ']' ; } }\n});","/*jshint unused: false*/\n\"use strict\" ;\n\n/**\n * Indicates if the specific objet is Formattable.\n * @name isFormattable\n * @function\n * @memberof system\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is {@link system.Formattable|Formattable}.\n */\nexport function isFormattable( target )\n{\n    if( target )\n    {\n        return (target instanceof Formattable) || (( 'format' in target ) && ( target.format instanceof Function ))  ;\n    }\n\n    return false ;\n}\n\n/**\n * Interface implemented by classes that can format a value in a specific string expression.\n * @name Formattable\n * @memberof system\n * @interface\n */\nexport function Formattable()\n{\n\n}\n\nFormattable.prototype = Object.create( Object.prototype );\nFormattable.prototype.constructor = Formattable;\n\n/**\n * Formats the specified value.\n * @param {*} value - The object to evaluates.\n * @return the string representation of the formatted value.\n * @name eval\n * @memberof system.Formattable\n * @function\n * @instance\n */\nFormattable.prototype.format = function( value ) \n{\n    //\n}","\"use strict\" ;\n\n/**\n * Indicates if the specific <code>target</code> is an {@link system.data.Identifiable|Identifiable} object.\n * @name isIdentifiable\n * @memberof system.data\n * @function\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is an {@link system.data.Identifiable|Identifiable} object.\n */\nexport function isIdentifiable( target )\n{\n    if( target )\n    {\n        return (target instanceof Identifiable) || ('id' in target) ;\n    }\n    return false ;\n}\n\n/**\n * This interface defines a common structure for <strong>identifiable</strong> classes (has an <code>id<code> property).\n * @name Identifiable\n * @interface\n * @memberof system.data\n */\nexport function Identifiable()\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * Indicates the unique identifier value of this object.\n         * @name id\n         * @memberof system.data.Identifiable\n         * @instance\n         */\n        id : { value : null , writable : true }\n    }) ;\n}\n\nIdentifiable.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value :  Identifiable }\n}) ;","/*jshint unused: false*/\n\"use strict\" ;\n\n/**\n * Indicates if the specific objet is an {@link system.data.Iterator|Iterator}.\n * @name isIterator\n * @memberof system.data\n * @function\n * @param {object} target - The target object to evaluate.\n * @return <code>true</code> if the object is an {@link system.data.Iterator|Iterator}.\n */\nexport function isIterator( target )\n{\n    if( target )\n    {\n        return (target instanceof Iterator) ||\n               (\n                    /*jshint -W069 */\n                    (Boolean(target['delete'])  && (target.delete  instanceof Function)) &&\n                    (Boolean(target['hasNext']) && (target.hasNext instanceof Function)) &&\n                    (Boolean(target['key'])     && (target.key     instanceof Function)) &&\n                    (Boolean(target['next'])    && (target.next    instanceof Function)) &&\n                    (Boolean(target['reset'])   && (target.reset   instanceof Function)) &&\n                    (Boolean(target['seek'])    && (target.seek    instanceof Function))\n                    /*jshint +W069 */\n                );\n    }\n    return false ;\n}\n\n/**\n * This interface defines the iterator pattern over a collection.\n * <p><b>Implementors:</b>\n * <ul>\n * <li>{@link system.data.iterators.ArrayIterator|ArrayIterator}</li>\n * <li>{@link system.data.iterators.MapIterator|MapIterator}</li>\n * </ul>\n * </p>\n * @name Iterator\n * @interface\n * @memberof system.data\n */\nexport function Iterator() {}\n\r\nIterator.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Iterator } ,\n\n    /**\n     * Deletes from the underlying collection the last element returned by the iterator (optional operation).\n     * @name delete\n     * @memberof system.data.Iterator\n     * @instance\n     * @function\n     */\n    delete : { writable : true , value : function() {} } ,\n\n    /**\n     * Returns <code>true</code> if the iteration has more elements.\n     * @return <code>true</code> if the iteration has more elements.\n     * @name hasNext\n     * @memberof system.data.Iterator\n     * @instance\n     * @function\n     */\n    hasNext : { writable : true , value : function() {} } ,\n\n    /**\n     * Returns the current key of the internal pointer of the iterator (optional operation).\n     * @return the current key of the internal pointer of the iterator (optional operation).\n     * @memberof system.data.Iterator\n     * @name key\n     * @memberof system.data.Iterator\n     * @instance\n     * @function\n     */\n    key : { writable : true , value : function() {} } ,\n\n    /**\n     * Returns the next element in the iteration.\n     * @return the next element in the iteration.\n     * @name next\n     * @memberof system.data.Iterator\n     * @instance\n     * @function\n     */\n    next : { writable : true , value : function() {} } ,\n\n    /**\n     * Reset the internal pointer of the iterator (optional operation).\n     * @memberof system.data.Iterator\n     * @name reset\n     * @instance\n     * @function\n     */\n    reset : { writable : true , value : function() {} } ,\n\n    /**\n     * Changes the position of the internal pointer of the iterator (optional operation).\n     * @name seek\n     * @memberof system.data.Iterator\n     * @instance\n     * @function\n     */\n    seek : { writable : true , value : function ( position ) {} } ,\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @name toString\n     * @memberof system.data.Iterator\n     * @instance\n     * @function\n     */\n    toString :\n    {\n        writable : true , value : function ()\n        {\n            if( !('__clazzname__' in this.constructor) )\n            {\n                Object.defineProperty( this.constructor , '__clazzname__' , { value : this.constructor.name } ) ;\n            }\n            return '[' + this.constructor.__clazzname__ + ']' ;\n        }\n    }\n}) ;\n","/*jshint unused: false*/\n\"use strict\" ;\n\nimport { Iterator } from './Iterator.js' ;\n\n/**\n * Indicates if the specific objet is an {@link system.data.OrderedIterator|OrderedIterator}.\n * @name isOrderedIterator\n * @memberof system.data\n * @function\n * @param {object} target - The target object to evaluate.\n * @return <code>true</code> if the object is an {@link system.data.OrderedIterator|OrderedIterator}.\n */\nexport function isOrderedIterator( target )\n{\n    var bool = false ;\n    if( target )\n    {\n        bool =\n        (\n            (target instanceof OrderedIterator) ||\n            (\n                (('hasNext'     in target) && (target.hasNext     instanceof Function)) &&\n                (('hasPrevious' in target) && (target.hasPrevious instanceof Function)) &&\n                (('key'         in target) && (target.key         instanceof Function)) &&\n                (('next'        in target) && (target.next        instanceof Function)) &&\n                (('previous'    in target) && (target.previous    instanceof Function)) &&\n                (('remove'      in target) && (target.remove      instanceof Function)) &&\n                (('reset'       in target) && (target.reset       instanceof Function)) &&\n                (('seek'        in target) && (target.seek        instanceof Function))\n            )\n        );\n    }\n    return bool ;\n}\n\n/**\n * Defines an iterator that operates over an ordered collection. This iterator allows both forward and reverse iteration through the collection.\n * @name OrderedIterator\n * @extends system.data.Iterator\n * @interface\n * @memberof system.data\n */\nexport function OrderedIterator() {}\n\r\nOrderedIterator.prototype = Object.create( Iterator.prototype ) ;\nOrderedIterator.prototype.constructor = OrderedIterator ;\n\n/**\n * Checks to see if there is a previous element that can be iterated to.\n * @memberof system.data.OrderedIterator\n * @function\n * @instance\n */\nOrderedIterator.prototype.hasPrevious = function() {}\n\r\n/**\n * Returns the previous element in the collection.\n * @return the previous element in the collection.\n * @memberof system.data.OrderedIterator\n * @function\n * @instance\n */\nOrderedIterator.prototype.previous = function() {}\n\n/**\n * Returns the string representation of this instance.\n * @return the string representation of this instance.\n * @name toString\n * @memberof system.data.OrderedIterator\n * @function\n * @instance\r\n */\r\nOrderedIterator.prototype.toString = function () { return '[OrderedIterator]' ; }","/*jshint laxbreak : true*/\n/*jshint unused   : false*/\n\"use strict\" ;\n\n/**\n * Indicates if the specific <code>target</code> is a {@link system.data.Validator|Validator} object.\n * @name isValidator\n * @memberof system.data\n * @function\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is a {@link system.data.Validator|Validator}.\n */\nexport function isValidator( target )\n{\n    if( target )\n    {\n        if (target instanceof Validator)\n        {\n            return true ;\n        }\n        return (('supports' in target) && target.supports instanceof Function)\n            && (('validate' in target) && target.validate instanceof Function) ;\n    }\n    return false ;\n}\n\n/**\n * Defines the methods that objects that participate in a validation operation.\n * @name Validator\n * @interface\n * @memberof system.data\n */\nexport function Validator() {}\n\r\nValidator.prototype = Object.create( Object.prototype ) ;\nValidator.prototype.constructor = Validator ;\n\n/**\n * Indicates if the validator supports the passed-in value.\n * @param {*} value - The value to evaluate.\n * @return <code>true</code> if the specific value is valid.\n * @memberof system.data.Validator\n * @function\n */\nValidator.prototype.supports = function( value ) {}\n\r\n/**\n * Evaluates the specified value and throw an <code>Error</code> if the value is not valid.\n * @param {*} value - The value to evaluate.\n * @memberof system.data.Validator\n * @function\n * @throws <code>Error</code> if the value is not valid.\n */\nValidator.prototype.validate = function ( value ) /*void*/ {}","/*jshint unused: false*/\n\"use strict\" ;\n\n/**\n * An object that maps keys to values. A map cannot contain duplicate keys. Each key can map to at most one value.\n * <p><b>Note:</b> This class replace the old <code>system.data.Map</code> interface in the VEGAS framework. Today in Javascript the {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map|Map} class is a standard global <b>ECMAScript</b> definition.</p>\n * @summary An object that maps keys to values.\n * @name KeyValuePair\n * @class\n * @memberof system.data\n */\nexport function KeyValuePair() {}\n\r\nKeyValuePair.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value :  KeyValuePair },\n\n    /**\n     * Returns the number of key-value mappings in this map.\n     * @name length\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @type {number}\n     * @readonly\n     */\n    length : { get : () => 0 } ,\n\n    /**\n     * Removes all mappings from this map (optional operation).\n     * @name clear\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    clear : { value : function () {} , writable : true } ,\n\n    /**\n     * Returns a shallow copy of the map.\n     * @return a shallow copy of the map.\n     * @name clone\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    clone : { value : function () { return new KeyValuePair() } , writable : true } ,\n\n    /**\n     * Copies all of the mappings from the specified map to this map (optional operation).\n     * @param {system.data.KeyValuePair} map - The map to fill the current map.\n     * @name setAll\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    copyFrom : { value : function( map ) {} , writable : true } ,\n\n    /**\n     * The <code>delete()</code> method removes the specified element from a KeyValuePair object.\n     * @param {*} key - The key of the entry to remove.\n     * @name delete\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    delete : { value : function( key ) {} , writable : true } ,\n\n    /**\n     * The forEach() method executes a provided function once per each key/value pair in the KeyValuePair object, in insertion order.\n     * @param callback Function to execute for each element.\n     * @param thisArg Value to use as this when executing callback.\n     * @name forEach\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    forEach : { value : function( callback , thisArg = null ) {} , writable : true } ,\n\n    /**\n     * Returns the value to which this map maps the specified key.\n     * @param {*} key - The key of the entry to retrieve in the collection.\n     * @name get\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    get : { value : function( key ) { return null ; } , writable : true } ,\n\n    /**\n     * Returns <code>true</code> if this map contains a mapping for the specified key.\n     * @param {*} key - The key of the entry to retrieve in the collection.\n     * @return <code>true</code> if this map contains a mapping for the specified key.\n     * @name has\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    has : { value : function( key ) { return false ; } , writable : true } ,\n\n    /**\n     * Returns <code>true</code> if this map maps one or more keys to the specified value.\n     * @return <code>true</code> if this map maps one or more keys to the specified value.\n     * @name hasValue\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    hasValue : { value : function( value ) { return false ; } , writable : true } ,\n\n    /**\n     * Returns <code>true</code> if this map contains no key-value mappings.\n     * @return <code>true</code> if this map contains no key-value mappings.\n     * @name isEmpty\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    isEmpty : { value : function() { return false ; } , writable : true } ,\n\n    /**\n     * Returns the values iterator of this map.\n     * @return the values iterator of this map.\n     * @name iterator\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    iterator : { value : function() /*Iterator*/ { return null ; } , writable : true } ,\n\n    /**\n     * Returns the keys iterator of this map.\n     * @return the keys iterator of this map.\n     * @name keyIterator\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    keyIterator : { value : function() /*Iterator*/ { return null } , writable : true } ,\n\n    /**\n     * Returns an <code>Array</code> of all the keys in the map.\n     * @return an <code>Array</code> representation of all the keys register in this collection.\n     * @name keys\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    keys : { value : function() { return null ; } , writable : true } ,\n\n    /**\n     * Associates the specified value with the specified key in this map (optional operation).\n     * @param {*} key - The key of the element to add to the Map object.\n     * @param {*} value - The value of the element to add to the Map object.\n     * @name set\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    set : { value : function( key , value ) {} , writable : true } ,\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @name toString\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    toString : { value : function () { return '[' + this.constructor.name + ']' ; } , writable : true } ,\n\n    /**\n     * Returns an array of all the values in the map.\n     * @return an <code>Array</code> representation of all the values register in this collection.\n     * @name values\n     * @memberof system.data.KeyValuePair\n     * @instance\n     * @function\n     */\n    values : { value : function ()  {} , writable : true }\n}) ;","\"use strict\" ;\n\n/**\n * This interface should be implemented by any properties definition object.\n * @name Property\n * @interface\n * @memberof system.data\n * @see system.data.Attribute\n * @see system.data.Method\n * @see system.process.Cache\n */\nexport function Property()\n{\n\n}\n\nProperty.prototype = Object.create( Object.prototype );\nProperty.prototype.constructor = Property;","\"use strict\" ;\n\nimport { Property } from './Property.js' ;\n\n/**\n * Determinates a basic <b>attribute</b> definition.\n * @summary Determinates a basic <b>attribute</b> definition.\n * @name Attribute\n * @class\n * @memberof system.data\n * @implements system.data.Property\n * @param {string} name The name of the attribute.\n * @param {*} value The value of the attribute.\n * @see system.data.Method\n * @see system.process.Cache\n */\nexport function Attribute( name = null , value = undefined )\n{\n    /**\n     * The name of the attribute.\n     * @name name\n     * @memberof system.data.Attribute\n     * @type {string}\n     */\n    this.name = (name instanceof String || typeof(name) === 'string') ? name : null ;\n\n    /**\n     * The value of the attribute.\n     * @name name\n     * @memberof system.data.Attribute\n     * @type {*}\n     */\n    this.value = value ;\n}\n\nAttribute.prototype = Object.create( Property.prototype );\nAttribute.prototype.constructor = Attribute;\n\n/**\n * Returns the string representation of this instance.\n * @return the string representation of this instance.\n * @name toString\n * @memberof system.data.Attribute\n * @function\n * @instance\n */\nAttribute.prototype.toString = function () { return \"[Attribute]\" ; }","\"use strict\" ;\n\nimport { Property } from './Property.js' ;\n\n/**\n * Determinates a basic <b>method</b> definition.\n * @summary Determinates a basic <b>method</b> definition.\n * @name Method\n * @class\n * @memberof system.data\n * @implements system.data.Property\n * @param {string} name The name of the method.\n * @param {array} [arg=null] The optional array of arguments of the method.\n * @see system.data.Attribute\n * @see system.process.Cache\n */\nexport function Method( name = null , args = null )\n{\n    /**\n     * The name of the method.\n     * @name name\n     * @memberof system.data.Method\n     * @type {string}\n     */\n    this.name = (name instanceof String || typeof(name) === 'string') ? name : null ;\n\n    /**\n     * The optional array of arguments of the method.\n     * @name args\n     * @memberof system.data.Method\n     * @type {array}\n     */\n    this.args = (args instanceof Array) ? args : null ;\n}\n\nMethod.prototype = Object.create( Property.prototype );\nMethod.prototype.constructor = Method;\n\n/**\n * Returns the string representation of this instance.\n * @return the string representation of this instance.\n * @name toString\n * @memberof system.data.Method\n * @function\n * @instance\n */\nMethod.prototype.toString = function () { return \"[Method]\" ; }","\"use strict\" ;\n\nimport { Identifiable } from './Identifiable.js' ;\n\n/**\n * Defines a value object. The value object are use for example in the models or to exchange datas between a client and a server.\n * @summary Defines a basic value object.\n * @name ValueObject\n * @class\n * @memberof system.data\n * @implements system.data.Identifiable\n * @constructs\n * @param {Object} [init=null] - A generic object containing properties with which to populate the newly instance. If this argument is null, it is ignored.\n */\nexport function ValueObject( init = null )\n{\n    Object.defineProperties( this ,\n    {\n        _constructorName : { writable : true , value : null }\n    });\n    Identifiable.call( this ) ;\n    if( init )\n    {\n        this.setTo( init ) ;\n    }\n}\n\nValueObject.prototype = Object.create( Identifiable.prototype ,\n{\n    constructor : { writable : true , value : ValueObject } ,\n\n    /**\n     * A utility function for implementing the <code>toString()</code> method in custom classes. Overriding the <code>toString()</code> method is recommended, but not required.\n     * @name formatToString\n     * @memberof system.data.ValueObject\n     * @instance\n     * @function\n     * @param {string} className - The class name to passed-in the string expression.\n     * @param {...string} [rest] - rest The properties of the class and the properties that you add in your custom class.\n     * @example\n     * class Thing extends ValueObject\n     * {\n     *     constructor( name )\n     *     {\n     *         this.name = name;\n     *     }\n     *\n     *     toString()\n     *     {\n     *         return this.formatToString( this.constructor.name , \"name\" );\n     *     }\n     * }\n     */\n    formatToString : { value : function( className , ...rest )\n    {\n        if( !className )\n        {\n            if( !this._constructorName )\n            {\n                this._constructorName = this.constructor.name ;\n            }\n            className = this._constructorName ;\n        }\n        let ar = [ className ] ;\n        let len = rest.length ;\n        for ( let i = 0; i < len ; ++i )\n        {\n            if( rest[i] in this )\n            {\n                ar.push( rest[i] + \":\" + this[rest[i]] ) ;\n            }\n        }\n        return \"[\" + ar.join(' ') + \"]\" ;\n    }},\n\n    /**\n     * Sets the members of the object to the specified values.\n     * @param {Object} init - The generic object to initialize the object.\n     * @return The current object reference.\n     * @memberof system.data.ValueObject\n     * @instance\n     * @function\n     */\n    setTo : { writable : true , value : function( init )\n    {\n        if( init )\n        {\n            for( var prop in init )\n            {\n                if( prop in this )\n                {\n                    this[prop] = init[prop];\n                }\n            }\n        }\n        return this ;\n    }},\n\n    /**\n     * Returns the string representation of this object.\n     * @return the string representation of this object.\n     * @memberof graphics.tmx.Base\n     * @instance\n     * @function\n     */\n    toString : { writable : true , value : function()\n    {\n        return this.formatToString( null ) ;\n    }}\n}) ;","\"use strict\" ;\n\nimport { Iterator } from '../Iterator.js' ;\n\n/**\n * Converts a <code>Array</code> to an iterator.\n * @name ArrayIterator\n * @class\n * @implements system.data.Iterator\n * @memberof system.data.iterators\n * @param {array} array - The array to iterate.\n * @throws ReferenceError If the passed-in argument is not an array.\n * @example\n * var ArrayIterator = system.data.iterators.ArrayIterator ;\n *\n * var ar = [\"item1\", \"item2\", \"item3\", \"item4\"] ;\n *\n * var it = new ArrayIterator(ar) ;\n *\n * while (it.hasNext())\n * {\n *     trace (it.next()) ;\n * }\n *\n * trace (\"--- it reset\") ;\n *\n * it.reset() ;\n *\n * while (it.hasNext())\n * {\n *     trace (it.next() + \" : \" + it.key()) ;\n * }\n *\n * trace (\"--- it seek 2\") ;\n *\n * it.seek(2) ;\n * while (it.hasNext())\n * {\n *     trace (it.next()) ;\n * }\n *\n * trace (\"---\") ;\n */\nexport function ArrayIterator( array )\n{\n    if ( !(array instanceof Array) )\n    {\n        throw new ReferenceError( this + \" constructor failed, the passed-in Array argument not must be 'null'.\") ;\n    }\n    Object.defineProperties( this ,\n    {\n        _a : { value : array , writable : true } ,\n        _k : { value : -1    , writable : true }\n    }) ;\n}\n\r\nArrayIterator.prototype = Object.create( Iterator.prototype ,\n{\n    constructor : { value : ArrayIterator } ,\n\n    /**\n     * Deletes from the underlying collection the last element returned by the iterator (optional operation).\n     * @name delete\n     * @memberof system.data.iterators.ArrayIterator\n     * @instance\n     * @function\n     */\n    delete : { value : function()\n    {\n        return this._a.splice(this._k--, 1)[0] ;\n    }},\n\n    /**\n     * Returns <code>true</code> if the iteration has more elements.\n     * @return <code>true</code> if the iteration has more elements.\n     * @name hasNext\n     * @memberof system.data.iterators.ArrayIterator\n     * @instance\n     * @function\n     */\n    hasNext : { value : function()\n    {\n        return (this._k < this._a.length -1) ;\n    }},\n\n    /**\n     * Returns the current key of the internal pointer of the iterator (optional operation).\n     * @return the current key of the internal pointer of the iterator (optional operation).\n     * @name key\n     * @memberof system.data.iterators.ArrayIterator\n     * @instance\n     * @function\n     */\n    key : { value : function()\n    {\n        return this._k ;\n    }},\n\n    /**\n     * Returns the next element in the iteration.\n     * @return the next element in the iteration.\n     * @name next\n     * @memberof system.data.iterators.ArrayIterator\n     * @instance\n     * @function\n     */\n    next : { value : function()\n    {\n        return this._a[++this._k] ;\n    }},\n\n    /**\n     * Reset the internal pointer of the iterator (optional operation).\n     * @name reset\n     * @memberof system.data.iterators.ArrayIterator\n     * @instance\n     * @function\n     */\n    reset : { value : function()\n    {\n        this._k = -1 ;\n    }},\n\n    /**\n     * Changes the position of the internal pointer of the iterator (optional operation).\n     * @name seek\n     * @memberof system.data.iterators.ArrayIterator\n     * @instance\n     * @function\n     */\n    seek : { value : function ( position )\n    {\n        position = Math.max( Math.min( position - 1 , this._a.length ) , -1 ) ;\n        this._k = isNaN(position) ? -1 : position ;\n    }}\n}) ;","/*jshint unused: false*/\n\"use strict\" ;\n\nimport { ArrayIterator } from './ArrayIterator.js' ;\nimport { Iterator }      from '../Iterator.js' ;\nimport { KeyValuePair }  from '../KeyValuePair.js' ;\n\n/**\n * Converts a {@link system.data.KeyValuePair|KeyValuePair} to an iterator.\n * @name MapIterator\n * @class\n * @implements system.data.Iterator\n * @memberof system.data.iterators\n * @param {system.data.KeyValuePair} map - The <code>KeyValuePair</code> to iterate.\n * @throws ReferenceError If the passed-in argument is <code>null</code> or not an {@link system.data.KeyValuePair|KeyValuePair} object.\n * @example\n * var map = new ArrayMap() ;\n *\n * map.set(\"key1\", \"value1\") ;\n * map.set(\"key2\", \"value2\") ;\n * map.set(\"key3\", \"value3\") ;\n *\n * map.set(\"key1\", \"value1\") ;\n * map.set(\"key2\", \"value2\") ;\n * map.set(\"key3\", \"value3\") ;\n *\n * trace( '> ' + map ) ;\n *\n * var it = map.iterator() ;\n * while( it.hasNext() )\n * {\n *     trace (it.next() + \" : \" + it.key()) ;\n *     if( it.key() === \"key2\" )\n *     {\n *         it.delete() ;\n *     }\n * }\n *\n * trace( '> ' + map ) ;\n */\nexport function MapIterator( map )\n{\n    if ( map && ( map instanceof KeyValuePair) )\n    {\n        Object.defineProperties( this ,\n        {\n            _m : { value : map  , writable : true } ,\n            _i : { value : new ArrayIterator( map.keys() ) , writable : true } ,\n            _k : { value : null , writable : true }\n        }) ;\n    }\n    else\n    {\n       throw new ReferenceError( this + \" constructor failed, the passed-in KeyValuePair argument not must be 'null'.\") ;\n    }\n}\n\r\nMapIterator.prototype = Object.create( Iterator.prototype ,\n{\n    constructor : { writable : true , value : MapIterator } ,\n\n    /**\n     * Deletes from the underlying collection the last element returned by the iterator (optional operation).\n     * @name delete\n     * @memberof system.data.iterators.MapIterator\n     * @instance\n     * @function\n     */\n    delete : { value : function()\n    {\n        this._i.delete() ;\n        return this._m.delete( this._k ) ;\n    }},\n\n    /**\n     * Returns <code>true</code> if the iteration has more elements.\n     * @return <code>true</code> if the iteration has more elements.\n     * @name hasNext\n     * @memberof system.data.iterators.MapIterator\n     * @instance\n     * @function\n     */\n    hasNext : { value : function()\n    {\n        return this._i.hasNext() ;\n    }},\n\n    /**\n     * Returns the current key of the internal pointer of the iterator (optional operation).\n     * @return the current key of the internal pointer of the iterator (optional operation).\n     * @name key\n     * @memberof system.data.iterators.MapIterator\n     * @instance\n     * @function\n     */\n    key : { value : function()\n    {\n        return this._k ;\n    }},\n\n    /**\n     * Returns the next element in the iteration.\n     * @return the next element in the iteration.\n     * @name next\n     * @memberof system.data.iterators.MapIterator\n     * @instance\n     * @function\n     */\n    next : { value : function()\n    {\n        this._k = this._i.next() ;\n        return this._m.get( this._k ) ;\n    }},\n\n    /**\n     * Reset the internal pointer of the iterator (optional operation).\n     * @name reset\n     * @memberof system.data.iterators.MapIterator\n     * @instance\n     * @function\n     */\n    reset : { value : function()\n    {\n        this._i.reset() ;\n    }},\n\n    /**\n     * Changes the position of the internal pointer of the iterator (optional operation).\n     * @name seek\n     * @memberof system.data.iterators.MapIterator\n     * @instance\n     * @function\n     */\n    seek : { value : function ( position )\n    {\n        throw new Error( \"This Iterator does not support the seek() method.\") ;\n    }}\n}) ;","\"use strict\" ;\n\n/**\n * Represents a basic pair <code>key/value</code> entry in a {@link system.data.KeyValuePair|KeyValuePair}.\n * @summary Represents a basic pair <code>key/value</code> entry in a {@link system.data.KeyValuePair|KeyValuePair}.\n * @name MapEntry\n * @class\n * @memberof system.data.maps\n * @param {*} key - The key representation of the entry.\n * @param {*} value - The value representation of the entry.\n */\nexport function MapEntry( key , value )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The key representation of the entry.\n         * @name key\n         * @memberof system.data.maps.MapEntry\n         * @instance\n         */\n        key : { value : key , writable : true },\n\n        /**\n         * The value representation of the entry.\n         * @name value\n         * @memberof system.data.maps.MapEntry\n         * @instance\n         */\n        value : { value : value , writable : true }\n    }) ;\n}\n\nMapEntry.prototype = Object.create( Object.prototype ,\n{\n    constructor : { value : MapEntry } ,\n\n    /**\n     * Creates and returns a shallow copy of the object.\n     * @return A new object that is a shallow copy of this instance.\n     * @name clone\n     * @memberof system.data.maps.MapEntry\n     * @instance\n     * @function\n     */\n    clone : { value : function()\n    {\n        return new MapEntry( this.key , this.value ) ;\n    }},\n\n    /**\n     * Returns the String representation of the object.\n     * @return the String representation of the object.\n     * @name toString\n     * @memberof system.data.maps.MapEntry\n     * @instance\n     * @function\n     */\n    toString : { value : function()\n    {\n        return \"[MapEntry key:\" + this.key + \" value:\" + this.value + \"]\" ;\n    }}\n}) ;","\"use strict\" ;\n\nimport { KeyValuePair } from '../KeyValuePair.js' ;\n\n/**\n * Converts a {@link system.data.KeyValuePair|KeyValuePair} to a custom string representation.\n * @summary Converts a {@link system.data.KeyValuePair|KeyValuePair} to a custom string representation.\n * @name MapFormatter\n * @class\n * @memberof system.data.maps\n */\nexport function MapFormatter() {}\n\nMapFormatter.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : MapFormatter },\n\n    /**\n     * Formats the specified value.\n     * @param {system.data.KeyValuePair} value - The {@link system.data.KeyValuePair|KeyValuePair} map to format.\n     * @return The string representation of the formatted value.\n     * @name format\n     * @memberof system.data.maps.MapFormatter\n     * @instance\n     * @function\n     */\n    format : { value : function( value )\n    {\n        if ( value instanceof KeyValuePair )\n        {\n            let r = \"{\";\n            let keys = value.keys()   ;\n            let len  = keys.length ;\n            if( len > 0 )\n            {\n                let values = value.values() ;\n                for( let i = 0 ; i < len ; i++ )\n                {\n                    r += keys[i] + ':' + values[i] ;\n                    if( i < len - 1 )\n                    {\n                        r += \",\" ;\n                    }\n                }\n            }\n            r += \"}\" ;\n            return r ;\n        }\n        else\n        {\n            return \"{}\" ;\n        }\n    }}\n}) ;\n\n/**\n * The {@link system.data.maps.MapFormatter|MapFormatter} singleton.\n * @name formatter\n * @instance\n * @const\n * @type system.data.maps.MapFormatter\n * @memberof system.data.maps\n */\nexport var formatter = new MapFormatter() ;","\"use strict\" ;\n\nimport { KeyValuePair } from '../KeyValuePair.js' ;\nimport { MapEntry }     from './MapEntry.js' ;\nimport { formatter }    from './MapFormatter.js' ;\n\nimport { ArrayIterator } from '../iterators/ArrayIterator.js' ;\nimport { MapIterator }   from '../iterators/MapIterator.js' ;\n\n/**\n * Hash table based implementation of the Map interface.\n * <p><b>Note:</b> this class is the ArrayMap class in the AS3 version of VEGAS.</p>\n * @summary Hash table based implementation of the Map interface.\n * @name ArrayMap\n * @class\n * @memberof system.data.maps\n * @extends system.data.KeyValuePair\n * @example\n * var map = new ArrayMap() ;\n *\n * map.set(\"key1\", \"value1\") ;\n * map.set(\"key2\", \"value2\") ;\n * map.set(\"key3\", \"value3\") ;\n *\n * trace (\"map : \" + map) ;\n *\n * trace (\"------ iterator\") ;\n *\n * var it = map.iterator() ;\n * while (it.hasNext())\n * {\n *     trace (it.next() + \" : \" + it.key()) ;\n * }\n *\n * trace( 'values : ' + map.values()) ;\n * trace( map.has('key2')) ;\n * trace( map.get('key2') ) ;\n * trace( map.indexOfKey('key2')) ;\n *\n * map.delete( 'key2' ) ;\n *\n * trace (\"map : \" + map) ;\n * @param {array} keys - An optional <code>Array</code> of all <b>keys</b> to fill in this <b>Map</b>.\n * @param {array} values - An optional <code>Array</code> of all <b>values</b> to fill in this <b>Map</b>. This <code>Array</code> must have the same size like the 'keys' argument.\n */\nexport function ArrayMap( keys = null , values = null )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * @private\n         */\n        _keys :\n        {\n            value : [] ,\n            writable : true\n        },\n        /**\n         * @private\n         */\n        _values :\n        {\n            value : [] ,\n            writable : true\n        }\n    }) ;\n\n    if ( keys === null || values === null )\n    {\n        this._keys   = [] ;\n        this._values = [] ;\n    }\n    else\n    {\n        let b = ( keys instanceof Array && values instanceof Array && keys.length > 0 && keys.length === values.length ) ;\n        this._keys   = b ? [].concat(keys)   : [] ;\n        this._values = b ? [].concat(values) : [] ;\n    }\n}\n\nArrayMap.prototype = Object.create( KeyValuePair.prototype ,\n{\n    constructor : { writable : true , value : ArrayMap } ,\n\n    /**\n     * The number of key-value mappings in this map.\n     * @name length\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @type {number}\n     * @readonly\n     */\n    length : { get : function() { return this._keys.length ; } } ,\n\n    /**\n     * Removes all mappings from this map (optional operation).\n     * @name clear\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    clear : { value : function ()\n    {\n        this._keys   = [] ;\n        this._values = [] ;\n    }},\n\n    /**\n     * Returns a shallow copy of this ArrayMap instance: the keys and values themselves are not cloned.\n     * @return a shallow copy of this ArrayMap instance: the keys and values themselves are not cloned.\n     * @name clone\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    clone : { value : function ()\n    {\n        return new ArrayMap( this._keys , this._values ) ;\n    }},\n\n    /**\n     * Copies all of the mappings from the specified map to this one.\n     * @param {system.data.KeyValuePair} map - The map to fill the current map.\n     * @name setAll\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    copyFrom : { value : function ( map )\n    {\n        if ( !map || !(map instanceof KeyValuePair) )\n        {\n            return ;\n        }\n        let keys = map.keys() ;\n        let values = map.values() ;\n        let l = keys.length ;\n        for ( let i = 0 ; i<l ; i = i - (-1) )\n        {\n            this.set(keys[i], values[i]) ;\n        }\n    }},\n\n    /**\n     * Removes the mapping for this key from this map if present.\n     * @param {*} key - The key whose mapping is to be removed from the map.\n     * @return previous value associated with specified key, or null if there was no mapping for key. A <code>null</code> return can also indicate that the map previously associated null with the specified key.\n     * @name delete\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    delete : { value : function ( key )\n    {\n        let v = null ;\n        let i = this.indexOfKey( key ) ;\n        if ( i > -1 )\n        {\n            v = this._values[i] ;\n            this._keys.splice(i, 1) ;\n            this._values.splice(i, 1) ;\n        }\n        return v ;\n    }},\n\n    /**\n     * The forEach() method executes a provided function once per each key/value pair in the Map object, in insertion order.\n     * @param {function} callback - Function to execute for each element.\n     * @param {Object} thisArg - Value to use as this when executing callback.\n     * @name forEach\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    forEach : { value : function( callback , thisArg = null )\n    {\n        if (typeof callback !== \"function\")\n        {\n            throw new TypeError( callback + ' is not a function' );\n        }\n\n        let l = this._keys.length ;\n        for( let i = 0 ; i<l ; i++ )\n        {\n            callback.call( thisArg , this._values[i] , this._keys[i] , this ) ;\n        }\n    }},\n\n    /**\n     * Returns the value to which this map maps the specified key.\n     * @param {*} key - The key of the entry to retrieve in the collection.\n     * @return the value to which this map maps the specified key.\n     * @name get\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    get : { value : function( key )\n    {\n        return this._values[ this.indexOfKey( key ) ] ;\n    }},\n\n    /**\n     * Returns the value to which this map maps the specified key.\n     * @param {number} index - The index of the key in the array map.\n     * @return the value to which this map maps the specified key.\n     * @name getKeyAt\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    getKeyAt : { value : function ( index )\n    {\n        return this._keys[ index ] ;\n    }},\n\n    /**\n     * Returns the value to which this map maps the specified key.\n     * @param {number} index - The index of the value in the array map.\n     * @return the value to which this map maps the specified key.\n     * @name getValueAt\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    getValueAt : { value : function ( index /*uint*/ )\n    {\n        return this._values[ index ] ;\n    }},\n\n    /**\n     * Returns <code>true</code> if this map contains a mapping for the specified key.\n     * @param {*} key - The key of the entry to retrieve in the collection.\n     * @name has\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    has : { value : function ( key )\n    {\n        return this.indexOfKey(key) > -1 ;\n    }},\n\n    /**\n     * Returns <code>true</code> if this map maps one or more keys to the specified value.\n     * @return <code>true</code> if this map maps one or more keys to the specified value.\n     * @name hasValue\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    hasValue : { value : function ( value )\n    {\n        return this.indexOfValue( value ) > -1 ;\n    }},\n\n    /**\n     * Returns the index of the specified key in argument.\n     * @param {*} key - The key in the map to search.\n     * @return The index of the specified key in argument.\n     * @name indexOfKey\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    indexOfKey : { value : function (key)\n    {\n        let l = this._keys.length ;\n        while( --l > -1 )\n        {\n            if ( this._keys[l] === key )\n            {\n                return l ;\n            }\n        }\n        return -1 ;\n    }},\n\n    /**\n     * Returns the index of the specified value in argument.\n     * @param {*} value - The value in the map to search.\n     * @return the index of the specified value in argument.\n     * @name indexOfValue\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    indexOfValue : { value : function (value)\n    {\n        let l = this._values.length ;\n        while( --l > -1 )\n        {\n            if ( this._values[l] === value )\n            {\n                return l ;\n            }\n        }\n        return -1 ;\n    }},\n\n    /**\n     * Returns <code>true</code> if this map contains no key-value mappings.\n     * @return <code>true</code> if this map contains no key-value mappings.\n     * @name isEmpty\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    isEmpty : { value : function ()\n    {\n        return this._keys.length === 0 ;\n    }},\n\n    /**\n     * Returns the values iterator of this map.\n     * @return the values iterator of this map.\n     * @name iterator\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    iterator : { value : function ()\n    {\n        return new MapIterator( this ) ;\n    }},\n\n    /**\n     * Returns the keys iterator of this map.\n     * @return the keys iterator of this map.\n     * @name keyIterator\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    keyIterator : { value : function () /*Iterator*/\n    {\n        return new ArrayIterator( this._keys ) ;\n    }},\n\n    /**\n     * Returns an array representation of all keys in the map.\n     * @return an array representation of all keys in the map.\n     * @name keys\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    keys : { value : function ()\n    {\n        return this._keys.concat() ;\n    }},\n\n    /**\n     * Associates the specified value with the specified key in this map.\n     * @param {*} key - The key to register the value.\n     * @param {*} value - The value to be mapped in the map.\n     * @name set\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    set : { value : function ( key , value )\n    {\n        let r = null ;\n        let i = this.indexOfKey( key ) ;\n        if ( i < 0 )\n        {\n            this._keys.push( key ) ;\n            this._values.push( value ) ;\n        }\n        else\n        {\n            r = this._values[i] ;\n            this._values[i] = value ;\n        }\n        return r ;\n    }},\n\n    /**\n     * Sets the value of the <code>\"key\"</code> in the <code>ArrayMap</code> with the specified index.\n     * @param {number} index - The position of the entry in the ArrayMap.\n     * @param {*} key - The key of the entry to change.\n     * @return A {@link system.data.maps.MapEntry|MapEntry} who corresponding the old key/value entry or null if the key already exist or the specified index don't exist.\n     * @throws RangeError If the index is out of the range of the Map size.\n     * @name setKeyAt\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    setKeyAt : { value : function( index , key )\n    {\n        if ( index >= this._keys.length )\n        {\n            throw new RangeError( \"ArrayMap.setKeyAt(\" + index + \") failed with an index out of the range.\") ;\n        }\n        if ( this.containsKey( key ) )\n        {\n            return null ;\n        }\n        let k = this._keys[index] ;\n        if (k === undefined)\n        {\n            return null ;\n        }\n        let v = this._values[index] ;\n        this._keys[index] = key ;\n        return new MapEntry( k , v ) ;\n    }},\n\n    /**\n     * Sets the value of the \"value\" in the HashMap (ArrayMap) with the specified index.\n     * @param {number} index - The position of the entry in the ArrayMap.\n     * @param {*} value - The value of the entry to change.\n     * @return A {@link system.data.maps.MapEntry|MapEntry} who corresponding the old key/value entry or null if the key already exist or the specified index don't exist.\n     * @name setValueAt\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    setValueAt : { value : function( index , value )\n    {\n        if ( index >= this._keys.length )\n        {\n            throw new RangeError( \"ArrayMap.setValueAt(\" + index + \") failed with an index out of the range.\") ;\n        }\n        let v = this._values[index] ;  // TODO refactoring\n        if (v === undefined)\n        {\n            return null ;\n        }\n        let k = this._keys[index] ;\n        this._values[index] = value ;\n        return new MapEntry( k , v ) ;\n    }},\n\n    /**\n     * Returns the string representation of this map.\n     * @return the string representation of this map.\n     * @name toString\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    toString : { value : function () { return formatter.format( this ) ; }},\n\n    /**\n     * Returns an array representation of all values in the map.\n     * @return an array representation of all values in the map.\n     * @name values\n     * @memberof system.data.maps.ArrayMap\n     * @instance\n     * @function\n     */\n    values : { value : function ()\n    {\n        return this._values.concat() ;\n    }}\n}) ;","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { isIdentifiable } from './data/Identifiable.js' ;\nimport { isIterator } from './data/Iterator.js' ;\nimport { isOrderedIterator } from './data/OrderedIterator.js' ;\nimport { isValidator } from './data/Validator.js' ;\n\nimport { Identifiable } from './data/Identifiable.js' ;\nimport { Iterator }  from './data/Iterator.js' ;\nimport { KeyValuePair } from './data/KeyValuePair.js' ;\nimport { OrderedIterator } from './data/OrderedIterator.js' ;\nimport { Property  } from './data/Property.js' ;\nimport { Validator } from './data/Validator.js' ;\n\nimport { Attribute }   from './data/Attribute.js' ;\nimport { Method}       from './data/Method.js' ;\nimport { ValueObject } from './data/ValueObject.js' ;\n\nimport { ArrayIterator } from './data/iterators/ArrayIterator.js' ;\nimport { MapIterator }   from './data/iterators/MapIterator.js' ;\n\nimport { ArrayMap } from './data/maps/ArrayMap.js' ;\n\n/**\n * The {@link system.data} library provides a framework unified for representing and manipulating <b>collections</b>, enabling them to be manipulated independently of the details of their representation.\n * <p>It reduces programming effort while increasing performance. It enables interoperability among unrelated APIs, reduces effort in designing and learning new APIs, and fosters software reuse.</p>\n * <p>The framework is based on a serie of interfaces. It includes implementations of these interfaces and algorithms to manipulate them.</p></br>\n * <p>An <strong>abstract data type</strong> (<b>ADT</b>) is a model for a certain class of data structures that have similar behavior; or for certain data types of one or more programming languages that have similar semantics. The collections framework is a unified architecture for representing and manipulating collections, allowing them to be manipulated independently of the details of their representation. It reduces programming effort while increasing performance.</p>\n * <p>Originaly the {@link system.data} collection framework is loosely inspired on the <b>JAVA Collections Framework</b> and the <b>Jakarta Collections Framework</b> but with the new ES6 standard we change the basic implementation of the new <b>VEGAS</b> framework in the JS version of the library.</p>\n * <p>This framework is inspired on interfaces to defines the different types of collections : * Map * Bag * Collections * Iterator * Set * Queue & Stack... </p>\n * @summary The {@link system.data} library provides a framework unified for representing and manipulating <b>collections</b>.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace system.data\n * @memberof system\n */\nexport var data = Object.assign\n({\n    // singletons\n    isIdentifiable    : isIdentifiable,\n    isIterator        : isIterator,\n    isOrderedIterator : isOrderedIterator,\n    isValidator       : isValidator,\n\n    // interfaces\n    Identifiable    : Identifiable ,\n    Iterator        : Iterator ,\n    KeyValuePair    : KeyValuePair ,\n    OrderedIterator : OrderedIterator ,\n    Property        : Property ,\n    Validator       : Validator ,\n\n    // classes\n    Attribute : Attribute ,\n    Method : Method ,\n    ValueObject : ValueObject ,\n\n    /**\n     * This package contains all {@link system.data.Iterator|Iterator} implementations : {@link system.data.iterators.ArrayIterator|ArrayIterator}, {@link system.data.iterators.MapIterator|MapIterator}, etc.\n     * @summary This package contains all {@link system.data.Iterator|Iterator} implementations : {@link system.data.iterators.ArrayIterator|ArrayIterator}, {@link system.data.iterators.MapIterator|MapIterator}, etc.\n     * @namespace system.data.iterators\n     * @memberof system.data\n     */\n    iterators :\n    {\n        ArrayIterator,\n        MapIterator\n    },\n\n    /**\n     * This package contains all {@link system.data.KeyValuePair|KeyValuePair} extended implementations : {@link system.data.maps.ArrayMap|ArrayMap}, etc.\n     * @summary This package contains all {@link system.data.KeyValuePair|KeyValuePair} extended implementations : {@link system.data.maps.ArrayMap|ArrayMap}, etc.\n     * @namespace system.data.maps\n     * @memberof system.data\n     */\n    maps :\n    {\n        ArrayMap\n    }\n}) ;","\"use strict\" ;\n\n/**\n * Thrown when methods that have detected concurrent modification of an object when such modification is not permissible.\n * @summary Thrown when methods that have detected concurrent modification of an object when such modification is not permissible.\n * @name ConcurrencyError\n * @class\n * @memberof system.errors\n * @extends Error\n * @param {string} [message] - Human-readable description of the error.\n * @param {string} [fileName] - Human-readable description of the error.\n * @param {string} [lineNumber] - Human-readable description of the error.\n */\nexport function ConcurrencyError( message , fileName , lineNumber )\n{\n    this.name = 'ConcurrencyError';\n    this.message    = message || 'concurrency error' ;\n    this.fileName   = fileName ;\n    this.lineNumber = lineNumber ;\n    this.stack      = (new Error()).stack;\n}\n\nConcurrencyError.prototype = Object.create( Error.prototype );\nConcurrencyError.prototype.constructor = ConcurrencyError;","\"use strict\" ;\n\n/**\n * Thrown when an invalid channel is find.\n * @summary Thrown when an invalid channel is find.\n * @name InvalidChannelError\n * @class\n * @memberof system.errors\n * @extends Error\n * @param {string} [message] - Human-readable description of the error.\n * @param {string} [fileName] - Human-readable description of the error.\n * @param {string} [lineNumber] - Human-readable description of the error.\n */\nexport function InvalidChannelError( message , fileName , lineNumber )\n{\n    this.name = 'InvalidChannelError';\n    this.message    = message || 'invalid channel error' ;\n    this.fileName   = fileName ;\n    this.lineNumber = lineNumber ;\n    this.stack      = (new Error()).stack;\n}\n\nInvalidChannelError.prototype = Object.create( Error.prototype );\nInvalidChannelError.prototype.constructor = InvalidChannelError;","\"use strict\" ;\n\n/**\n * Thrown when an invalid filter is find.\n * @summary Thrown when an invalid filter is find.\n * @name InvalidFilterError\n * @class\n * @memberof system.errors\n * @extends Error\n * @param {string} [message] - Human-readable description of the error.\n * @param {string} [fileName] - Human-readable description of the error.\n * @param {string} [lineNumber] - Human-readable description of the error.\n */\nexport function InvalidFilterError( message , fileName , lineNumber )\n{\n    this.name = 'InvalidFilterError';\n    this.message    = message || 'invalid filter error' ;\n    this.fileName   = fileName ;\n    this.lineNumber = lineNumber ;\n    this.stack      = (new Error()).stack;\n}\n\nInvalidFilterError.prototype = Object.create( Error.prototype );\nInvalidFilterError.prototype.constructor = InvalidFilterError;","\"use strict\" ;\n\nimport { fastformat } from '../../core/strings/fastformat.js' ;\n\n/**\n * Thrown when a key is non unique.\n * @summary Thrown when a key is non unique.\n * @name NonUniqueKeyError\n * @class\n * @memberof system.errors\n * @extends Error\n * @param {string} [message] - Human-readable description of the error.\n * @param {string} [fileName] - Human-readable description of the error.\n * @param {string} [lineNumber] - Human-readable description of the error.\n */\nexport function NonUniqueKeyError( key , pattern , fileName , lineNumber )\n{\n    this.name = 'NonUniqueKeyError';\n    this.key        = key ;\n    this.pattern    = pattern || NonUniqueKeyError.PATTERN ;\n    this.message    = fastformat( this.pattern , key )  ;\n    this.fileName   = fileName ;\n    this.lineNumber = lineNumber ;\n    this.stack      = (new Error()).stack;\n}\n\n/**\n * The localizable or changeable expression to defines the pattern of the error message.\n */\nNonUniqueKeyError.PATTERN = \"attempting to insert the key '{0}'\" ;\n\nNonUniqueKeyError.prototype = Object.create( Error.prototype );\nNonUniqueKeyError.prototype.constructor = NonUniqueKeyError;\n","\"use strict\" ;\n\n/**\n * Thrown by an Enumeration to indicate that there are no more elements in the enumeration.\n * @summary Thrown by an Enumeration to indicate that there are no more elements in the enumeration.\n * @name NoSuchElementError\n * @class\n * @memberof system.errors\n * @extends Error\n * @param {string} [message] - Human-readable description of the error.\n * @param {string} [fileName] - Human-readable description of the error.\n * @param {string} [lineNumber] - Human-readable description of the error.\n */\nexport function NoSuchElementError( message , fileName , lineNumber )\n{\n    this.name = 'NoSuchElementError';\n    this.message    = message || 'no such element error' ;\n    this.fileName   = fileName ;\n    this.lineNumber = lineNumber ;\n    this.stack      = (new Error()).stack;\n}\n\nNoSuchElementError.prototype = Object.create( Error.prototype );\nNoSuchElementError.prototype.constructor = NoSuchElementError;","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { ConcurrencyError }    from './errors/ConcurrencyError.js' ;\nimport { InvalidChannelError } from './errors/InvalidChannelError.js' ;\nimport { InvalidFilterError }  from './errors/InvalidFilterError.js' ;\nimport { NonUniqueKeyError }   from './errors/NonUniqueKeyError.js' ;\nimport { NoSuchElementError }  from './errors/NoSuchElementError.js' ;\n\n/**\n * The {@link system.errors} package contains error classes that are part of the <strong>VEGAS JS</strong> Application Programming Interface (<strong>API</strong>), rather than part of the Javascript core language. The <strong>Javascript</strong> core language is the part of the language that complies with the <strong>ECMAScript</strong> standard.\n * @summary The {@link system.errors} package contains error classes that are part of the <strong>VEGAS JS</strong> Application Programming Interface (<strong>API</strong>).\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace system.errors\n * @memberof system\n */\nexport var errors = Object.assign\n({\n    ConcurrencyError    : ConcurrencyError,\n    InvalidChannelError : InvalidChannelError,\n    InvalidFilterError  : InvalidFilterError,\n    NonUniqueKeyError   : NonUniqueKeyError,\n    NoSuchElementError  : NoSuchElementError\n}) ;","\"use strict\" ;\n\nimport { Evaluable } from '../Evaluable.js' ;\n\n/**\n * This {@link system.Evaluable|Evaluable} combine a collection of evaluators to evaluates a specified value.\n * @summary This {@link system.Evaluable|Evaluable} combine a collection of evaluators to evaluates a specified value.\n * @name MultiEvaluator\n * @class\n * @memberof system.evaluators\n * @extends system.Evaluable\n * @example\n * var MultiEvaluator    = system.evaluators.MultiEvaluator ;\n * var PropertyEvaluator = system.evaluators.PropertyEvaluator ;\n * var RomanEvaluator    =  system.evaluators.RomanEvaluator ;\n *\n * var obj = { id  : \"XII\" , count : 100 } ;\n *\n * var evaluator1 = new PropertyEvaluator( obj ) ;\n * var evaluator2 = new RomanEvaluator() ;\n *\n * var evaluator = new MultiEvaluator() ;\n *\n * evaluator.add( evaluator1 ) ;\n * evaluator.add( evaluator2 ) ;\n *\n * trace( evaluator.eval( 'id' ) ) ; // 12\n * trace( evaluator.eval( 'count' ) ) ; // C\n * @param {array} [elements] - An optional array of evaluators to group.\n */\nexport function MultiEvaluator( elements = null )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * Indicates if the MultiEvaluator is cleared before insert new {@link system.Evaluable|Evaluable} objects (in the add method).\n         * @memberof system.evaluators.MultiEvaluator\n         * @type {boolean}\n         * @instance\n         * @default false\n         */\n        autoClear : { value : false , writable : true } ,\n\n        /**\n         * @private\n         */\n        _evaluators : { value : [] , writable : true }\n    }) ;\n\n    if ( elements instanceof Array && elements.length > 0 )\n    {\n        this.add.apply( this, elements ) ;\n    }\n}\n\nMultiEvaluator.prototype = Object.create( Evaluable.prototype ,\n{\n    /**\n     * Indicates the number of elements registered in this collection.\n     * @memberof system.evaluators.MultiEvaluator\n     * @type {number}\n     * @instance\n     * @readonly\n     */\n    length :\n    {\n        get : function()\n        {\n            return this._evaluators.length ;\n        }\n    },\n\n    /**\n     * Inserts an {@link system.Evaluable|Evaluable} objects in the <code>MultiEvaluator</code>.\n     * @param {...system.Evaluable} evaluators - The enumeration list of {@link system.Evaluable|Evaluable} objets or Arrays of Evaluator. Only Array and Evaluable are compatible to fill the <b>MultiEvaluator</b>.\n     * @memberof system.evaluators.MultiEvaluator\n     * @function\n     * @instance\n     */\n    add : { value : function ( ...evaluators )\n    {\n        if ( this.autoClear )\n        {\n            this.clear() ;\n        }\n\n        var l = evaluators.length ;\n        if ( l > 0 )\n        {\n            var c, i, j ;\n            var e ;\n            for ( i = 0 ; i < l ; i++ )\n            {\n                e = evaluators[i] ;\n                if ( e instanceof Evaluable )\n                {\n                    this._evaluators.push( e ) ;\n                }\n                else if ( e instanceof Array )\n                {\n                    c = e.length ;\n                    for ( j = 0 ; j < c ; j++ )\n                    {\n                        if ( e[j] instanceof Evaluable )\n                        {\n                            this._evaluators.push( e[j] ) ;\n                        }\n                    }\n                }\n            }\n        }\n    }},\n\n    /**\n     * Clear all the {@link system.Evaluable|Evaluable} objects.\n     * @memberof system.evaluators.MultiEvaluator\n     * @function\n     * @instance\n     */\n    clear : { value : function()\n    {\n        this._evaluators = [] ;\n    }},\n\n    /**\n     * Evaluates the specified object.\n     * @param {*} value - The object to evaluates.\n     * @return The result of the evaluation.\n     * @memberof system.evaluators.MultiEvaluator\n     * @function\n     * @instance\n     */\n    eval : { value : function( value )\n    {\n        this._evaluators.forEach( ( element ) =>\n        {\n            if( element instanceof Evaluable )\n            {\n                value = element.eval( value ) ;\n            }\n        }) ;\n        return value ;\n    }},\n\n    /**\n     * Removes an {@link system.Evaluable|Evaluable} objects in the <b>MultiEvaluator</b> if is register.\n     * @param evaluator The {@link system.Evaluable|Evaluable} to find and remove.\n     * @return <code>true</code> if the Evaluable is removed.\n     * @memberof system.evaluators.MultiEvaluator\n     * @function\n     * @instance\n     */\n    remove : { value : function( evaluator )\n    {\n        if( evaluator instanceof Evaluable )\n        {\n            var index = this._evaluators.indexOf( evaluator ) ;\n            if( index > - 1 )\n            {\n                this._evaluators.splice( index , 1 ) ;\n                return true ;\n            }\n        }\n        return false ;\n    }}\n});\n\nMultiEvaluator.prototype.constructor = MultiEvaluator ;\n\n/**\n * Returns the string representation of this instance.\n * @return the string representation of this instance.\n * @name toString\n * @memberof system.evaluators.MultiEvaluator\n * @function\n * @instance\n */\nMultiEvaluator.prototype.toString = function () \n{\n    return \"[MultiEvaluator]\" ;\n}","\"use strict\" ;\n\nimport { Evaluable } from '../Evaluable.js' ;\n\n/**\n * Evaluates a type string expression and return the property value who corresponding in the target object specified in this evaluator.\n * @summary Evaluates a type string expression and return the property value who corresponding in the target object specified in this evaluator.\n * @name PropertyEvaluator\n * @class\n * @memberof system.evaluators\n * @extends system.Evaluable\n * @example\n * var PropertyEvaluator = system.evaluators.PropertyEvaluator ;\n *\n * var obj =\n * {\n *     message : \"hello world\" ,\n *     title   : \"my title\"    ,\n *     menu    :\n *     {\n *         title : \"my menu title\" ,\n *         label : \"my label\"\n *     }\n * }\n *\n * var evaluator = new PropertyEvaluator( obj ) ;\n *\n * // valid expressions\n *\n * trace( evaluator.eval( \"message\"    ) ) ; // hello world\n * trace( evaluator.eval( \"title\"      ) ) ; // my title\n * trace( evaluator.eval( \"menu.title\" ) ) ; // my menu title\n * trace( evaluator.eval( \"menu.label\" ) ) ; // my label\n *\n * // invalid expressions\n *\n * trace( evaluator.eval( \"\"            ) ) ; // null\n * trace( evaluator.eval( \"unknow\"      ) ) ; // null\n * trace( evaluator.eval( \"menu.unknow\" ) ) ; // null\n *\n * // change the \"undefineable\" value returns in the eval() method when the evaluation failed.\n *\n * evaluator.undefineable = \"empty\" ;\n * trace( evaluator.eval( \"unknow\" ) ) ; // empty ;\n *\n * evaluator.undefineable = undefined ;\n * trace( evaluator.eval( \"unknow\" ) ) ; // undefined ;\n *\n * // activate the throwError mode.\n *\n * evaluator.throwError = true ;\n *\n * try\n * {\n *     evaluator.eval( \"test\" ) ;\n * }\n * catch( e )\n * {\n *     trace( e ) ; // ##EvalError: [object PropertyEvaluator] eval failed with the expression : test##\n * }\n * @param {object} target - The object to evaluates.\n */\nexport function PropertyEvaluator( target )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The separator character of the expression evaluator.\n         * @memberof system.evaluators.PropertyEvaluator\n         * @type {string}\n         * @instance\n         * @default '.'\n         */\n        separator : { value : \".\" , writable : true } ,\n\n        /**\n         * The target reference use in the evaluator.\n         * @memberof system.evaluators.PropertyEvaluator\n         * @type {object}\n         * @instance\n         */\n        target : { value : target , writable : true , configurable : true } ,\n\n        /**\n         * Indicates if the eval() method throws errors or return null when an error is throwing.\n         * @memberof system.evaluators.PropertyEvaluator\n         * @type {boolean}\n         * @default false\n         * @instance\n         */\n        throwError : { value : false , writable : true } ,\n\n        /**\n         * Defines the value returns from the eval() method if the expression can't be evaluate.\n         * @memberof system.evaluators.PropertyEvaluator\n         * @type {object}\n         * @default null\n         * @instance\n         */\n        undefineable : { value : null , writable : true }\n    }) ;\n}\n\nPropertyEvaluator.prototype = Object.create( Evaluable.prototype );\nPropertyEvaluator.prototype.constructor = PropertyEvaluator;\n\n/**\n * Evaluates the specified object.\n * @param {*} value - The object to evaluates.\n * @return The result of the evaluation.\n * @name eval\n * @memberof system.evaluators.PropertyEvaluator\n * @function\n * @instance\n */\nPropertyEvaluator.prototype.eval = function ( o )\n{\n    if ( o !== null && ( typeof(o) === \"string\" || o instanceof String ) && (this.target !== null) )\n    {\n        var exp  = String(o) ;\n        if ( exp.length > 0 )\n        {\n            var value = this.target ;\n            var members = exp.split( this.separator ) ;\n            var len = members.length ;\n            for ( var i  = 0 ; i < len ; i++ )\n            {\n                if ( members[i] in value )\n                {\n                    value = value[ members[i] ] ;\n                }\n                else\n                {\n                    if ( this.throwError )\n                    {\n                        throw new EvalError( this + \" eval failed with the expression : \" + o ) ;\n                    }\n                    return this.undefineable ;\n                }\n            }\n            return value ;\n        }\n    }\n    return this.undefineable ;\n}\n\n/**\n * Returns the string representation of this instance.\n * @return the string representation of this instance.\n * @memberof system.evaluators.PropertyEvaluator\n * @name toString\n * @function\n * @instance\n */\nPropertyEvaluator.prototype.toString = function ()\n{\n    return \"[PropertyEvaluator]\" ;\n}","\"use strict\" ;\n\n/**\n * Roman numerals are a numeral system originating in ancient Rome, adapted from Etruscan numerals.\n * <p>Roman numerals are commonly used in numbered lists (in outline format), clock faces, pages preceding the main body of a book, chord triads in music analysis, the numbering of movie publication dates, successive political leaders or children with identical names, and the numbering of some annual sport events.</p>\n * <p><b>Links :</b>\n * <ul>\n * <li><a href=\"https://en.wikipedia.org/wiki/Roman_numerals\">http://en.wikipedia.org/wiki/Roman_numerals</a></li>\n * </ul>\n * </p>\n * @summary The tool class to parse and transforme the Roman numerals.\n * @name RomanNumber\n * @memberof system.numeric\n * @class\n * @param {number|string} [value=0] - The decimal uint value of the RomanNumber or a String representation of the roman numerals object.\n * @example\n * trace( RomanNumber.parse(12) ) ; // XII\n * trace( RomanNumber.parseRomanString('II') ) ; // 2\n */\nexport function RomanNumber( value = 0 )\n{\n    Object.defineProperties( this ,\n    {\n        _num : { value : 0 , writable : true } ,\n    }) ;\n\n    if( typeof(value) === \"string\" || value instanceof String )\n    {\n        this._num = RomanNumber.parseRomanString( value ) ;\n    }\n    else if( typeof(value) === \"number\" || value instanceof Number )\n    {\n        if( value > RomanNumber.MAX )\n        {\n            throw new RangeError( \"Max value for a RomanNumber is \" + RomanNumber.MAX );\n        }\n        if( value < RomanNumber.MIN )\n        {\n            throw new RangeError( \"Min value for a RomanNumber is \" + RomanNumber.MIN );\n        }\n        this._num = value;\n    }\n}\n\nObject.defineProperties( RomanNumber ,\n{\n    /**\n     * The maximum parsing value (<code>3999</code>).\n     * @memberof system.numeric.RomanNumber\n     * @type number\n     * @const\n     */\n    MAX : { value : 3999 , enumerable : true } ,\n\n    /**\n     * The minimum parsing value (<code>0</code>).\n     * @memberof system.numeric.RomanNumber\n     * @type number\n     * @const\n     */\n    MIN : { value : 0 , enumerable : true } ,\n\n    /**\n     * The array representation of all numeric values.\n     * @memberof system.numeric.RomanNumber\n     * @type array\n     */\n    NUMERIC : { value : [ 1000, 500, 100,  50, 10, 5, 1 ] , enumerable : true } ,\n\n    /**\n     * The array representation of all roman expressions.\n     * @memberof system.numeric.RomanNumber\n     * @type array\n     */\n    ROMAN : { value : [ \"M\", \"D\", \"C\", \"L\", \"X\", \"V\", \"I\" ] , enumerable : true } ,\n\n    /**\n     * Parse the specified value and return this roman numerals String representation.\n     * @name parse\n     * @memberof system.numeric.RomanNumber\n     * @function\n     * @param {number} num - The number value to convert in a roman numerals string representation.\n     * @return {string} The roman numerals String representation of the specific number.\n     */\n    parse :\n    {\n        value : function( num )\n        {\n            var MAX     = RomanNumber.MAX ;\n            var MIN     = RomanNumber.MIN ;\n\n            var NUMERIC = RomanNumber.NUMERIC ;\n            var ROMAN   = RomanNumber.ROMAN   ;\n\n            var n /*uint*/   = 0 ;\n            var r  = \"\";\n\n            if( (typeof(num) === \"number\" || num instanceof Number) )\n            {\n                if( num > RomanNumber.MAX )\n                {\n                    throw new RangeError( \"Max value for a RomanNumber is \" + MAX );\n                }\n                else if( num < RomanNumber.MIN )\n                {\n                    throw new RangeError( \"Min value for a RomanNumber is \" + MIN );\n                }\n                n = num ;\n            }\n\n            var i ;\n            var rank /*uint*/;\n            var bellow /*uint*/;\n            var roman ;\n            var romansub ;\n\n            var size  = NUMERIC.length ;\n\n            for( i=0 ; i<size ; i++ )\n            {\n                if( n === 0 )\n                {\n                    break;\n                }\n\n                rank  = NUMERIC[i];\n                roman = ROMAN[i];\n\n                if( String(rank).charAt(0) === \"5\" )\n                {\n                    bellow = (rank - NUMERIC[i+1]);\n                    romansub = ROMAN[i+1];\n                }\n                else\n                {\n                    bellow = (rank - NUMERIC[i+2]);\n                    romansub = ROMAN[i+2];\n                }\n\n                if( (n >= rank) || (n >= bellow) )\n                {\n                    while( n >= rank )\n                    {\n                        r += roman;\n                        n -= rank;\n                    }\n                }\n\n                if( n > 0 && n >= bellow )\n                {\n                    r += romansub + roman;\n                    n -= bellow;\n                }\n            }\n\n            return r ;\n        }\n    },\n\n    /**\n     * Parses a roman String representation in this uint decimal representation.\n     * @name parseRomanString\n     * @memberof system.numeric.RomanNumber\n     * @function\n     * @param {string} roman - The roman string expression to parse and transform in a valid number.\n     * @return {number} The uint decimal representation of the roman string expression.\n     */\n    parseRomanString :\n    {\n        value : function( roman )\n        {\n            var NUMERIC = RomanNumber.NUMERIC ;\n            var ROMAN   = RomanNumber.ROMAN   ;\n\n            if( roman === null || roman === \"\" )\n            {\n                return 0 ;\n            }\n\n            roman = roman.toUpperCase();\n\n            var n /*uint*/ = 0;\n\n            var pos      = 0  ;\n            var ch    = \"\" ;\n            var next  = \"\" ;\n\n            var ich /*uint*/ ;\n            var inext /*uint*/ ;\n\n            while( pos >= 0 )\n            {\n                ch   = roman.charAt( pos );\n                next = roman.charAt( pos+1 );\n\n                if( ch === \"\" )\n                {\n                    break;\n                }\n\n                ich   = ROMAN.indexOf(ch);\n                inext = ROMAN.indexOf(next);\n\n                if ( ich < 0 )\n                {\n                    return 0 ;\n                }\n                else if( ich <= inext || inext === -1 )\n                {\n                    n += NUMERIC[ich];\n                }\n                else\n                {\n                    n += NUMERIC[inext] - NUMERIC[ich];\n                    pos++;\n                }\n\n                pos++;\n            }\n\n            return n;\n        }\n    }\n}) ;\n\nRomanNumber.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : RomanNumber } ,\n\n    /**\n     * Parse the specified value.\n     * @name parse\n     * @memberof system.numeric.RomanNumber\n     * @function\n     * @instance\n     * @param {number} value - The number to convert in a roman string expression.\n     * @return {string} The string representation of the passed-in number.\n     */\n    parse : { value : function ( value )\n    {\n        return RomanNumber.parse\n        (\n            ( (typeof(value) === \"number\" || value instanceof Number) ) ? value : this._num\n        );\n    }},\n\n    /**\n     * Returns the string representation of this instance.\n     * @name toString\n     * @memberof system.numeric.RomanNumber\n     * @function\n     * @instance\n     * @return the string representation of this instance.\n     */\n    toString : { value : function ()\n    {\n        return this.parse( this._num ) ;\n    }},\n\n    /**\n     * Returns the primitive value of this object.\n     * @name valueOf\n     * @memberof system.numeric.RomanNumber\n     * @function\n     * @instance\n     * @return the primitive value of this object.\n     */\n    valueOf : { value : function () /*uint*/\n    {\n        return this._num ;\n    }}\n}) ;","\"use strict\" ;\n\nimport { Evaluable }   from '../Evaluable.js' ;\nimport { RomanNumber } from '../numeric/RomanNumber.js' ;\n\n/**\n * Evaluates an int value and transform it in roman numeral expression.\n * @summary Evaluates an int value and transform it in roman numeral expression.\n * @name RomanEvaluator\n * @class\n * @memberof system.evaluators\n * @extends system.Evaluable\n * @example\n * var RomanEvaluator=  system.evaluators.RomanEvaluator ;\n *\n * var evaluator = new RomanEvaluator() ;\n *\n * trace( evaluator.eval( 1 ) ) ; // I\n * trace( evaluator.eval( 2 ) ) ; // II\n * trace( evaluator.eval( 3 ) ) ; // III\n * trace( evaluator.eval( 4 ) ) ; // IV\n * trace( evaluator.eval( 5 ) ) ; // V\n * trace( evaluator.eval( 9 ) ) ; // IX\n * trace( evaluator.eval( 10 ) ) ; // X\n * trace( evaluator.eval( 50 ) ) ; // L\n * trace( evaluator.eval( 2459 ) ) ; // MMCDLIX\n * trace( evaluator.eval( 3999 ) ) ;  // MMMCMXCIX\n *\n * // roman string to number\n *\n * trace( evaluator.eval( \"I\" ) ) ; // 1\n * trace( evaluator.eval( \"II\" ) ) ; // 2\n * trace( evaluator.eval( \"III\" ) ) ; // 3\n * trace( evaluator.eval( \"IV\" ) ) ; // 4\n * trace( evaluator.eval( \"V\" ) ) ; // 5\n * trace( evaluator.eval( \"IX\" ) ) ; // 9\n * trace( evaluator.eval( \"X\" ) ) ; // 10\n * trace( evaluator.eval( \"L\" ) ) ; // 50\n * trace( evaluator.eval( \"MMCDLIX\" ) ) ; // 2459\n * trace( evaluator.eval( \"MMMCMXCIX\" ) ) ; // 3999\n *\n * try\n * {\n *     evaluator.eval( 4000 ) ;\n * }\n * catch( e )\n * {\n *     trace( e.message ) ;  // Max value for a RomanNumber is 3999\n * }\n *\n * try\n * {\n *     evaluator.eval( -1 ) ;\n * }\n * catch( e )\n * {\n *     trace( e.message ) ; // Min value for a RomanNumber is 0\n * }\n */\nexport function RomanEvaluator() {}\n\nRomanEvaluator.prototype = Object.create( Evaluable.prototype );\nRomanEvaluator.prototype.constructor = RomanEvaluator;\n\n/**\n * Evaluates the specified object.\n * @param {number} value - The object to evaluates.\n * @return The string representation of the int value.\n * @name eval\n * @memberof system.evaluators.RomanEvaluator\n * @function\n * @instance\n */\nRomanEvaluator.prototype.eval = function ( value )\n{\n    if( typeof(value) === 'string' || value instanceof String )\n    {\n       return RomanNumber.parseRomanString( value );\n    }\n    else if ( typeof(value) === 'number' || value instanceof Number )\n    {\n        return RomanNumber.parse( value );\n    }\n    else\n    {\n        return null ;\n    }\n}\n\n/**\n * Returns the string representation of this instance.\n * @return the string representation of this instance.\n * @name toString\n * @memberof system.evaluators.RomanEvaluator\n * @function\n * @instance\n */\nRomanEvaluator.prototype.toString = function () { return \"[RomanEvaluator]\" ; }","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { MultiEvaluator    } from './evaluators/MultiEvaluator.js' ;\nimport { PropertyEvaluator } from './evaluators/PropertyEvaluator.js' ;\nimport { RomanEvaluator    } from './evaluators/RomanEvaluator.js' ;\n\n/**\n * The {@link system.evaluators} library contains classes to evaluates some objects with a collection of specific strategies.\n * @summary The {@link system.evaluators} library contains classes to evaluates some objects.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace system.evaluators\n * @memberof system\n */\nexport var evaluators = Object.assign\n({\n    MultiEvaluator    : MultiEvaluator,\n    PropertyEvaluator : PropertyEvaluator,\n    RomanEvaluator    : RomanEvaluator\n}) ;","\"use strict\" ;\n\nimport { ValueObject } from '../data/ValueObject.js' ;\n\n/**\n * The <code>Event</code> class is used as the base class for the creation of Event objects, which are passed as parameters to event listeners when an event occurs.\n * @name Event\n * @class\n * @memberof system.events\n * @param {string} type - The type of the event.\n * @param {boolean} bubbles - Determines whether the Event object participates in the bubbling stage of the event flow. The default value is <code>false</code>.\n * @param {boolean} cancelable - Determines whether the Event object can be canceled. The default values is <code>false</code>.\n * @see system.events.EventDispatcher\n * @example\n * var click = function( event )\n * {\n *     trace( \"click: \" + event ) ;\n * };\n *\n * var dispatcher = new EventDispatcher() ;\n *\n * dispatcher.addEventListener( Event.CLICK , click ) ;\n *\n * dispatcher.dispatchEvent( new Event( Event.CLICK ) ) ;\n */\nexport function Event( type , bubbles = false, cancelable = false )\n{\n    Object.defineProperties( this ,\n    {\n        _bubbles                     : { writable : true , value : Boolean(bubbles) } ,\n        _cancelable                  : { writable : true , value : Boolean(cancelable) } ,\n        _currentTarget               : { writable : true , value : null } ,\n        _defaultPrevented            : { writable : true , value : false } ,\n        _eventPhase                  : { writable : true , value : 0 } ,\n        _propagationStopped          : { writable : true , value : false } ,\n        _immediatePropagationStopped : { writable : true , value : false } ,\n        _target                      : { writable : true , value : null } ,\n        _type                        : { writable : true , value : (type instanceof String || typeof(type) === 'string') ? type : null } ,\n    });\n    ValueObject.call( this ) ;\n}\n\nEvent.prototype = Object.create( ValueObject.prototype ,\n{\n    /**\n     * @private\n     */\n    constructor : { writable : true , value : Event } ,\n\n    /**\n     * Indicates whether an event is a bubbling event. If the event can bubble, this value is <code>true</code>; otherwise it is <code>false</code>.\n     * <p>When an event occurs, it moves through the three phases of the event flow: the capture phase, which flows from the top of the display list hierarchy to the node just before the target node; the target phase, which comprises the target node; and the bubbling phase, which flows from the node subsequent to the target node back up the display list hierarchy.</p>\n     * <p>Some events, such as the <code>activate</code> and <code>unload</code> events, do not have a bubbling phase. The <code>bubbles</code> property has a value of <code>false</code> for events that do not have a bubbling phase.</p>\n     * @name bubbles\n     * @memberof system.events.Event\n     * @instance\n     * @type boolean\n     */\n    bubbles : { get : function() { return this._bubbles } } ,\n\n    /**\n     * Indicates whether the behavior associated with the event can be prevented. If the behavior can be canceled, this value is <code>true</code>; otherwise it is <code>false</code>.\n     * @see system.events.Event.preventDefault()\n     * @name cancelable\n     * @memberof system.events.Event\n     * @instance\n     * @type boolean\n     */\n    cancelable : { get : function() { return this._cancelable  ; } }  ,\n\n    /**\n     * The object that is actively processing the Event object with an event listener. For example, if a user clicks an OK button, the current target could be the node containing that button or one of its ancestors that has registered an event listener for that event.\n     * @name currentTarget\n     * @memberof system.events.Event\n     * @instance\n     * @type Object\n     */\n    currentTarget : { get : function() { return this._currentTarget } }  ,\n\n    /**\n     * The current phase in the event flow. This property can contain the following numeric values:\n     * <ul>\n     * <li>The capture phase (<code>EventPhase.NONE === 0</code>).</li>\n     * <li>The capture phase (<code>EventPhase.CAPTURING_PHASE === 1</code>).</li>\n     * <li>The target phase (<code>EventPhase.AT_TARGET === 2</code>).</li>\n     * <li>The bubbling phase (<code>EventPhase.BUBBLING_PHASE === 3</code>).</li>\n     * </ul>\n     * @name eventPhase\n     * @memberof system.events.Event\n     * @instance\n     * @type number\n     */\n    eventPhase : { get : function() { return this._eventPhase ; } } ,\n\n    /**\n     * The event target. This property contains the target node. For example, if a user clicks an OK button, the target node is the display list node containing that button.\n     * @name target\n     * @memberof system.events.Event\n     * @instance\n     * @type Object\n     */\n    target : { get : function() { return this._target } } ,\n\n    /**\n     * The timestamp at which this event was created.\n     * <p>A numeric value corresponding to the time for the specified date according to universal time.</p>\n     * @name target\n     * @memberof system.events.Event\n     * @instance\n     * @type number\n     * @const\n     * @example\n     * var event = new Event( Event.CLICK ) ;\n     * trace( event.timestamp ) ;\n     */\n    timestamp : { value : (new Date()).valueOf() } ,\n\n    /**\n     * The type of event. The type is case-sensitive.\n     * @name type\n     * @memberof system.events.Event\n     * @instance\n     * @type string\n     */\n    type : { get : function() { return this._type } } ,\n\n    /**\n     * Duplicates an instance of an Event subclass.\n     * <p>Returns a new <code>Event</code> object that is a copy of the original instance of the Event object. You do not normally call <code>clone()</code>; the EventDispatcher class calls it automatically when you redispatch an eventthat is, when you call <code>dispatchEvent(event)</code> from a handler that is handling <code>event</code>.</p>\n     * <p>The new Event object includes all the properties of the original.</p>\n     * <p>When creating your own custom Event class, you must override the inherited <code>Event.clone()</code> method in order for it to duplicate the properties of your custom class. If you do not set all the properties that you add in your event subclass, those properties will not have the correct values when listeners handle the redispatched event.</p>\n     * <p>In this example, <code>PingEvent</code> is a subclass of <code>Event</code> and therefore implements its own version of <code>clone()</code>.</p>\n     * @example\n     * class UrlEvent extends Event\n     * {\n     *     constructor( type , url , bubbles = false, cancelable = false )\n     *     {\n     *         super( type , bubbles , cancelable ) ;\n     *         this.url = url;\n     *     }\n     *\n     *     clone()\n     *     {\n     *         return new UrlEvent( this.type , this.url, this.bubbles, this.cancelable );\n     *     }\n     *\n     *     toString()\n     *     {\n     *         return this.formatToString( this.constructor.name , \"type\", \"url\" , \"bubbles\", \"cancelable\", \"eventPhase\" );\n     *     }\n     * }\n     * @return A new Event object that is identical to the original.\n     * @name clone\n     * @memberof system.events.Event\n     * @function\n     * @instance\n     */\n    clone : { writable : true , value : function ()\n    {\n        return new Event( this._type, this._bubbles, this._cancelable );\n    }},\n\n    /**\n     * Checks whether the <code>preventDefault()</code> method has been called on the event. If the <code>preventDefault()</code> method has been called, returns <code>true</code>; otherwise, returns <code>false</code>.\n     * @return If <code>preventDefault()</code> has been called, returns <code>true</code>; otherwise, returns <code>false</code>.\n     * @see system.events.Event.preventDefault\n     * @name isDefaultPrevented\n     * @memberof system.events.Event\n     * @instance\n     * @function\n     */\n    isDefaultPrevented : { value : function()\n    {\n        return this._defaultPrevented ;\n    }},\n\n    /**\n     * Check if event.stopImmediatePropagation() was called.\n     * @name isImmediatePropagationStopped\n     * @memberof system.events.Event\n     * @instance\n     * @function\n     */\n    isImmediatePropagationStopped : { value : function()\n    {\n        return this._immediatePropagationStopped ;\n    }},\n\n    /**\n     * Check if event.stopPropagation() was called.\n     * @name isPropagationStopped\n     * @memberof system.events.Event\n     * @instance\n     * @function\n     */\n    isPropagationStopped : { value : function()\n    {\n        return this._propagationStopped ;\n    }},\n\n    /**\n     * Cancels an event's default behavior if that behavior can be canceled.\n     * <p>Many events have associated behaviors that are carried out by default. For example, if a user types a character into a text field, the default behavior is that the character is displayed in the text field. Because the <code>TextEvent.TEXT_INPUT</code> event's default behavior can be canceled, you can use the <code>preventDefault()</code> method to prevent the character from appearing.</p>\n     * <p>An example of a behavior that is not cancelable is the default behavior associated with the <code>Event.REMOVED</code> event, which is generated whenever Flash Player is about to remove a display object from the display list. The default behavior (removing the element) cannot be canceled, so the <code>preventDefault()</code> method has no effect on this default behavior.</p>\n     * <p>You can use the <code>Event.cancelable</code> property to check whether you can prevent the default behavior associated with a particular event. If the value of <code>Event.cancelable</code> is <code>true</code>, then <code>preventDefault()</code> can be used to cancel the event; otherwise, <code>preventDefault()</code> has no effect.</p>\n     * @see system.events.Event.isDefaultPrevented\n     * @see system.events.Event.cancelable\n     * @name preventDefault\n     * @memberof system.events.Event\n     * @instance\n     * @function\n     */\n    preventDefault : { value : function()\n    {\n        if( this._cancelable )\n        {\n            this._defaultPrevented = true;\n        }\n    }},\n\n    /**\n    * Prevents processing of any event listeners in the current node and any subsequent nodes in the event flow. This method takes effect immediately, and it affects event listeners in the current node. In contrast, the <code>stopPropagation()</code> method doesn't take effect until all the event listeners in the current node finish processing.\n    * <p><b>Note:</b> This method does not cancel the behavior associated with this event; see <code>preventDefault()</code> for that functionality.</p>\n    * @see system.events.Event.stopPropagation\n    * @see system.events.Event.preventDefault\n    * @name stopImmediatePropagation\n    * @memberof system.events.Event\n    * @instance\n    * @function\n    */\n    stopImmediatePropagation : { value : function()\n    {\n        this._immediatePropagationStopped = true;\n    }},\n\n    /**\n    * Prevents processing of any event listeners in nodes subsequent to the current node in the event flow. This method does not affect any event listeners in the current node (<code>currentTarget</code>). In contrast, the <code>stopImmediatePropagation()</code> method prevents processing of event listeners in both the current node and subsequent nodes. Additional calls to this method have no effect. This method can be called in any phase of the event flow.\n    * <p><b>Note:</b> This method does not cancel the behavior associated with this event; see <code>preventDefault()</code> for that functionality.</p>\n    * @see system.events.Event.stopImmediatePropagation\n    * @see system.events.Event.preventDefault\n    * @name stopPropagation\n    * @memberof system.events.Event\n    * @instance\n    * @function\n    */\n    stopPropagation : { value : function()\n    {\n        this._propagationStopped = true;\n    }},\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @name toString\n     * @memberof system.events.Event\n     * @function\n     * @instance\n     */\n    toString : { writable : true , value : function ()\n    {\n        return this.formatToString( null , \"type\", \"bubbles\", \"cancelable\");\n    }},\n\n    // ------\n\n    /**\n     * @private\n     */\n    withTarget : { value : function( target )\n    {\n        var event = this.target ? this.clone() : this ;\n        event._target = target;\n        return event ;\n    }},\n\n    /**\n     * @private\n     */\n    withCurrentTarget  : { value : function( currentTarget )\n    {\n        this._currentTarget = currentTarget ;\n        return this;\n    }}\n});\n\nObject.defineProperties( Event ,\n{\n    /**\n     * The <code>ACTIVATE</code> constant defines the value of the <code>type</code> property of an <code>activate</code> event object.\n     * @name ACTIVATE\n     * @memberof system.events.Event\n     * @const\n     * @see system.events.Event.DEACTIVATE\n     */\n    ACTIVATE : { value : \"activate\" } ,\n    /**\n     * The <code>Event.ADDED</code> constant defines the value of the <code>type</code> property of an <code>added</code> event object.\n     * @name ADDED\n     * @memberof system.events.Event\n     * @const\n     * @see system.events.Event.ADDED_TO_STAGE\n     * @see system.events.Event.REMOVED\n     * @see system.events.Event.REMOVED_FROM_STAGE\n     */\n    ADDED : { value : \"added\" } ,\n    /**\n     * The <code>Event.ADDED_TO_STAGE</code> constant defines the value of the <code>type</code> property of an <code>addedToStage</code> event object.\n     * @name ADDED_TO_STAGE\n     * @memberof system.events.Event\n     * @const\n     * @see system.events.Event.ADDED\n     * @see system.events.Event.REMOVED\n     * @see system.events.Event.REMOVED_FROM_STAGE\n     */\n    ADDED_TO_STAGE : { value : \"addedToStage\" } ,\n    /**\n     * The <code>Event.CANCEL</code> constant defines the value of the <code>type</code> property of a <code>cancel</code> event object.\n     * @name CANCEL\n     * @memberof system.events.Event\n     * @const\n     */\n    CANCEL : { value : \"cancel\" } ,\n    /**\n     * The <code>Event.CHANGE</code> constant defines the value of the <code>type</code> property of a <code>change</code> event object.\n     * @name CHANGE\n     * @memberof system.events.Event\n     * @const\n     */\n    CHANGE : { value : \"change\" } ,\n    /**\n     * The <code>Event.CLEAR</code> constant defines the value of the <code>type</code> property of a <code>clear</code> event object.\n     * @name CLEAR\n     * @memberof system.events.Event\n     * @const\n     */\n    CLEAR : { value : \"clear\" } ,\n    /**\n     * The <code>Event.CLICK</code> constant defines the value of the <code>type</code> property of a <code>click</code> event object.\n     * @name CLICK\n     * @memberof system.events.Event\n     * @const\n     */\n    CLICK : { value : \"click\" } ,\n    /**\n     * The <code>Event.CLOSE</code> constant defines the value of the <code>type</code> property of a <code>close</code> event object.\n     * @name CLOSE\n     * @memberof system.events.Event\n     * @const\n     */\n    CLOSE : { value : \"close\" } ,\n    /**\n     * The <code>Event.COMPLETE</code> constant defines the value of the <code>type</code> property of a <code>complete</code> event object.\n     * @name COMPLETE\n     * @memberof system.events.Event\n     * @const\n     */\n    COMPLETE : { value : \"complete\" } ,\n    /**\n     * The <code>Event.CONNECT</code> constant defines the value of the <code>type</code> property of a <code>connect</code> event object.\n     * @name CONNECT\n     * @memberof system.events.Event\n     * @const\n     */\n    CONNECT : { value : \"connect\" } ,\n    /**\n     * The <code>Event.COPY</code> constant defines the value of the <code>type</code> property of a <code>copy</code> event object.\n     * @name COPY\n     * @memberof system.events.Event\n     * @const\n     */\n    COPY : { value : \"copy\" } ,\n    /**\n     * The <code>Event.CUT</code> constant defines the value of the <code>type</code> property of a <code>cut</code> event object.\n     * @name CUT\n     * @memberof system.events.Event\n     * @const\n     */\n    CUT : { value : \"cut\" } ,\n    /**\n     * The <code>Event.DEACTIVATE</code> constant defines the value of the <code>type</code> property of a <code>deactivate</code> event object.\n     * @name DEACTIVATE\n     * @memberof system.events.Event\n     * @const\n     * @see system.events.Event.ACTIVATE\n     */\n    DEACTIVATE : { value : \"deactivate\" } ,\n    /**\n     * The <code>Event.FULLSCREEN</code> constant defines the value of the <code>type</code> property of a <code>fullScreen</code> event object.\n     * @name FULLSCREEN\n     * @memberof system.events.Event\n     * @const\n     */\n    FULLSCREEN : { value : \"fullScreen\" } ,\n    /**\n     * The <code>Event.INIT</code> constant defines the value of the <code>type</code> property of an <code>init</code> event object.\n     * @name INIT\n     * @memberof system.events.Event\n     * @const\n     */\n    INIT : { value : \"init\" } ,\n    /**\n     * The <code>Event.OPEN</code> constant defines the value of the <code>type</code> property of an <code>open</code> event object.\n     * @name OPEN\n     * @memberof system.events.Event\n     * @const\n     */\n    OPEN : { value : \"open\" } ,\n    /**\n     * The <code>Event.PASTE</code> constant defines the value of the <code>type</code> property of a <code>paste</code> event object.\n     * @name PASTE\n     * @memberof system.events.Event\n     * @const\n     */\n    PASTE : { value : \"paste\" } ,\n    /**\n     * The <code>Event.REMOVED</code> constant defines the value of the <code>type</code> property of a <code>removed</code> event object.\n     * @name REMOVED\n     * @memberof system.events.Event\n     * @const\n     * @see system.events.Event.ADDED\n     * @see system.events.Event.ADDED_TO_STAGE\n     * @see system.events.Event.REMOVED_FROM_STAGE\n     */\n    REMOVED : { value : \"removed\" } ,\n    /**\n     * The <code>Event.REMOVED_FROM_STAGE</code> constant defines the value of the <code>type</code> property of a <code>removedFromStage</code> event object.\n     * @name REMOVED_FROM_STAGE\n     * @memberof system.events.Event\n     * @const\n     * @see system.events.Event.ADDED\n     * @see system.events.Event.REMOVED\n     * @see system.events.Event.ADDED_TO_STAGE\n     */\n    REMOVED_FROM_STAGE : { value : \"removedFromStage\" } ,\n    /**\n     * The <code>Event.RENDER</code> constant defines the value of the <code>type</code> property of a <code>render</code> event object.\n     * @name RENDER\n     * @memberof system.events.Event\n     * @const\n     */\n    RENDER : { value : \"render\" } ,\n    /**\n     * The <code>Event.RESIZE</code> constant defines the value of the <code>type</code> property of a <code>resize</code> event object.\n     * @name RESIZE\n     * @memberof system.events.Event\n     * @const\n     */\n    RESIZE : { value : \"resize\" } ,\n    /**\n     * The <code>Event.SCROLL</code> constant defines the value of the <code>type</code> property of a <code>scroll</code> event object.\n     * @name SCROLL\n     * @memberof system.events.Event\n     * @const\n     */\n    SCROLL : { value : \"scroll\" } ,\n    /**\n     * The <code>Event.SELECT</code> constant defines the value of the <code>type</code> property of a <code>select</code> event object.\n     * @name SELECT\n     * @memberof system.events.Event\n     * @const\n     */\n    SELECT : { value : \"select\" } ,\n    /**\n     * The <code>Event.UNLOAD</code> constant defines the value of the <code>type</code> property of a <code>unload</code> event object.\n     * @name UNLOAD\n     * @memberof system.events.Event\n     * @const\n     */\n   UNLOAD : { value : \"unload\" }\n });","\"use strict\" ;\n\n/**\n * An event listener associates a callback function with a specific event.\n * <p>The {@link system.events.EventListener} interface is the primary method for handling events. Users implement the {@link system.events.EventListener} interface and register their listener on an {@link system.events.IEventDispatcher} using the <code>addEventListener</code>. The users should also remove their {@link system.events.EventListener} from its {@link system.events.IEventDispatcher} after they have completed using the listener.</p>\n * @name EventListener\n * @interface\n * @memberof system.events\n */\nexport function EventListener() {}\n\nEventListener.prototype = Object.create( Object.prototype ,\n{\n    /**\n     * @private\n     */\n    constructor : { writable : true , value : EventListener } ,\n\n    /**\n     * This method is called whenever an event occurs of the type for which the EventListener interface was registered.\n     * @memberof system.events.EventListener\n     * @function\n     */\n    handleEvent : { writable : true , value : function() {} } ,\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @memberof system.events.EventListener\n     * @function\n     */\n    toString : { writable : true , value : function ()\n    {\n        return '[' + this.constructor.name + ']' ;\n    }}\n});\n\n","\"use strict\" ;\n\n/**\n * The <code>EventPhase</code> class provides values for the <code>eventPhase</code> property of the {@link system.events.Event} class.\n * @namespace system.events.EventPhase\n * @memberof system.events\n */\nexport var EventPhase = Object.defineProperties( {} ,\n{\n    /**\n     * The target phase, which is the second phase of the event flow.\n     * @memberof system.events.EventPhase\n     * @const\n     * @type {number}\n     */\n    AT_TARGET : { value : 2 , enumerable : true } ,\n\n    /**\n     * The bubbling phase, which is the third phase of the event flow.\n     * @memberof system.events.EventPhase\n     * @const\n     * @type {number}\n     */\n    BUBBLING_PHASE : { value : 3 , enumerable : true } ,\n\n    /**\n     * The capturing phase, which is the first phase of the event flow.\n     * @memberof system.events.EventPhase\n     * @const\n     * @type {number}\n     */\n    CAPTURING_PHASE : { value : 1 , enumerable : true } ,\n\n    /**\n     * No event is being processed at this time.\n     * @memberof system.events.EventPhase\n     * @const\n     * @type {number}\n     */\n    NONE : { value : 0 , enumerable : true }\n}) ;\n\n","/* jshint unused:false */\n\"use strict\" ;\n\n/**\n * The <code>IEventDispatcher</code> interface defines methods for adding or removing event listeners, checks whether specific types of event listeners are registered, and dispatches events.\n * <p>In general, the easiest way for a user-defined class to gain event dispatching capabilities is to extend <code>EventDispatcher</code>. If this is impossible (that is, if the class is already extending another class), you can instead implement the IEventDispatcher interface, create an <code>EventDispatcher</code> member, and write simple hooks to route calls into the aggregated <code>EventDispatcher</code>.</p>\n * @name IEventDispatcher\n * @memberof system.events\n * @interface\n */\nexport function IEventDispatcher() {}\n\nIEventDispatcher.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : IEventDispatcher },\n\n    /**\n     * Registers an event listener object with an EventDispatcher object so that the listener receives notification of an event. You can register event listeners on all nodes in the display list for a specific type of event, phase, and priority.\n     * <p>After you successfully register an event listener, you cannot change its priority through additional calls to <code>addEventListener()</code>. To change a listener's priority, you must first call <code>removeEventListener()</code>. Then you can register the listener again with the new priority level.</p>\n     * <p>After the listener is registered, subsequent calls to <code>addEventListener()</code> with a different value for either <code>type</code> or <code>useCapture</code> result in the creation of a separate listener registration. For example, if you first register a listener with <code>useCapture</code> set to <code>true</code>, it listens only during the capture phase. If you call <code>addEventListener()</code> again using the same listener object, but with <code>useCapture</code> set to <code>false</code>, you have two separate listeners: one that listens during the capture phase, and another that listens during the target and bubbling phases.</p>\n     * <p>You cannot register an event listener for only the target phase or the bubbling phase. Those phases are coupled during registration because bubbling applies only to the ancestors of the target node.</p>\n     * <p>When you no longer need an event listener, remove it by calling <code>EventDispatcher.removeEventListener()</code>; otherwise, memory problems might result. Objects with registered event listeners are not automatically removed from memory because the garbage collector does not remove objects that still have references.</p>\n     * <p>Copying an EventDispatcher instance does not copy the event listeners attached to it. (If your newly created node needs an event listener, you must attach the listener after creating the node.) However, if you move an EventDispatcher instance, the event listeners attached to it move along with it.</p>\n     * <p>If the event listener is being registered on a node while an event is also being processed on this node, the event listener is not triggered during the current phase but may be triggered during a later phase in the event flow, such as the bubbling phase.</p>\n     * <p>If an event listener is removed from a node while an event is being processed on the node, it is still triggered by the current actions. After it is removed, the event listener is never invoked again (unless it is registered again for future processing).</p>\n     * @param {string} type - The type of event.\n     * @param {function} listener - The listener function that processes the event. This function must accept an event object as its only parameter and must return nothing, as this example shows:\n     * <p><code>function(evt)</code></p>The function can have any name.\n     * @param {boolean} [useCapture=false] - Determines whether the listener works in the capture phase or the target and bubbling phases. If <code>useCapture</code> is set to <code>true</code>, the listener processes the event only during the capture phase and not in the target or bubbling phase. If <code>useCapture</code> is <code>false</code>, the listener processes the event only during the target or bubbling phase. To listen for the event in all three phases, call <code>addEventListener()</code> twice, once with <code>useCapture</code> set to <code>true</code>, then again with <code>useCapture</code> set to <code>false</code>.\n     * @param {number} [priority=0] - The priority level of the event listener. Priorities are designated by a 32-bit integer. The higher the number, the higher the priority. All listeners with priority <i>n</i> are processed before listeners of priority <i>n-1</i>. If two or more listeners share the same priority, they are processed in the order in which they were added. The default priority is 0.\n     * @name addEventListener\n     * @memberof system.events.IEventDispatcher\n     * @function\n     * @instance\n     */\n    addEventListener : { writable : true , value : function( type, listener, useCapture = false, priority = 0 ) {} },\n\n    /**\n     * Dispatches an event into the event flow. The event target is the EventDispatcher object upon which <code>dispatchEvent()</code> is called.\n     * @param {system.event.Event} event - The event object dispatched into the event flow.\n     * @return A value of <code>true</code> unless <code>preventDefault()</code> is called on the event, in which case it returns <code>false</code>.\n     * @name dispatchEvent\n     * @memberof system.events.IEventDispatcher\n     * @function\n     * @instance\n     */\n    dispatchEvent : { writable : true , value : function( event ) {} },\n\n    /**\n     * Checks whether the EventDispatcher object has any listeners registered for a specific type of event. This allows you to determine where an EventDispatcher object has altered handling of an event type in the event flow hierarchy. To determine whether a specific event type will actually trigger an event listener, use <code>IEventDispatcher.willTrigger()</code>.\n     * <p>The difference between <code>hasEventListener()</code> and <code>willTrigger()</code> is that <code>hasEventListener()</code> examines only the object to which it belongs, whereas <code>willTrigger()</code> examines the entire event flow for the event specified by the <code>type</code> parameter.</p>\n     * @param {string} type - The type of event.\n     * @return A value of <code>true</code> if a listener of the specified type is registered; <code>false</code> otherwise.\n     * @name hasEventListener\n     * @memberof system.events.IEventDispatcher\n     * @function\n     * @instance\n     */\n    hasEventListener : { writable : true , value : function( type ) {} },\n\n    /**\n     * Removes a listener from the EventDispatcher object. If there is no matching listener registered with the EventDispatcher object, a call to this method has no effect.\n     * @param {string} type - The type of event.\n     * @param {function} listener - listener The listener object to remove.\n     * @param {boolean} [useCapture=false] - Specifies whether the listener was registered for the capture phase or the target and bubbling phases. If the listener was registered for both the capture phase and the target and bubbling phases, two calls to <code>removeEventListener()</code> are required to remove both: one call with <code>useCapture</code> set to <code>true</code>, and another call with <code>useCapture</code> set to <code>false</code>.\n     * @name removeEventListener\n     * @memberof system.events.IEventDispatcher\n     * @function\n     * @instance\n     */\n    removeEventListener : { writable : true , value : function( type, listener, useCapture = false ) {} },\n\n    /**\n     * Checks whether an event listener is registered with this EventDispatcher object or any of its ancestors for the specified event type. This method returns <code>true</code> if an event listener is triggered during any phase of the event flow when an event of the specified type is dispatched to this EventDispatcher object or any of its descendants.\n     * <p>The difference between <code>hasEventListener()</code> and <code>willTrigger()</code> is that <code>hasEventListener()</code> examines only the object to which it belongs, whereas <code>willTrigger()</code> examines the entire event flow for the event specified by the <code>type</code> parameter.</p>\n     * @param {string} type - The type of event.\n     * @return A value of <code>true</code> if a listener of the specified type will be triggered; <code>false</code> otherwise.\n     * @name willTrigger\n     * @memberof system.events.IEventDispatcher\n     * @function\n     * @instance\n     */\n    willTrigger : { writable : true , value : function( type ) {} }\n});","/* jshint unused:false */\n\"use strict\" ;\n\nimport { Event } from './Event.js' ;\nimport { EventListener } from './EventListener.js' ;\nimport { EventPhase } from './EventPhase.js' ;\nimport { IEventDispatcher } from './IEventDispatcher.js' ;\n\n/**\n * The EventDispatcher class is the base class for all classes that dispatch events. The EventDispatcher class implements the IEventDispatcher interface and is the base class for the DisplayObject class. The EventDispatcher class allows any object on the display list to be an event target and as such, to use the methods of the IEventDispatcher interface.\n * @name EventDispatcher\n * @class\n * @memberof system.events\n * @implements system.events.IEventDispatcher\n * @param {system.events.IEventDispatcher} target - The target object for events dispatched to the EventDispatcher object. This parameter is used when the EventDispatcher instance is aggregated by a class that implements IEventDispatcher; it is necessary so that the containing object can be the target for events. Do not use this parameter in simple cases in which a class extends EventDispatcher.\n * @example\n * var Click = function( name )\n * {\n *     this.name = name ;\n * }\n *\n * Click.prototype = Object.create( EventListener.prototype ,\n * {\n *     constructor : { value : Click } ,\n *     handleEvent : { value : function( event )\n *     {\n *         trace( this + ' ' + this.name + ' event:' + event ) ;\n *     }}\n * });\n *\n * var click1 = new Click( '#1') ;\n * var click2 = new Click( '#2') ;\n *\n * // ------\n *\n * var select = function( event )\n * {\n *     trace( \"select event:\" + event ) ;\n * };\n *\n * // ------\n *\n * var dispatcher = new EventDispatcher() ;\n *\n * dispatcher.addEventListener( Event.CLICK , click1 ) ;\n * dispatcher.addEventListener( Event.CLICK , click2 ) ;\n * dispatcher.addEventListener( Event.CLICK , select , false , 100 ) ;\n *\n * // ------\n *\n * dispatcher.dispatchEvent( new Event( Event.CLICK ) ) ;\n *\n * // ------\n *\n * dispatcher.removeEventListener( Event.CLICK , click2 ) ;\n * dispatcher.removeEventListener( Event.CLICK , select ) ;\n *\n * // ------\n *\n * dispatcher.dispatchEvent( new Event( Event.CLICK ) ) ;\n */\nexport function EventDispatcher( target )\n{\n    Object.defineProperties( this ,\n    {\n        target            : { writable : true , value : target instanceof IEventDispatcher ? target : null } ,\n        _captureListeners : { value : {} } ,\n        _listeners        : { value : {} }\n    });\n}\n\nEventDispatcher.prototype = Object.create( IEventDispatcher.prototype ,\n{\n    /**\n     * @private\n     */\n    constructor : { writable : true , value : EventDispatcher },\n\n    /**\n     * Registers an event listener object with an EventDispatcher object so that the listener receives notification of an event. You can register event listeners on all nodes in the display list for a specific type of event, phase, and priority.\n     * <p>After you successfully register an event listener, you cannot change its priority through additional calls to <code>addEventListener()</code>. To change a listener's priority, you must first call <code>removeEventListener()</code>. Then you can register the listener again with the new priority level.</p>\n     * <p>After the listener is registered, subsequent calls to <code>addEventListener()</code> with a different value for either <code>type</code> or <code>useCapture</code> result in the creation of a separate listener registration. For example, if you first register a listener with <code>useCapture</code> set to <code>true</code>, it listens only during the capture phase. If you call <code>addEventListener()</code> again using the same listener object, but with <code>useCapture</code> set to <code>false</code>, you have two separate listeners: one that listens during the capture phase, and another that listens during the target and bubbling phases.</p>\n     * <p>You cannot register an event listener for only the target phase or the bubbling phase. Those phases are coupled during registration because bubbling applies only to the ancestors of the target node.</p>\n     * <p>When you no longer need an event listener, remove it by calling <code>EventDispatcher.removeEventListener()</code>; otherwise, memory problems might result. Objects with registered event listeners are not automatically removed from memory because the garbage collector does not remove objects that still have references.</p>\n     * <p>Copying an EventDispatcher instance does not copy the event listeners attached to it. (If your newly created node needs an event listener, you must attach the listener after creating the node.) However, if you move an EventDispatcher instance, the event listeners attached to it move along with it.</p>\n     * <p>If the event listener is being registered on a node while an event is also being processed on this node, the event listener is not triggered during the current phase but may be triggered during a later phase in the event flow, such as the bubbling phase.</p>\n     * <p>If an event listener is removed from a node while an event is being processed on the node, it is still triggered by the current actions. After it is removed, the event listener is never invoked again (unless it is registered again for future processing).</p>\n     * @param {string} type - The type of event.\n     * @param {function|system.events.EventListener} listener - The listener function that processes the event. This function must accept an event object as its only parameter and must return nothing, as this example shows:\n     * <p><code>function(evt)</code></p>The function can have any name.\n     * @param {boolean} [useCapture=false] - Determines whether the listener works in the capture phase or the target and bubbling phases. If <code>useCapture</code> is set to <code>true</code>, the listener processes the event only during the capture phase and not in the target or bubbling phase. If <code>useCapture</code> is <code>false</code>, the listener processes the event only during the target or bubbling phase. To listen for the event in all three phases, call <code>addEventListener()</code> twice, once with <code>useCapture</code> set to <code>true</code>, then again with <code>useCapture</code> set to <code>false</code>.\n     * @param {number} [priority=0] - The priority level of the event listener. Priorities are designated by a 32-bit integer. The higher the number, the higher the priority. All listeners with priority <i>n</i> are processed before listeners of priority <i>n-1</i>. If two or more listeners share the same priority, they are processed in the order in which they were added. The default priority is 0.\n     * @name addEventListener\n     * @memberof system.events.EventDispatcher\n     * @function\n     * @instance\n     */\n    addEventListener : { writable : true , value : function( type, listener, useCapture = false, priority = 0 )\n    {\n        if( !( type instanceof String || typeof(type) === 'string') )\n        {\n            throw new TypeError( this + \" addEventListener failed, the type argument must be a valid String expression.\" ) ;\n        }\n\n        if( !( listener instanceof Function || listener instanceof EventListener ) )\n        {\n            throw new TypeError( this + \" addEventListener failed, the listener must be a valid Function or EventListener reference.\" ) ;\n        }\n\n        let collection = useCapture ? this._captureListeners : this._listeners ;\n\n        let entry =\n        {\n            type       : type,\n            listener   : listener ,\n            useCapture : useCapture,\n            priority   : priority\n        };\n\n        if ( !(type in collection) )\n        {\n            collection[type] = [ entry ];\n        }\n        else\n        {\n            collection[type].push( entry );\n        }\n\n        collection[type].sort( this.compare );\n    } },\n\n    /**\n     * Dispatches an event into the event flow. The event target is the EventDispatcher object upon which <code>dispatchEvent()</code> is called.\n     * @param {system.event.Event} event - The event object dispatched into the event flow.\n     * @return A value of <code>true</code> unless <code>preventDefault()</code> is called on the event, in which case it returns <code>false</code>.\n     * @name dispatchEvent\n     * @memberof system.events.EventDispatcher\n     * @function\n     * @instance\n     */\n    dispatchEvent : { writable : true , value : function( event )\n    {\n        if( !( event instanceof Event ) )\n        {\n            throw new TypeError( this + \" dispatchEvent failed, the event argument must be a valid Event object.\" ) ;\n        }\n\n        event = event.withTarget( this.target || this );\n\n        let ancestors = this.createAncestorChain();\n\n        event._eventPhase = EventPhase.CAPTURING_PHASE ;\n\n        EventDispatcher.internalHandleCapture( event , ancestors );\n\n        if ( !event.isPropagationStopped() )\n        {\n            event._eventPhase = EventPhase.AT_TARGET;\n            event.withCurrentTarget( event._target );\n            let listeners = this._listeners[ event.type ];\n            if (this._listeners[ event.type ])\n            {\n                EventDispatcher.processListeners( event, listeners );\n            }\n        }\n\n        if ( event.bubbles && !event.isPropagationStopped() )\n        {\n            event._eventPhase = EventPhase.BUBBLING_PHASE;\n            EventDispatcher.internalHandleBubble( event , ancestors ) ;\n        }\n\n        return !event.isDefaultPrevented();\n    }},\n\n    /**\n     * Checks whether the EventDispatcher object has any listeners registered for a specific type of event. This allows you to determine where an EventDispatcher object has altered handling of an event type in the event flow hierarchy. To determine whether a specific event type will actually trigger an event listener, use <code>IEventDispatcher.willTrigger()</code>.\n     * <p>The difference between <code>hasEventListener()</code> and <code>willTrigger()</code> is that <code>hasEventListener()</code> examines only the object to which it belongs, whereas <code>willTrigger()</code> examines the entire event flow for the event specified by the <code>type</code> parameter.</p>\n     * @param {string} type - The type of event.\n     * @return A value of <code>true</code> if a listener of the specified type is registered; <code>false</code> otherwise.\n     * @name hasEventListener\n     * @memberof system.events.EventDispatcher\n     * @function\n     * @instance\n     */\n    hasEventListener : { writable : true , value : function( type )\n    {\n        return Boolean(this._listeners[type] || this._captureListeners[type]) ;\n    }},\n\n    /**\n     * Removes a listener from the EventDispatcher object. If there is no matching listener registered with the EventDispatcher object, a call to this method has no effect.\n     * @param {string} type - The type of event.\n     * @param {function} listener - listener The listener object to remove.\n     * @param {boolean} [useCapture=false] - Specifies whether the listener was registered for the capture phase or the target and bubbling phases. If the listener was registered for both the capture phase and the target and bubbling phases, two calls to <code>removeEventListener()</code> are required to remove both: one call with <code>useCapture</code> set to <code>true</code>, and another call with <code>useCapture</code> set to <code>false</code>.\n     * @name removeEventListener\n     * @memberof system.events.EventDispatcher\n     * @function\n     * @instance\n     */\n    removeEventListener : { writable : true , value : function( type , listener, useCapture = false )\n    {\n        if( !( type instanceof String || typeof(type) === 'string') )\n        {\n            throw new TypeError( this + \" removeEventListener failed, the type must be a valid String expression.\" ) ;\n        }\n\n        if( !( listener instanceof Function || listener instanceof EventListener ) )\n        {\n            throw new TypeError( this + \" removeEventListener failed, the listener must be a valid Function or EventListener reference.\" ) ;\n        }\n\n        let collection = useCapture ? this._captureListeners : this._listeners ;\n        let listeners  = collection[type];\n        if ( listeners && listeners.length > 0 )\n        {\n            let len = listeners.length ;\n            for ( let i = 0 ; i < len ; ++i )\n            {\n                if ( listeners[i].listener === listener )\n                {\n                    if ( len === 1 )\n                    {\n                        delete collection[type] ;\n                    }\n                    else\n                    {\n                        listeners.splice(i, 1);\n                    }\n                    break;\n                }\n            }\n        }\n    }},\n\n    /**\n     * The string representation of this instance.\n     * @return the string representation of this instance.\n     * @name toString\n     * @memberof system.events.EventDispatcher\n     * @function\n     * @instance\n     */\n    toString : { writable : true , value : function ()\n    {\n        let exp = '[' + this.constructor.name ;\n        if( this.target )\n        {\n            exp += ' target:' + this.target ;\n        }\n        return exp + ']' ;\n    }},\n\n    /**\n     * Checks whether an event listener is registered with this EventDispatcher object or any of its ancestors for the specified event type. This method returns <code>true</code> if an event listener is triggered during any phase of the event flow when an event of the specified type is dispatched to this EventDispatcher object or any of its descendants.\n     * <p>The difference between <code>hasEventListener()</code> and <code>willTrigger()</code> is that <code>hasEventListener()</code> examines only the object to which it belongs, whereas <code>willTrigger()</code> examines the entire event flow for the event specified by the <code>type</code> parameter.</p>\n     * @param {string} type - The type of event.\n     * @return A value of <code>true</code> if a listener of the specified type will be triggered; <code>false</code> otherwise.\n     * @name willTrigger\n     * @memberof system.events.EventDispatcher\n     * @function\n     * @instance\n     */\n    willTrigger : { writable : true , value : function( type )\n    {\n        let parents = this.createAncestorChain();\n        if( (parents instanceof Array) && parents.length > 0 )\n        {\n            let parent ;\n            let len = parents.length ;\n            while( --len > -1 )\n            {\n                parent = parents[len] ;\n                if( (parent instanceof IEventDispatcher) && parent.hasEventListener( type ) )\n                {\n                    return true;\n                }\n            }\n        }\n        return this.hasEventListener(type);\n    }} ,\n\n    // -------------\n\n    /**\n     * @private\n     * @name createAncestorChain\n     * @memberof system.events.EventDispatcher\n     * @function\n     * @instance\n     */\n    createAncestorChain : { writable : true , value : function()\n    {\n        return null; // overrides\n    }},\n\n    // -------------\n\n    /**\n     * @private\n     * @name compare\n     * @memberof system.events.EventDispatcher\n     * @function\n     * @instance\n     */\n    compare : { value : function( entry1 , entry2 )\n    {\n        if ( entry1.priority > entry2.priority )\n        {\n            return -1;\n        }\n        else if ( entry1.priority < entry2.priority )\n        {\n            return 1;\n        }\n        else\n        {\n            return 0 ;\n        }\n    }},\n\n    /**\n     * @private\n     * @name processCapture\n     * @memberof system.events.EventDispatcher\n     * @function\n     * @instance\n     */\n    processCapture : { value : function( event )\n    {\n        event.withCurrentTarget( this.target || this ) ;\n        let listeners = this._captureListeners[ event.type ];\n        if ( listeners )\n        {\n            EventDispatcher.processListeners( event , listeners );\n        }\n    }},\n\n    /**\n     * @private\n     * @name processBubble\n     * @memberof system.events.EventDispatcher\n     * @function\n     * @instance\n     */\n    processBubble : { value : function( event )\n    {\n        event.withCurrentTarget( this.target || this );\n        let listeners = this._listeners[ event.type ];\n        if ( listeners )\n        {\n            EventDispatcher.processListeners( event, listeners ) ;\n        }\n    }}\n});\n\nObject.defineProperties( EventDispatcher ,\n{\n    processListeners : { value : function ( event , listeners )\n    {\n        if( listeners instanceof Array && listeners.length > 0 )\n        {\n            let len = listeners.length ;\n            let listener ;\n            for ( let i = 0 ; i < len ; ++i )\n            {\n                listener = listeners[i].listener ;\n\n                let flag ;\n\n                if( listener instanceof EventListener )\n                {\n                    flag = listener.handleEvent(event) ;\n                }\n                else if( listener instanceof Function )\n                {\n                    flag = listener(event) ;\n                }\n\n                if( flag === false )\n                {\n                    event.stopPropagation();\n                    event.preventDefault();\n                }\n\n                if ( event.isImmediatePropagationStopped() )\n                {\n                    break;\n                }\n            }\n        }\n    }},\n\n    internalHandleCapture : { value : function( event , ancestors )\n    {\n        if ( !(ancestors instanceof Array) || ancestors.length <= 0 )\n        {\n            return ;\n        }\n        let dispatcher ;\n        let len = ancestors.length - 1\n        for ( let i = len ; i >= 0 ; i-- )\n        {\n            dispatcher = ancestors[i] ;\n            dispatcher.processCapture( event );\n            if ( event.isPropagationStopped() )\n            {\n                break ;\n            }\n        }\n    }},\n\n    internalHandleBubble : { value : function( event , ancestors )\n    {\n        if (!ancestors || ancestors.length <= 0)\n        {\n            return;\n        }\n        let dispatcher ;\n        let len = ancestors.length ;\n        for ( let i = 0 ; i < len ; i++ )\n        {\n            dispatcher = ancestors[i];\n\n            dispatcher.processBubble( event ) ;\n\n            if ( event.isPropagationStopped() )\n            {\n                break;\n            }\n        }\n    }}\n});","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { Event } from './events/Event.js' ;\nimport { EventDispatcher } from './events/EventDispatcher.js' ;\nimport { EventListener } from './events/EventListener.js' ;\nimport { EventPhase } from './events/EventPhase.js' ;\nimport { IEventDispatcher } from './events/IEventDispatcher.js' ;\n\n/**\n * The {@link system.events} package provides a W3C Event Model implementation.\n * @summary The {@link system.events} package provides an W3C Event Model library.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace system.events\n * @memberof system\n * @example <caption>Basic usage with a <code>callback</code> function</caption>\n * var click = function( event )\n * {\n *     trace( \"click: \" + event ) ;\n * };\n *\n * var dispatcher = new EventDispatcher() ;\n *\n * dispatcher.addEventListener( Event.CLICK , click ) ;\n *\n * dispatcher.dispatchEvent( new Event( Event.CLICK ) ) ;\n * @example <caption>Use the W3C DOM {@link system.events.EventListener|EventListener} interface</caption>\n * var Click = function( name )\n * {\n *     this.name = name ;\n * }\n *\n * Click.prototype = Object.create( EventListener.prototype ,\n * {\n *     constructor : { value : Click } ,\n *     handleEvent : { value : function( event )\n *     {\n *         trace( this + ' ' + this.name + ' event:' + event ) ;\n *     }}\n * });\n *\n * var click1 = new Click( '#1') ;\n * var click2 = new Click( '#2') ;\n *\n * var dispatcher = new EventDispatcher() ;\n *\n * dispatcher.addEventListener( Event.CLICK , click1 ) ;\n * dispatcher.addEventListener( Event.CLICK , click2 ) ;\n *\n * dispatcher.dispatchEvent( new Event( Event.CLICK ) ) ;\n *\n * dispatcher.removeEventListener( Event.CLICK , click2 ) ;\n * dispatcher.dispatchEvent( new Event( Event.CLICK ) ) ;\n */\nexport var events = Object.assign\n({\n    Event : Event,\n    EventDispatcher : EventDispatcher,\n    EventListener : EventListener,\n    EventPhase : EventPhase,\n    IEventDispatcher : IEventDispatcher\n}) ;","\"use strict\" ;\n\nimport { fastformat }  from '../../core/strings/fastformat.js' ;\nimport { ArrayMap }    from '../data/maps/ArrayMap.js' ;\nimport { Formattable } from '../Formattable.js' ;\n\n/**\n * This object register formattable expression and format a String with all expressions register in this internal dictionnary.\n * @name ExpressionFormatter\n * @memberof system.formatters\n * @implements system.Formattable\n * @class\n * @example\n * var ExpressionFormatter = system.formatters.ExpressionFormatter ;\n *\n * var formatter = new ExpressionFormatter() ;\n *\n * formatter.set( \"root\"      , \"c:\"                     ) ;\n * formatter.set( \"system\"    , \"{root}/project/system\"  ) ;\n * formatter.set( \"data.maps\" , \"{system}/data/maps\"     ) ;\n * formatter.set( \"map\"       , \"{data.maps}/HashMap.as\" ) ;\n *\n * source = \"the root : {root} - the class : {map}\" ;\n * // the root : c: - the class : c:/project/system/data/maps/HashMap.as\n *\n * trace( formatter.length ) ;\n * trace( formatter.format( source ) ) ;\n *\n * trace( \"----\" ) ;\n *\n * formatter.clear() ;\n *\n * formatter.set( \"root\"      , \"c:\"                     ) ;\n * formatter.set( \"system\"    , \"%root%/project/system\" ) ;\n * formatter.set( \"data.maps\" , \"%system%/data/maps\" ) ;\n * formatter.set( \"HashMap\"   , \"%data.maps%/HashMap.as\" ) ;\n *\n * formatter.beginSeparator = \"%\" ;\n * formatter.endSeparator   = \"%\" ;\n *\n * source = \"the root : %root% - the class : %HashMap%\" ;\n *\n * trace( formatter.format( source ) ) ;\n * // the root : c: - the class : c:/project/system/data/maps/HashMap.as\n */\nexport function ExpressionFormatter()\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The expressions reference\n         * @memberof system.formatters.ExpressionFormatter\n         * @instance\n         */\n        expressions : { value : new ArrayMap() },\n\n        /**\n         * @private\n         */\n        _beginSeparator : { value : '{' , writable : true } ,\n\n        /**\n         * @private\n         */\n        _endSeparator : { value : '}' , writable : true } ,\n\n        /**\n         * @private\n         */\n        _pattern : { value : \"{0}((\\\\w+\\)|(\\\\w+)((.\\\\w)+|(.\\\\w+))){1}\" } ,\n\n        /**\n         * @private\n         */\n        _reg : { value : null , writable : true }\n    }) ;\n\n    this._reset() ;\n}\n\nObject.defineProperties( ExpressionFormatter ,\n{\n    /**\n     * The limit of the recursions in the formatter (<code>200</code>).\n     * @memberof system.formatters.ExpressionFormatter\n     * @const\n     * @type number\n     */\n    MAX_RECURSION : { value : 200 , enumerable : true }\n}) ;\n\nExpressionFormatter.prototype = Object.create( Formattable.prototype ,\n{\n    constructor : { value : ExpressionFormatter } ,\n\n    /**\n     * The begin separator of the expression to format (default <code>\"{\"</code>).\n     * @name beginSeparator\n     * @memberof system.formatters.ExpressionFormatter\n     * @instance\n     */\n    beginSeparator :\n    {\n        get : function()\n        {\n            return this._beginSeparator ;\n        },\n        set : function( str )\n        {\n            this._beginSeparator = str || \"{\" ;\n            this._reset() ;\n        }\n    },\n\n    /**\n     * The end separator of the expression to format (default <code>\"}\"</code> ).\n     * @name endSeparator\n     * @memberof system.formatters.ExpressionFormatter\n     * @instance\n     */\n    endSeparator :\n    {\n        get : function()\n        {\n            return this._endSeparator ;\n        },\n        set : function( str )\n        {\n            this._endSeparator = str || \"}\" ;\n            this._reset() ;\n        }\n    },\n\n    /**\n     * Indicates the size of the expression dictionary.\n     * @name length\n     * @memberof system.formatters.ExpressionFormatter\n     * @instance\n     * @readonly\n     */\n    length :\n    {\n        get : function()\n        {\n            return this.expressions.length ;\n        }\n    },\n\n    /**\n     * Clear the expression formatter dictionary.\n     * @name clear\n     * @memberof system.formatters.ExpressionFormatter\n     * @function\n     * @instance\n     */\n    clear :\n    {\n        value : function ()\n        {\n            this.expressions.clear() ;\n        }\n    },\n\n    /**\n     * Formats the specified value.\n     * @param {string} value - The string expression to format.\n     * @return the string representation of the formatted value.\n     * @name format\n     * @memberof system.formatters.ExpressionFormatter\n     * @function\n     * @instance\n     */\n    format :\n    {\n        value : function ( value )\n        {\n            return this._format( String(value) , 0 ) ;\n        }\n    },\n\n    /**\n     * Sets a new expression in the formatter. If the expression already exist, the value in the collector is replaced.\n     * @param {string} key - The key of the element to register.\n     * @param {string} value - The value of the element to register.\n     * @return {boolean} <code>true</code> if the value is register.\n     * @name set\n     * @memberof system.formatters.ExpressionFormatter\n     * @function\n     * @instance\n     */\n    set :\n    {\n        value : function ( key , value )\n        {\n            if ( key === '' || !(key instanceof String || typeof(key) === 'string') )\n            {\n                return false ;\n            }\n\n            if ( value === '' || !(value instanceof String || typeof(value) === 'string') )\n            {\n                return false ;\n            }\n\n            this.expressions.set( key , value ) ;\n            return true ;\n        }\n    },\n\n    /**\n     * Returns the String representation of the object.\n     * @return the String representation of the object.\n     * @name toString\n     * @memberof system.formatters.ExpressionFormatter\n     * @function\n     * @instance\n     */\n    toString : { value : function() { return '[ExpressionFormatter]' ; } } ,\n\n    /**\n     * @private\n     */\n    _reset :\n    {\n        value : function()\n        {\n            this._reg = new RegExp( fastformat( this._pattern , this.beginSeparator , this.endSeparator ) , \"g\" ) ;\n        }\n    },\n\n    /**\n     * @private\n     */\n    _format : { value : function( str , depth = 0 )\n    {\n        if ( depth >= ExpressionFormatter.MAX_RECURSION )\n        {\n            return str ;\n        }\n\n        let m = str.match( this._reg ) ;\n\n        if ( m === null )\n        {\n            return str ;\n        }\n\n        let l = m.length ;\n\n        if ( l > 0 )\n        {\n            let exp ;\n            let key ;\n            for ( let i = 0 ; i<l ; i++ )\n            {\n                key = m[i].substr(1) ;\n                key = key.substr( 0 , key.length-1 ) ;\n\n                if ( this.expressions.has( key ) )\n                {\n                    exp = this._format( this.expressions.get(key) , depth + 1 ) ;\n                    this.expressions.set( key , exp ) ;\n                    str = str.replace( m[i] , exp ) || exp ;\n                }\n            }\n        }\n        return str ;\n    }}\n}) ;","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { ExpressionFormatter } from './formatters/ExpressionFormatter.js' ;\n\n/**\n * The {@link system.formatters} library contains classes to format objects to a specific string expression.\n * @summary The {@link system.formatters} library contains classes to format objects to a specific string expression.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace system.formatters\n * @memberof system\n */\nexport var formatters = Object.assign\n({\n    ExpressionFormatter : ExpressionFormatter\n}) ;","\"use strict\" ;\n\n/**\n * The {system.signals.Receiver|Receiver} interface is the primary method for receiving values from Signal objects.\n * @name Receiver\n * @interface\n * @memberof system.signals\n */\nexport function Receiver() {}\n\nReceiver.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Receiver } ,\n\n    /**\n     * This method is called when the receiver is connected with a Signal object.\n     * @memberof system.signals.Receiver\n     * @function\n     */\n    receive : { writable : true , value : function() {} } ,\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @memberof system.signals.Receiver\n     * @function\n     */\n    toString : { writable : true , value : function ()\n    {\n        return '[' + this.constructor.name + ']' ;\n    }}\n});\n\n\n","/*jslint unused: false */\n\"use strict\" ;\n\n/**\n * The {system.signal.Signaler|Signaler} interface is the primary method for emit messages.\n * @name Signaler\n * @interface\n * @memberof system.signals\n */\nexport function Signaler() {}\n\nSignaler.prototype = Object.create( Object.prototype,\n{\n    constructor : { writable : true , value : Signaler } ,\n\n    /**\n     * Indicates the number of receivers connected.\n     * @memberof system.signals.Signaler\n     * @readonly\n     */\n    length : { get : function () { return 0 ; }} ,\n\n    /**\n     * Connects a Function or a Receiver object.\n     * @param {Function|system.signals.Receiver} receiver - The receiver to connect : a Function reference or a Receiver object.\n     * @param {number} [priority=0] Determinates the priority level of the receiver.\n     * @param {boolean} [autoDisconnect=false] Apply a disconnect after the first trigger\n     * @return <code>true</code> If the receiver is connected with the signal emitter.\n     * @memberof system.signals.Signaler\n     */\n    connect : { writable : true , value : function( receiver , priority = 0 , autoDisconnect = false ) {} },\n\n    /**\n     * Returns <code>true</code> if one or more receivers are connected.\n     * @memberof system.signals.Signaler\n     * @return {boolean} <code>true</code> if one or more receivers are connected.\n     */\n    connected : { writable : true , value : function() {} },\n\n    /**\n     * Disconnect the specified object or all objects if the parameter is null.\n     * @return {boolean} <code>true</code> if the specified receiver exist and can be disconnected.\n     * @memberof system.signals.Signaler\n     */\n    disconnect: { writable : true , value : function( receiver ) {} },\n\n    /**\n     * Emit the specified values to the receivers.\n     * @param {*} [values] All values to emit to the receivers.\n     * @memberof system.signals.Signaler\n     */\n    emit: { writable : true , value : function() {} },\n\n    /**\n     * Returns <code>true</code> if the specified receiver is connected.\n     * @return <code>true</code> if the specified receiver is connected.\n     * @memberof system.signals.Signaler\n     */\n    hasReceiver : { writable : true , value : function( receiver ) {} }\n});\n","\"use strict\" ;\n\n/**\n * A SignalEntry object contains all informations about a receiver entry in a Signal collection.\n * @name SignalEntry\n * @memberof system.signals\n * @class\n * @constructs\n * @param {system.signals.Receiver|Function} receiver The receiver to connect : a Function reference or a Receiver object.\n * @param {number} [priority=0] The priority value of the entry.\n * @param {boolean} [auto=false] This flag indicates if the receiver must be disconnected when handle the first time a signal.\n */\nexport function SignalEntry( receiver , priority = 0 , auto = false )\n{\n    /**\n     * Indicates if the receiver must be disconnected when handle the first time a signal.\n     * @memberof system.signals.SignalEntry\n     * @default false\n     * @type {boolean}\n     * @instance\n     */\n    this.auto = auto ;\n\n    /**\n     * The receiver reference of this entry.\n     * @memberof system.signals.SignalEntry\n     * @default null\n     * @type {system.signals.Receiver|Function}\n     * @instance\n     */\n    this.receiver = receiver ;\n\n    /**\n     * Determinates the priority value of the object.\n     * @memberof system.signals.SignalEntry\n     * @default 0\n     * @type {number}\n     * @instance\n     */\n    this.priority = priority ;\n}\n\nSignalEntry.prototype = Object.create( Object.prototype );\nSignalEntry.prototype.constructor = SignalEntry;\n\n/**\n * Returns the String representation of the object.\n * @name toString\n * @memberof system.signals.SignalEntry\n * @return the String representation of the object.\n * @function\n * @instance\n */\nSignalEntry.prototype.toString = function()\n{\n    return '[SignalEntry]' ;\n}","\"use strict\"\n\nimport { Receiver    } from './Receiver.js' ;\nimport { Signaler    } from './Signaler.js' ;\nimport { SignalEntry } from './SignalEntry.js' ;\n\n/**\n * Creates a new Signal instance.\n * @name Signal\n * @class\n * @implements system.signals.Signaler\n * @memberof system.signals\n * @example\n * function Slot( name )\n * {\n *     this.name = name ;\n * }\n *\n * Slot.prototype = Object.create( system.signals.Receiver.prototype );\n * Slot.prototype.constructor = Slot;\n *\n * Slot.prototype.receive = function ( message )\n * {\n *     trace( this + \" : \" + message ) ;\n * }\n *\n * Slot.prototype.toString = function ()\n * {\n *     return \"[Slot name:\" + this.name + \"]\" ;\n * }\n *\n * var slot1 = new Slot(\"slot1\") ;\n *\n * var slot2 = function( message )\n * {\n *     trace( this + \" : \" + message ) ;\n * }\n *\n * var signal = new system.signals.Signal() ;\n *\n * //signal.proxy = slot1 ;\n *\n * signal.connect( slot1 , 0 ) ;\n * signal.connect( slot2 , 2 ) ;\n *\n * signal.emit( \"hello world\" ) ;\n */\nexport function Signal()\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The proxy reference of the signal to change the scope of the slot (function invoked when the signal emit a message).\n         * @memberof system.signals.Signal\n         * @default null\n         * @type {Object}\n         * @instance\n         */\n        proxy : { value : null, configurable : true , writable : true } ,\n\n        /**\n         * @private\n         */\n        receivers : { writable : true , value : [] }\n    }) ;\n}\n\nSignal.prototype = Object.create( Signaler.prototype ,\n{\n    constructor : { value : Signal , writable : true },\n\n    /**\n     * The number of receivers or slots register in the signal object.\n     * @memberof system.signals.Signal\n     * @default 0\n     * @type {number}\n     * @instance\n     * @readonly\n     */\n    length : { get : function() { return this.receivers.length ; } },\n\n    /**\n     * Connects a Function or a Receiver object.\n     * @memberof system.signals.Signal\n     * @instance\n     * @function\n     * @param {system.signals.Receiver|Function} receiver The receiver to connect : a Function reference or a Receiver object.\n     * @param {number} [priority=0] Determinates the priority level of the receiver.\n     * @param {boolean} [autoDisconnect=false] Apply a disconnect after the first trigger\n     * @return {boolean} <code>true</code> If the receiver is connected with the signal emitter.\n     */\n    connect : { value : function ( receiver , priority = 0 , autoDisconnect = false )\n    {\n        if ( receiver === null )\n        {\n            return false ;\n        }\n\n        autoDisconnect = autoDisconnect === true ;\n        priority = priority > 0 ? (priority - (priority % 1)) : 0 ;\n\n        if ( ( typeof(receiver) === \"function\" ) || ( receiver instanceof Function ) || ( receiver instanceof Receiver ) || ( \"receive\" in receiver ) )\n        {\n            if ( this.hasReceiver( receiver ) )\n            {\n                return false ;\n            }\n\n            this.receivers.push( new SignalEntry( receiver , priority , autoDisconnect ) ) ;\n\n            /////// bubble sorting\n\n            let i ;\n            let j ;\n\n            let a = this.receivers ;\n\n            let swap = function( j , k )\n            {\n                var temp = a[j] ;\n                a[j]     = a[k] ;\n                a[k]     = temp ;\n                return true ;\n            }\n\n            let swapped = false;\n\n            let l = a.length ;\n\n            for( i = 1 ; i < l ; i++ )\n            {\n                for( j = 0 ; j < ( l - i ) ; j++ )\n                {\n                    if ( a[j+1].priority > a[j].priority )\n                    {\n                        swapped = swap(j, j+1) ;\n                    }\n                }\n                if ( !swapped )\n                {\n                    break;\n                }\n            }\n\n            ///////\n\n            return true ;\n        }\n\n        return false ;\n    }},\n\n    /**\n     * Returns <code>true</code> if one or more receivers are connected.\n     * @return {boolean} <code>true</code> if one or more receivers are connected.\n     * @memberof system.signals.Signal\n     * @instance\n     * @function\n     */\n    connected : { value : function ()\n    {\n        return this.receivers.length > 0 ;\n    }},\n\n    /**\n     * Disconnect the specified object or all objects if the parameter is null.\n     *\n     * @return {boolean} <code>true</code> if the specified receiver exist and can be unregister.\n     * @param {system.signals.Receiver|Function} receiver The receiver to disconnect : a Function reference or a Receiver object.\n     * @memberof system.signals.Signal\n     * @instance\n     * @function\n     */\n    disconnect : { value : function ( receiver = null )\n    {\n        if ( receiver === null )\n        {\n            if ( this.receivers.length > 0 )\n            {\n                this.receivers = [] ;\n                return true ;\n            }\n            else\n            {\n                return false ;\n            }\n        }\n        if ( this.receivers.length > 0 )\n        {\n            var l  = this.receivers.length ;\n            while( --l > -1 )\n            {\n                if ( this.receivers[l].receiver === receiver )\n                {\n                    this.receivers.splice( l , 1 ) ;\n                    return true ;\n                }\n            }\n        }\n        return false ;\n    }},\n\n    /**\n     * Emit the specified values to the receivers.\n     * @param {*} values - All values to emit to the receivers.\n     * @memberof system.signals.Signal\n     * @instance\n     * @function\n     */\n    emit : { value : function( ...values )\n    {\n        let l = this.receivers.length ;\n        if ( l === 0 )\n        {\n            return ;\n        }\n\n        let i ;\n\n        let r = [] ;\n        let a = this.receivers.slice() ;\n        let e ;\n\n        var slot ;\n\n        for ( i = 0 ; i < l ; i++ )\n        {\n            e = a[i] ;\n            if ( e.auto )\n            {\n                r.push( e )  ;\n            }\n        }\n\n        if ( r.length > 0 )\n        {\n            l = r.length ;\n            while( --l > -1 )\n            {\n                i = this.receivers.indexOf( r[l] ) ;\n                if ( i > -1 )\n                {\n                    this.receivers.splice( i , 1 ) ;\n                }\n            }\n        }\n\n        l = a.length ;\n\n        for ( i = 0 ; i<l ; i++ )\n        {\n            slot = a[i].receiver ;\n\n            if( slot instanceof Function || typeof(receiver) === \"function\" )\n            {\n                slot.apply( this.proxy || this , values ) ;\n            }\n            else if ( slot instanceof Receiver || ( \"receive\" in slot && (slot.receive instanceof Function) ) )\n            {\n                slot.receive.apply( this.proxy || slot , values ) ;\n            }\n        }\n    }},\n\n    /**\n     * Returns <code>true</code> if the specified receiver is connected.\n     * @return {boolean} <code>true</code> if the specified receiver is connected.\n     * @memberof system.signals.Signal\n     * @instance\n     * @function\n     */\n    hasReceiver : { value : function ( receiver )\n    {\n        if ( receiver === null )\n        {\n            return false ;\n        }\n        if ( this.receivers.length > 0 )\n        {\n            let l = this.receivers.length ;\n            while( --l > -1 )\n            {\n                if ( this.receivers[l].receiver === receiver )\n                {\n                    return true ;\n                }\n            }\n        }\n        return false ;\n    }},\n\n    /**\n     * Returns the Array representation of all receivers connected with the signal.\n     * @return {array} The Array representation of all receivers connected with the signal.\n     * @memberof system.signals.Signal\n     * @instance\n     * @function\n     */\n    toArray : { value : function()\n    {\n        let r = [] ;\n        let l = this.receivers.length ;\n        if ( l > 0 )\n        {\n            for( let i=0 ; i<l ; i++ )\n            {\n                r.push( this.receivers[i].receiver ) ;\n            }\n        }\n        return r ;\n    }},\n\n    /**\n     * Returns the string representation of this instance.\n     * @return {string} the string representation of this instance.\n     * @memberof system.signals.Signal\n     * @instance\n     * @function\n     */\n    toString : { value : function () { return '[Signal]' ; }}\n});","\"use strict\" ;\n\nimport { Enum } from '../Enum.js' ;\n\n/**\n * The logger levels that is used within the logging framework.\n * @summary The logger levels that is used within the logging framework.\n * @name LoggerLevel\n * @class\n * @memberof system.logging\n * @extends system.Enum\n * @param {number} value - The value of the enumeration.\n * @param {string} name - The name key of the enumeration.\n * @example\n * var LoggerLevel = system.logging.LoggerLevel ;\n *\n * for( var level in LoggerLevel )\n * {\n *     if( LoggerLevel.hasOwnProperty(level) )\n *     {\n *        trace( level + ' ' + LoggerLevel.getLevelString(LoggerLevel[level]) ) ;\n *     }\n * }\n */\nexport function LoggerLevel( value , name )\n{\n    Enum.call( this , value , name ) ;\n}\n\nLoggerLevel.prototype = Object.create( Enum.prototype );\nLoggerLevel.prototype.constructor = LoggerLevel;\n\nObject.defineProperties( LoggerLevel ,\n{\n    /**\n     * Intended to force a target to process all messages (1).\n     * @name ALL\n     * @memberof system.logging.LoggerLevel\n     * @type system.logging.LoggerLevel\n     */\n    ALL : { value : new LoggerLevel( 1 , 'ALL' ) , enumerable : true } ,\n\n    /**\n     * Designates events that are very harmful and will eventually lead to application failure (16).\n     * @name CRITICAL\n     * @memberof system.logging.LoggerLevel\n     * @type system.logging.LoggerLevel\n     */\n    CRITICAL : { value : new LoggerLevel( 16 , 'CRITICAL' ) , enumerable : true } ,\n\n    /**\n     * Designates informational level messages that are fine grained and most helpful when debugging an application (2).\n     * @name DEBUG\n     * @memberof system.logging.LoggerLevel\n     * @type system.logging.LoggerLevel\n     */\n    DEBUG : { value : new LoggerLevel( 2 , 'DEBUG' ) , enumerable : true } ,\n\n    /**\n     * The default string level value in the <code>getLevelString()</code> method ('UNKNOW').\n     * @name DEFAULT_LEVEL_STRING\n     * @memberof system.logging.LoggerLevel\n     * @type string\n     */\n    DEFAULT_LEVEL_STRING : { value : 'UNKNOWN' , enumerable : true } ,\n\n    /**\n     * Designates error events that might still allow the application to continue running (8).\n     * @name ERROR\n     * @memberof system.logging.LoggerLevel\n     * @type system.logging.LoggerLevel\n     */\n    ERROR : { value : new LoggerLevel( 8 , 'ERROR' ) , enumerable : true } ,\n\n    /**\n     * Designates informational messages that highlight the progress of the application at coarse-grained level (4).\n     * @name INFO\n     * @memberof system.logging.LoggerLevel\n     * @type system.logging.LoggerLevel\n     */\n    INFO : { value : new LoggerLevel( 4 , 'INFO' ) , enumerable : true } ,\n\n    /**\n     * A special level that can be used to turn off logging (0).\n     * @name NONE\n     * @memberof system.logging.LoggerLevel\n     * @type system.logging.LoggerLevel\n     */\n    NONE : { value : new LoggerLevel( 0 , 'NONE' ) , enumerable : true } ,\n\n    /**\n     * Designates events that could be harmful to the application operation (6).\n     * @name WARNING\n     * @memberof system.logging.LoggerLevel\n     * @type system.logging.LoggerLevel\n     */\n    WARNING : { value : new LoggerLevel( 6 , 'WARNING' ) , enumerable : true } ,\n\n    /**\n     * What a Terrible Failure: designates an exception that should never happen. (32).\n     * @name WTF\n     * @memberof system.logging.LoggerLevel\n     * @type system.logging.LoggerLevel\n     */\n    WTF : { value : new LoggerLevel( 32 , 'WTF' ) , enumerable : true } ,\n\n    /**\n     * Search a <code>LoggerLevel</code> reference if the number level passed in argument is valid.\n     * @name get\n     * @memberof system.logging.LoggerLevel\n     * @function\n     * @param {number} value - The numeric value corresponding to a valid LoggerLevel object.\n     * @return {system.logging.LoggerLevel} The LoggerLevel reference.\n     */\n    get : { value : function( value )\n    {\n        let levels =\n        [\n            LoggerLevel.ALL,\n            LoggerLevel.CRITICAL,\n            LoggerLevel.DEBUG,\n            LoggerLevel.ERROR,\n            LoggerLevel.INFO,\n            LoggerLevel.NONE,\n            LoggerLevel.WARNING,\n            LoggerLevel.WTF\n        ] ;\n        let l = levels.length ;\n        while( --l > -1 )\n        {\n            if ( levels[l]._value === value )\n            {\n                return levels[l] ;\n            }\n        }\n        return null ;\n    }},\n\n    /**\n     * Returns a String value representing the specific level.\n     * @return a String value representing the specific level.\n     * @name getLevelString\n     * @memberof system.logging.LoggerLevel\n     * @function\n     */\n    getLevelString : { value : function( value )\n    {\n        if ( LoggerLevel.validate( value ) )\n        {\n            return value.toString() ;\n        }\n        else\n        {\n            return LoggerLevel.DEFAULT_LEVEL_STRING ;\n        }\n    }},\n\n    /**\n     * Validates a passed-in level passed in argument.\n     * @return <code>true</code> if the level passed in argument is valid.\n     * @name validate\n     * @memberof system.logging.LoggerLevel\n     * @function\n     */\n    validate : { value : function( level )\n    {\n        let levels =\n        [\n            LoggerLevel.ALL,\n            LoggerLevel.CRITICAL,\n            LoggerLevel.DEBUG,\n            LoggerLevel.ERROR,\n            LoggerLevel.INFO,\n            LoggerLevel.NONE,\n            LoggerLevel.WARNING,\n            LoggerLevel.WTF\n        ] ;\n        return levels.indexOf( level ) > -1 ;\n    }}\n});","\"use strict\" ;\n\nimport { LoggerLevel } from './LoggerLevel.js' ;\n\n/**\n * Represents the log information for a single logging notification.\n * <p>The loging system dispatches a single message each time a process requests information be logged.</p>\n * <p>This entry can be captured by any object for storage or formatting.</p>\n * @name LoggerEntry\n * @memberof system.logging\n * @class\n * @param {string} message - The context or message of the log.\n * @param {system.logging.LoggerLevel} level - The level of the log.\n * @param {string} channel - The channel of the log.\n */\nexport function LoggerEntry( message , level , channel )\n{\n    /**\n     * The channel of the log.\n     * @memberof system.logging.LoggerEntry\n     * @instance\n     * @type string\n     */\n    this.channel = channel ;\n\n    /**\n     * The level of the log.\n     * @memberof system.logging.LoggerEntry\n     * @instance\n     * @type system.logging.LoggerLevel\n     */\n    this.level = level instanceof LoggerLevel ? level : LoggerLevel.ALL ;\n\n    /**\n     * The message of the log.\n     * @memberof system.logging.LoggerEntry\n     * @instance\n     * @type string\n     */\n    this.message = message ;\n}\n\nLoggerEntry.prototype = Object.create( Object.prototype );\nLoggerEntry.prototype.constructor = LoggerEntry;","\"use strict\" ;\n\nimport { Signal } from '../signals/Signal.js' ;\n\nimport { LoggerLevel } from './LoggerLevel.js' ;\nimport { LoggerEntry } from './LoggerEntry.js' ;\n\n/**\n * A <code>Logger</code> object is used to log messages for a specific system or application components. <b>Loggers</b> are normally named, using a hierarchical dot-separated namespace. Logger names can be arbitrary strings, but they should normally be based on the package name or class name of the logged component, such as com.mydomain or myapp.version.\n * <p><b>Logger</b> objects may be obtained by calls on one of the <code>Log.getLogger</code> factory methods. These will either create a <code>new Logger</code> singleton or return a suitable existing <b>Logger</b>.</p>\n * @summary A <code>Logger</code> object is used to log messages for a specific system or application components.\n * @name Logger\n * @memberof system.logging\n * @class\n * @param {string} channel - The channel of the logger.\n * @example\n * var Log = system.logging.Log ;\n * var LoggerLevel = system.logging.LoggerLevel ;\n * var ConsoleTarget = system.logging.targets.ConsoleTarget ;\n *\n * var logger = Log.getLogger('channel') ;\n *\n * var target = new ConsoleTarget\n * ({\n *     includeChannel      : true  ,\n *     includeDate         : false ,\n *     includeLevel        : true  ,\n *     includeLines        : true  ,\n *     includeMilliseconds : true  ,\n *     includeTime         : true\n * }) ;\n *\n * target.filters = ['*'] ;\n * target.level   = LoggerLevel.ALL ;\n *\n * logger.debug( 'hello {0}, love it.' , 'VEGAS' ) ;\n * logger.critical( 'hello {0}, it\\'s critical.' , 'VEGAS' ) ;\n * logger.info( 'hello, my name is {0}' , 'VEGAS' ) ;\n * logger.error( 'hello {0}, an error is invoked.' , 'VEGAS' ) ;\n * logger.warning( 'hello {0}, don\\'t forget me.' , 'VEGAS' ) ;\n * logger.wtf( 'hello {0} ! WHAT ??' , 'VEGAS' ) ;\n */\nexport function Logger( channel )\n{\n    Signal.call( this ) ;\n    Object.defineProperties( this ,\n    {\n        _entry : { value : new LoggerEntry(null,null,channel) , writable : true }\n    }) ;\n}\n\nLogger.prototype = Object.create( Signal.prototype ,\n{\n    constructor : { writable : true , value : Logger } ,\n\n    /**\n     * Indicates the channel value for the logger.\n     * @name channel\n     * @memberof system.logging.Logger\n     * @instance\n     * @type string\n     * @readonly\n     */\n    channel : { get : function() { return this._entry.channel ; } },\n\n    /**\n     * Logs the specified data using the {@link system.logging.LoggerLevel.CRITICAL|LoggerLevel.CRITICAL} level.\n     * @param {*} context - The message or information to log. If the passedin value is a string, you can contain special marker characters of the form {x}, where x is a zero based index that will be replaced with the additional parameters found at that index if specified.\n     * @param {...Object} options - Additional parameters that can be subsituted in the str parameter at each \"{x}\" location, where x is an integer (zero based) index value into the Array of values specified.\n     * @name critical\n     * @memberof system.logging.Logger\n     * @instance\n     * @function\n     */\n    critical : { value : function ( context , ...options )\n    {\n        this._log( LoggerLevel.CRITICAL , context , options ) ;\n    }},\n\n    /**\n     * Logs the specified data using the {@link system.logging.LoggerLevel.DEBUG|LoggerLevel.DEBUG} level.\n     * @param {*} context - The message or information to log. If the passedin value is a string, you can contain special marker characters of the form {x}, where x is a zero based index that will be replaced with the additional parameters found at that index if specified.\n     * @param {...Object} options - Additional parameters that can be subsituted in the str parameter at each \"{x}\" location, where x is an integer (zero based) index value into the Array of values specified.\n     * @name debug\n     * @memberof system.logging.Logger\n     * @instance\n     * @function\n     */\n    debug : { value : function ( context , ...options )\n    {\n        this._log( LoggerLevel.DEBUG , context , options ) ;\n    }},\n\n    /**\n     * Logs the specified data using the {@link system.logging.LoggerLevel.ERROR|LoggerLevel.ERROR} level.\n     * @param {*} context - The message or information to log. If the passedin value is a string, you can contain special marker characters of the form {x}, where x is a zero based index that will be replaced with the additional parameters found at that index if specified.\n     * @param {...Object} options - Additional parameters that can be subsituted in the str parameter at each \"{x}\" location, where x is an integer (zero based) index value into the Array of values specified.\n     * @name error\n     * @memberof system.logging.Logger\n     * @instance\n     * @function\n     */\n    error : { value : function ( context , ...options )\n    {\n        this._log( LoggerLevel.ERROR , context , options ) ;\n    }},\n\n    /**\n     * Logs the specified data using the {@link system.logging.LoggerLevel.INFO|LoggerLevel.INFO} level.\n     * @param {*} context - The message or information to log. If the passedin value is a string, you can contain special marker characters of the form {x}, where x is a zero based index that will be replaced with the additional parameters found at that index if specified.\n     * @param {...Object} options - Additional parameters that can be subsituted in the str parameter at each \"{x}\" location, where x is an integer (zero based) index value into the Array of values specified.\n     * @name info\n     * @memberof system.logging.Logger\n     * @instance\n     * @function\n     */\n    info : { value : function ( context , ...options )\n    {\n        this._log( LoggerLevel.INFO , context , options ) ;\n    }},\n\n    /**\n     * Logs the specified data using the {@link system.logging.LoggerLevel.ALL|LoggerLevel.ALL} level.\n     * @param {*} context - The message or information to log. If the passedin value is a string, you can contain special marker characters of the form {x}, where x is a zero based index that will be replaced with the additional parameters found at that index if specified.\n     * @param {...Object} options - Additional parameters that can be subsituted in the str parameter at each \"{x}\" location, where x is an integer (zero based) index value into the Array of values specified.\n     * @name log\n     * @memberof system.logging.Logger\n     * @instance\n     * @function\n     * @see {@link core.strings.fastformat}\n     */\n    log : { value : function ( context , ...options )\n    {\n        this._log( LoggerLevel.ALL , context , options ) ;\n    }},\n\n    /**\n     * Logs the specified data using the {@link system.logging.LoggerLevel.WARNING|LoggerLevel.WARNING} level.\n     * @param {*} context - The message or information to log. If the passedin value is a string, you can contain special marker characters of the form {x}, where x is a zero based index that will be replaced with the additional parameters found at that index if specified.\n     * @param {...Object} options - Additional parameters that can be subsituted in the str parameter at each \"{x}\" location, where x is an integer (zero based) index value into the Array of values specified.\n     * @name warning\n     * @memberof system.logging.Logger\n     * @instance\n     * @function\n     */\n    warning : { value : function ( context , ...options )\n    {\n        this._log( LoggerLevel.WARNING , context , options ) ;\n    }},\n\n    /**\n     * What a Terrible Failure: Report an exception that should never happen.\n     * @param {*} context - The message or information to log. If the passedin value is a string, you can contain special marker characters of the form {x}, where x is a zero based index that will be replaced with the additional parameters found at that index if specified.\n     * @param {...Object} options - Additional parameters that can be subsituted in the str parameter at each \"{x}\" location, where x is an integer (zero based) index value into the Array of values specified.\n     * @name wtf\n     * @memberof system.logging.Logger\n     * @instance\n     * @function\n     */\n    wtf : { value : function ( context , ...options )\n    {\n        this._log( LoggerLevel.WTF , context , options ) ;\n    }},\n\n    /**\n     * Returns the String representation of the object.\n     * @return the String representation of the object.\n     * @name toString\n     * @memberof system.logging.Logger\n     * @instance\n     * @function\n     */\n    toString : { value : function() { return '[Logger]' ; } } ,\n\n    /**\n     * The internal log function.\n     * @name _log\n     * @memberof system.logging.Logger\n     * @instance\n     * @function\n     * @private\n     */\n    _log : { value : function ( level /*LoggerLevel*/ , context , options  ) /*void*/\n    {\n        if( this.connected() )\n        {\n            if ( ( typeof(context) === \"string\" || context instanceof String ) && options instanceof Array )\n            {\n                var len = options.length ;\n                for( var i = 0 ; i<len ; i++ )\n                {\n                    context = String(context).replace( new RegExp( \"\\\\{\" + i + \"\\\\}\" , \"g\" ) , options[i] ) ;\n                }\n            }\n            this._entry.message = context ;\n            this._entry.level   = level ;\n            this.emit( this._entry ) ;\n        }\n    }}\n});","\"use strict\" ;\n\n/**\n * The enumeration of all string expressions in the logging engine.\n * @name strings\n * @memberof system.logging\n * @const\n * @instance\n */\nexport var strings = Object.defineProperties( {} ,\n{\n    // LoggerTarget\n\n    /**\n     * The static field used when throws an Error when a character is invalid.\n     * @memberof system.logging.strings\n     * @const\n     * @instance\n     */\n    CHARS_INVALID : { value : \"The following characters are not valid\\: []~$^&\\/(){}<>+\\=_-`!@#%?,\\:;'\\\\\" , enumerable : true } ,\n\n    /**\n     * The static field used when throws an Error when the character placement failed.\n     * @memberof system.logging.strings\n     * @const\n     * @instance\n     */\n    CHAR_PLACEMENT : { value : \"'*' must be the right most character.\" , enumerable : true } ,\n\n    /**\n     * The static field used when throws an Error if the filter is empty or null.\n     * @memberof system.logging.strings\n     * @const\n     * @instance\n     */\n    EMPTY_FILTER : { value : \"filter must not be null or empty.\" , enumerable : true },\n\n    /**\n     * The static field used when throws an Error when filter failed.\n     * @memberof system.logging.strings\n     * @const\n     * @instance\n     */\n    ERROR_FILTER : { value : \"Error for filter '{0}'.\" , enumerable : true },\n\n    // Log\n\n    /**\n     * The default channel of the <code>Logger</code> instances returns with the <code>getLogger</code> method.\n     * @memberof system.logging.strings\n     * @const\n     * @instance\n     */\n    DEFAULT_CHANNEL : { value : \"\" , enumerable : true },\n\n    /**\n     * The string representation of all the illegal characters.\n     * @memberof system.logging.strings\n     * @const\n     * @instance\n     */\n    ILLEGALCHARACTERS : { value : \"[]~$^&/\\\\(){}<>+=`!#%?,:;'\\\"@\" , enumerable : true },\n\n    /**\n     * The static field used when throws an Error when a character is invalid.\n     * @memberof system.logging.strings\n     * @const\n     * @instance\n     */\n    INVALID_CHARS : { value : \"Channels can not contain any of the following characters : []~$^&/\\\\(){}<>+=`!#%?,:;'\\\"@\" , enumerable : true },\n\n    /**\n     * The static field used when throws an Error when the length of one character is invalid.\n     * @memberof system.logging.strings\n     * @const\n     * @instance\n     */\n    INVALID_LENGTH : { value : \"Channels must be at least one character in length.\" , enumerable : true },\n\n    /**\n     * The static field used when throws an Error when the specified target is invalid.\n     * @memberof system.logging.strings\n     * @const\n     * @instance\n     */\n    INVALID_TARGET : { value : \"Log, Invalid target specified.\" , enumerable : true }\n\n});","\"use strict\" ;\n\nimport { fastformat }         from '../../core/strings/fastformat.js' ;\nimport { InvalidFilterError } from '../errors/InvalidFilterError.js' ;\n\nimport { Log }           from './Log.js' ;\nimport { Logger }        from './Logger.js' ;\nimport { LoggerEntry }   from './LoggerEntry.js' ;\nimport { LoggerFactory } from './LoggerFactory.js' ;\nimport { LoggerLevel }   from './LoggerLevel.js' ;\nimport { Receiver }      from '../signals/Receiver.js' ;\nimport { strings }       from './strings.js' ;\n\n/**\n * <b>LoggerTarget</b> are used to display, store, or pass log messages to another destination. There are two kinds of target; those that receive and handle the messages, and those that buffer or route the messages to another target.\n * <p>The <b>logging</b> system dispatches a single message each time a process requests information be logged.</p>\n * <p>This entry can be captured by any object for storage or formatting.</p>\n * @summary Use the <b>LoggerTarget</b> objects to display, store, or pass log messages to another destination.\n * @name LoggerTarget\n * @memberof system.logging\n * @class\n * @param message The context or message of the log.\n * @param level The level of the log.\n * @param logger The Logger reference of this entry.\n */\nexport function LoggerTarget()\n{\n    Object.defineProperties( this ,\n    {\n        _count   : { value : 0 , writable : true } ,\n        _factory : { value : null , writable : true } ,\n        _filters : { value : [\"*\"] , writable : true } ,\n        _level   : { value : LoggerLevel.ALL , writable : true }\n    }) ;\n    this.factory = Log ;\n}\n\nLoggerTarget.prototype = Object.create( Receiver.prototype ,\n{\n    constructor : { value : LoggerTarget , writable : true } ,\n\n    /**\n     * Determinates the LoggerFactory reference of the target, by default the target use the <code>system.logging.Log</code> singleton.\n     * @name factory\n     * @memberof system.logging.LoggerTarget\n     * @instance\n     * @type system.logging.LoggerFactory\n     */\n    factory :\n    {\n        get : function() { return this._factory ; },\n        set : function( factory )\n        {\n            if ( this._factory )\n            {\n                this._factory.removeTarget( this ) ;\n            }\n            this._factory = ( factory instanceof LoggerFactory ) ? factory : Log ;\n            this._factory.addTarget( this ) ;\n        }\n    },\n\n    /**\n     * Determinates the filters array representation of the target.\n     * @name filters\n     * @memberof system.logging.LoggerTarget\n     * @instance\n     */\n    filters :\n    {\n        get : function() { return [].concat( this._filters ) ; },\n        set : function( value )\n        {\n            let filters  = [] ;\n            if ( value && value instanceof Array && value.length > 0 )\n            {\n                let filter ;\n                let length = value.length ;\n                for ( var i = 0 ; i < length ; i++ )\n                {\n                    filter = value[i] ;\n                    if ( filters.indexOf( filter ) === -1 )\n                    {\n                        this._checkFilter( filter ) ;\n                        filters.push( filter ) ;\n                    }\n                }\n            }\n            else\n            {\n                filters.push( '*' ) ;\n            }\n\n            if ( this._count > 0 )\n            {\n                this._factory.removeTarget( this ) ;\n            }\n\n            this._filters = filters ;\n\n            if( this._count > 0 )\n            {\n                this._factory.addTarget( this ) ;\n            }\n        }\n    },\n\n    /**\n     * Determinates the level (LoggerLevel of this target.\n     * @name level\n     * @memberof system.logging.LoggerTarget\n     * @instance\n     */\n    level :\n    {\n        get : function() { return this._level ; },\n        set : function( value )\n        {\n            this._factory.removeTarget( this ) ;\n            this._level = value || LoggerLevel.ALL ; // FIXME filter and validate the level\n            this._factory.addTarget( this ) ;\n        }\n    },\n\n    /**\n     * Inserts a channel in the fllters if this channel don't exist.\n     * @name addFilter\n     * @memberof system.logging.LoggerTarget\n     * @instance\n     * @function\n     * @param {string} channel - The channel to rgister.\n     * @return <code>true</code> if the channel is add in the list.\n     */\n    addFilter : { value : function ( channel )\n    {\n        this._checkFilter( channel ) ;\n        let index = this._filters.indexOf( channel ) ;\n        if ( index === -1 )\n        {\n            this._filters.push( channel ) ;\n            return true ;\n        }\n        return false ;\n    }},\n\n    /**\n     * Sets up this target with the specified logger.\n     * <b>Note :</b> this method is called by the framework and should not be called by the developer.\n     * @name addLogger\n     * @memberof system.logging.LoggerTarget\n     * @instance\n     * @function\n     * @param {system.logging.Logger} logger - The logger to register.\n     */\n    addLogger : { value : function ( logger )\n    {\n        if ( logger && logger instanceof Logger )\n        {\n            this._count ++ ;\n            logger.connect( this ) ;\n        }\n    }},\n\n    /**\n     * This method receive a <code>LoggerEntry</code> from an associated logger.\n     * A target uses this method to translate the event into the appropriate format for transmission, storage, or display.\n     * This method will be called only if the event's level is in range of the target's level.\n     * <b><i>Descendants need to override this method to make it useful.</i></b>\n     * @name logEntry\n     * @memberof system.logging.LoggerTarget\n     * @instance\n     * @function\n     * @param {system.logging.LogEntry} entry - The log entry reference.\n     */\n    logEntry : { value : function( entry ) //jshint ignore:line\n    {\n        // override\n    }},\n\n    /**\n     * This method is called when the receiver is connected with a Signal object.\n     * @name logEntry\n     * @memberof system.logging.LoggerTarget\n     * @instance\n     * @function\n     * @param {*} values - All the values emitting by the signals connected with this object.\n     */\n    receive : { value : function( entry )\n    {\n        if ( entry instanceof LoggerEntry )\n        {\n            if ( this._level === LoggerLevel.NONE )\n            {\n                return ; // logging off\n            }\n            else if ( entry.level.valueOf() >= this._level.valueOf() )\n            {\n                this.logEntry( entry ) ;\n            }\n        }\n    }},\n\n    /**\n     * Removes a channel in the fllters collection if this channel exist.\n     * @param {string} channel - The channel to unregister.\n     * @return <code>true</code> if the channel is removed.\n     * @name removeFilter\n     * @memberof system.logging.LoggerTarget\n     * @instance\n     * @function\n     */\n    removeFilter : { value : function( channel )\n    {\n        if ( channel && (typeof(channel) === \"string\" || (channel instanceof String) ) && ( channel !== \"\" ) )\n        {\n            let index = this._filters.indexOf( channel ) ;\n            if ( index > -1 )\n            {\n                this._filters.splice( index , 1 ) ;\n                return true ;\n            }\n        }\n        return false ;\n    }},\n\n    /**\n     * Stops this target from receiving events from the specified logger.\n     * @name removeLogger\n     * @memberof system.logging.LoggerTarget\n     * @instance\n     * @function\n     */\n    removeLogger : { value : function( logger )\n    {\n        if ( logger instanceof Logger )\n        {\n            this._count-- ;\n            logger.disconnect( this ) ;\n        }\n    }},\n\n    /**\n     * @private\n     */\n    _checkFilter : { value : function( filter )\n    {\n        if ( filter === null )\n        {\n            throw new InvalidFilterError( strings.EMPTY_FILTER  ) ;\n        }\n\n        if ( this._factory.hasIllegalCharacters( filter ) )\n        {\n             throw new InvalidFilterError( fastformat( strings.ERROR_FILTER , filter ) + strings.CHARS_INVALID ) ;\n        }\n\n        var index  = filter.indexOf(\"*\") ;\n\n        if ( (index >= 0) && (index !== (filter.length -1)) )\n        {\n            throw new InvalidFilterError( fastformat( strings.ERROR_FILTER , filter) + strings.CHAR_PLACEMENT ) ;\n        }\n    }},\n\n    /**\n     * Returns the String representation of the object.\n     * @return the String representation of the object.\n     * @memberof system.logging.LoggerTarget\n     * @instance\n     * @function\n     */\n    toString : { value : function() { return '[LoggerTarget]' ; } }\n});","\"use strict\" ;\n\nimport { indexOfAny }          from '../../core/strings/indexOfAny.js' ;\nimport { ArrayMap }            from '../data/maps/ArrayMap.js' ;\nimport { InvalidChannelError } from '../errors/InvalidChannelError.js' ;\nimport { Logger }              from './Logger.js' ;\nimport { LoggerLevel }         from './LoggerLevel.js' ;\nimport { LoggerTarget }        from './LoggerTarget.js' ;\nimport { Receiver }            from '../signals/Receiver.js' ;\nimport { strings }             from './strings.js' ;\n\n/**\n * This factory provides pseudo-hierarchical logging capabilities with multiple format and output options.\n * <p>This class in an internal class in the package system.logging you can use the Log singleton to deploy all the loggers in your application.</p>\n * @name LoggerFactory\n * @memberof system.logging\n * @summary This factory provides pseudo-hierarchical logging capabilities with multiple format and output options.\n * @class\n * @implements system.signals.Receiver\n */\nexport function LoggerFactory()\n{\n    Object.defineProperties( this ,\n    {\n        _loggers     : { value : new ArrayMap()    , writable : true } ,\n        _targetLevel : { value : LoggerLevel.NONE  , writable : true } ,\n        _targets     : { value : []                , writable : true }\n    }) ;\n}\n\nLoggerFactory.prototype = Object.create( Receiver.prototype ,\n{\n    constructor : { value : LoggerFactory } ,\n\n    /**\n     * Allows the specified target to begin receiving notification of log events.\n     * @param {system.logging.LoggerTarget} target - The specific target that should capture log events.\n     * @throws Error If the target is invalid.\n     * @name addTarget\n     * @memberof system.logging.LoggerFactory\n     * @function\n     * @instance\n     */\n    addTarget : { value : function( target /*LoggerTarget*/ ) /*void*/\n    {\n        if( target && (target instanceof LoggerTarget) )\n        {\n            let channel  ;\n            let log ;\n\n            let filters  = target.filters ;\n            let it = this._loggers.iterator() ;\n            while ( it.hasNext() )\n            {\n                log     = it.next() ;\n                channel = it.key() ;\n                if( this._channelMatchInFilterList( channel, filters ) )\n                {\n                    target.addLogger( log ) ;\n                }\n            }\n\n            this._targets.push( target );\n\n            if ( ( this._targetLevel === LoggerLevel.NONE ) || ( target.level.valueOf() < this._targetLevel.valueOf() ) )\n            {\n                this._targetLevel = target.level ;\n            }\n        }\n        else\n        {\n            throw new Error( strings.INVALID_TARGET );\n        }\n    }},\n\n    /**\n     * This method removes all of the current loggers from the cache of the factory.\n     * Subsquent calls to the <code>getLogger()</code> method return new instances of loggers rather than any previous instances with the same category.\n     * This method is intended for use in debugging only.\n     * @name flush\n     * @memberof system.logging.LoggerFactory\n     * @function\n     * @instance\n     */\n    flush : { value : function() /*void*/\n    {\n        this._loggers.clear() ;\n        this._targets     = [] ;\n        this._targetLevel = LoggerLevel.NONE ;\n    }},\n\n    /**\n     * Returns the logger associated with the specified channel.\n     * <p>If the category given doesn't exist a new instance of a logger will be returned and associated with that channel.</p>\n     * <p>Channels must be at least one character in length and may not contain any blanks or any of the following characters: <code>[]~$^&amp;\\/(){}&lt;&gt;+=`!#%?,:;'\"&#64;</code></p>\n     * <p>This method will throw an <code>InvalidChannelError</code> if the category specified is malformed.</p>\n     * @param {string} channel - The channel of the logger that should be returned.\n     * @return An instance of a logger object for the specified name. If the name doesn't exist, a new instance with the specified name is returned.\n     * @name getLogger\n     * @memberof system.logging.LoggerFactory\n     * @function\n     * @instance\n     */\n    getLogger : { value : function ( channel  ) /*Logger*/\n    {\n        this._checkChannel( channel ) ;\n\n        let logger = this._loggers.get( channel ) ;\n        if( !logger )\n        {\n            logger = new Logger( channel ) ;\n            this._loggers.set( channel , logger ) ;\n        }\n        let target;\n        let len = this._targets.length ;\n        for( var i = 0 ; i<len ; i++ )\n        {\n            target = this._targets[i] ;\n            if( this._channelMatchInFilterList( channel , target.filters ) )\n            {\n                target.addLogger( logger ) ;\n            }\n        }\n        return logger ;\n    }},\n\n    /**\n     * This method checks the specified string value for illegal characters.\n     * @param {string} value - The String to check for illegal characters. The following characters are not valid: []~$^&amp;\\/(){}&lt;&gt;+=`!#%?,:;'\"&#64;\n     * @return <code>true</code> if there are any illegal characters found, <code>false</code> otherwise.\n     * @name hasIllegalCharacters\n     * @memberof system.logging.LoggerFactory\n     * @function\n     * @instance\n     */\n    hasIllegalCharacters : { value : function ( value )\n    {\n        return indexOfAny( value , strings.ILLEGALCHARACTERS.split(\"\") ) !== -1 ;\n    }},\n\n    /**\n     * Indicates whether a 'all' level log event will be processed by a log target.\n     * @return <code>true</code> if a 'all' level log event will be logged; otherwise <code>false</code>.\n     * @name isAll\n     * @memberof system.logging.LoggerFactory\n     * @function\n     */\n    isAll : { value : function () { return this._targetLevel === LoggerLevel.ALL ; } },\n\n    /**\n     * Indicates whether a 'critical' level log event will be processed by a log target.\n     * @return <code>true</code> if a 'critical' level log event will be logged; otherwise <code>false</code>.\n     * @name isCritical\n     * @memberof system.logging.LoggerFactory\n     * @function\n     */\n    isCritical : { value : function () { return this._targetLevel === LoggerLevel.CRITICAL ; } },\n\n    /**\n     * Indicates whether a 'debug' level log event will be processed by a log target.\n     * @return <code>true</code> if a 'debug' level log event will be logged; otherwise <code>false</code>.\n     * @name isDebug\n     * @memberof system.logging.LoggerFactory\n     * @function\n     */\n    isDebug : { value : function() { return this._targetLevel === LoggerLevel.DEBUG ; } },\n\n    /**\n     * Indicates whether a 'error' level log event will be processed by a log target.\n     * @return <code>true</code> if a 'error' level log event will be logged; otherwise <code>false</code>.\n     * @name isError\n     * @memberof system.logging.LoggerFactory\n     * @function\n     */\n    isError : { value : function () { return this._targetLevel === LoggerLevel.ERROR ; } },\n\n    /**\n     * Indicates whether a 'info' level log event will be processed by a log target.\n     * @return <code>true</code> if a 'info' level log event will be logged; otherwise <code>false</code>.\n     * @name isInfo\n     * @memberof system.logging.LoggerFactory\n     * @function\n     */\n    isInfo : { value : function() { return this._targetLevel === LoggerLevel.INFO ; } },\n\n    /**\n     * Indicates whether a 'warn' level log event will be processed by a log target.\n     * @return <code>true</code> if a 'warn' level log event will be logged; otherwise <code>false</code>.\n     * @name isWarning\n     * @memberof system.logging.LoggerFactory\n     * @function\n     */\n    isWarning : { value : function() { return this._targetLevel === LoggerLevel.WARNING ; } },\n\n    /**\n     * Indicates whether a 'wtf' level log event will be processed by a log target.\n     * @return <code>true</code> if a 'wtf' level log event will be logged; otherwise <code>false</code>.\n     * @name isWtf\n     * @memberof system.logging.LoggerFactory\n     * @function\n     */\n    isWtf : { value : function() { return this._targetLevel === LoggerLevel.WTF ; } },\n\n    /**\n     * Stops the specified target from receiving notification of log events.\n     * @param {system.logging.LoggerTarget} target - The specific target that should capture log events.\n     * @throws Error If the target is invalid.\n     * @name removeTarget\n     * @memberof system.logging.LoggerFactory\n     * @function\n     */\n    removeTarget : { value : function ( target )\n    {\n        if( target && target instanceof LoggerTarget )\n        {\n            var log ;\n            var filters = target.filters;\n            var it = this._loggers.iterator() ;\n            while ( it.hasNext() )\n            {\n                log = it.next() ;\n                var c = it.key() ;\n                if( this._channelMatchInFilterList( c, filters ) )\n                {\n                    target.removeLogger( log );\n                }\n            }\n            var len = this._targets.length ;\n            for( var i = 0  ; i < len ; i++ )\n            {\n                if( target === this._targets[i] )\n                {\n                    this._targets.splice(i, 1) ;\n                    i-- ;\n                }\n            }\n            this._resetTargetLevel() ;\n        }\n        else\n        {\n            throw new Error( strings.INVALID_TARGET );\n        }\n    }},\n\n    /**\n     * Returns the String representation of the object.\n     * @return the String representation of the object.\n     * @name toString\n     * @memberof system.logging.LoggerFactory\n     * @function\n     */\n    toString : { value : function() { return '[LoggerFactory]' ; } },\n\n    /**\n     * This method checks that the specified category matches any of the filter expressions provided in the <code>filters</code> Array.\n     * @param category The category to match against.\n     * @param filters A list of Strings to check category against.\n     * @return <code>true</code> if the specified category matches any of the filter expressions found in the filters list, <code>false</code> otherwise.\n     * @private\n     */\n    _channelMatchInFilterList : { value : function( channel  , filters  )\n    {\n        let filter  ;\n        let index = -1;\n        let len = filters.length ;\n        for( var i  = 0 ; i<len ; i++ )\n        {\n            filter = filters[i] ;\n            index  = filter.indexOf(\"*\") ;\n            if( index === 0 )\n            {\n                return true ;\n            }\n            index = (index < 0) ? ( index = channel.length ) : ( index - 1 ) ;\n            if( channel.substring(0, index) === filter.substring(0, index) )\n            {\n                return true ;\n            }\n        }\n        return false ;\n    }},\n\n    /**\n     * This method will ensure that a valid category string has been specified.\n     * If the category is not valid an <code>InvalidCategoryError</code> will be thrown.\n     * Categories can not contain any blanks or any of the following characters: []`*~,!#$%^&amp;()]{}+=\\|'\";?&gt;&lt;./&#64; or be less than 1 character in length.\n     * @private\n     */\n    _checkChannel : { value : function( channel  ) /*void*/\n    {\n        if( channel === null || channel.length === 0 )\n        {\n            throw new InvalidChannelError( strings.INVALID_LENGTH );\n        }\n        if( this.hasIllegalCharacters( channel ) || ( channel.indexOf(\"*\") !== -1 ) )\n        {\n            throw new InvalidChannelError( strings.INVALID_CHARS ) ;\n        }\n    }},\n\n    /**\n     * This method resets the Log's target level to the most verbose log level for the currently registered targets.\n     * @private\n     */\n    _resetTargetLevel : { value : function()\n    {\n        let t ;\n        let min = LoggerLevel.NONE ;\n        let len = this._targets.length ;\n        for ( let i = 0 ; i < len ; i++ )\n        {\n            t = this._targets[i] ;\n            if ( ( min === LoggerLevel.NONE ) || ( t.level.valueOf() < min.valueOf() ) )\n            {\n                min = t.level ;\n            }\n        }\n        this._targetLevel = min ;\n    }}\n});","\"use strict\" ;\n\nimport { LoggerFactory } from './LoggerFactory.js' ;\n\n/**\n * The singleton factory to generates all the <b>loggers</b> in your application.\n * @summary The singleton factory to generates all the <b>loggers</b> in your application.\n * @name Log\n * @memberof system.logging\n * @type system.logging.LoggerFactory\n * @const\n * @instance\n */\nexport var Log = new LoggerFactory() ;","\"use strict\" ;\n\nimport { Log } from '../logging/Log.js' ;\n\n/**\n * The {@link system.ioc} internal logger singleton with the channel <code>\"system.ioc.logger\"</code>.\n * @name logger\n * @memberof system.ioc\n * @type system.logging.Logger\n */\nexport var logger = Log.getLogger( \"system.ioc.logger\" ) ;","\"use strict\" ;\n\n/**\n * Enumeration of all \"magic reference patterns\" id can be use in the object definition to create a dependency with special object reference in the factory.\n * @name MagicReference\n * @namespace system.ioc.MagicReference\n * @memberof system.ioc\n */\nexport var MagicReference = Object.defineProperties( {} ,\n{\n    /**\n     * The reference pattern who represents the current config reference of the application defines in the config object in the factory.\n     * @memberof system.ioc.MagicReference\n     * @type {string}\n     * @default #config\n     * @const\n     */\n    CONFIG : { value : \"#config\" , enumerable : true },\n\n    /**\n     * The reference pattern who represents the init magic name used in the property definitions to change the strategy of the current member initialisation.\n     * @memberof system.ioc.MagicReference\n     * @type {string}\n     * @default #init\n     * @const\n     */\n    INIT : { value : \"#init\" , enumerable : true },\n\n    /**\n     * The reference pattern who represents the current locale reference of the application defines in the config object in the factory.\n     * @memberof system.ioc.MagicReference\n     * @type {string}\n     * @default #locale\n     * @const\n     */\n    LOCALE : { value : \"#locale\" , enumerable : true },\n\n    /**\n     * The reference pattern who represents the current Parameters reference of the application defines in the config object in the factory.\n     * @memberof system.ioc.MagicReference\n     * @type {string}\n     * @default #params\n     * @const\n     */\n    PARAMS : { value : \"#params\" , enumerable : true },\n\n    /**\n     * The reference pattern who represents the current root reference of the application defines in the config object in the factory.\n     * @memberof system.ioc.MagicReference\n     * @type {string}\n     * @default #root\n     * @const\n     */\n    ROOT : { value : \"#root\" , enumerable : true },\n\n    /**\n     * The reference pattern who represents the current stage reference of the application defines in the config object in the factory.\n     * @memberof system.ioc.MagicReference\n     * @type {string}\n     * @default #stage\n     * @const\n     */\n    STAGE : { value : \"#stage\" , enumerable : true },\n\n    /**\n     * The reference pattern who represents the current factory.\n     * @memberof system.ioc.MagicReference\n     * @type {string}\n     * @default #this\n     * @const\n     */\n    THIS : { value : \"#this\" , enumerable : true }\n});","'use strict' ;\n\n/**\n * The enumeration of all object attributes.\n * @name ObjectAttribute\n * @namespace system.ioc.ObjectAttribute\n * @memberof system.ioc\n */\nexport var ObjectAttribute = Object.defineProperties( {} ,\n{\n    /**\n     * Defines the label of the arguments in a method or a constructor object.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default args\n     * @const\n     */\n    ARGUMENTS : { value : 'args' , enumerable : true }, // The Javascript keyword 'arguments' is reserved, use 'args' !\n\n    /**\n     * Defines the 'callback' attribute name.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default callback\n     * @const\n     */\n    CALLBACK : { value : 'callback' , enumerable : true },\n\n    /**\n     * Defines the attribute name of the 'config' object in the configuration of the ioc factory.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default config\n     * @const\n     */\n    CONFIG : { value : 'config' , enumerable : true },\n\n    /**\n     * The name of the 'dependsOn' object definition attribute.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default dependsOn\n     * @const\n     */\n    DEPENDS_ON : { value : 'dependsOn' , enumerable : true },\n\n    /**\n     * The 'destroy' method name attribute in the object definitions.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default destroy\n     * @const\n     */\n    DESTROY_METHOD_NAME : { value : 'destroy' , enumerable : true },\n\n    /**\n     * Defines the label of the 'evaluators' attribure.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default evaluators\n     * @const\n     */\n    EVALUATORS : { value : 'evaluators' , enumerable : true },\n\n    /**\n     * Defines the label of the 'factory' attribure.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default factory\n     * @const\n     */\n    FACTORY : { value : 'factory' , enumerable : true },\n\n    /**\n     * The name of the 'generates' object definition attribute.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default generates\n     * @const\n     */\n    GENERATES : { value : 'generates' , enumerable : true },\n\n    /**\n     * The 'id' attribute in the object definitions.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default id\n     * @const\n     */\n    ID : { value : 'id' , enumerable : true },\n\n    /**\n     * Defines the label of the 'identify' property of the object.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default identify\n     * @const\n     */\n    IDENTIFY : { value : 'identify' , enumerable : true },\n\n    /**\n     * The name of the external object property to register the init method name.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default init\n     * @const\n     */\n    INIT_METHOD_NAME : { value : 'init' , enumerable : true },\n\n    /**\n     * Defines the label of the lazyInit name property of the object.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default lazyInit\n     * @const\n     */\n    LAZY_INIT : { value : 'lazyInit' , enumerable : true },\n\n    /**\n     * Defines the 'lazyType' attribute of the object definition.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default lazyInit\n     * @const\n     */\n    LAZY_TYPE : { value : 'lazyType' , enumerable : true },\n\n    /**\n     * Defines the 'listeners' attribute in the object definitions.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default listeners\n     * @const\n     */\n    LISTENERS : { value : 'listeners' , enumerable : true },\n\n    /**\n     * Defines the attribute name of the 'locale' object in the configuration of the ioc factory and the object definition 'arguments' and 'properties'.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default locale\n     * @const\n     */\n    LOCALE : { value : 'locale' , enumerable : true },\n\n    /**\n     * Defines the label of the 'lock' property of the object.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default lock\n     * @const\n     */\n    LOCK : { value : 'lock' , enumerable : true },\n\n    /**\n     * Defines the label of the name in a property object.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default name\n     * @const\n     */\n    NAME : { value : 'name' , enumerable : true },\n\n    /**\n     * The 'properties' attribute in the object definitions.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default properties\n     * @const\n     */\n    PROPERTIES : { value : 'properties' , enumerable : true },\n\n    /**\n     * Defines the 'receivers' attribute in the object definitions.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default receivers\n     * @const\n     */\n    RECEIVERS : { value : 'receivers' , enumerable : true },\n\n    /**\n     * Defines the label of the reference in a property object.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default ref\n     * @const\n     */\n    REFERENCE : { value : 'ref' , enumerable : true },\n\n    /**\n     * Defines the 'scope' attribute in the object definitions or in an object property definition.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default scope\n     * @const\n     */\n    SCOPE : { value : 'scope' , enumerable : true },\n\n    /**\n     * Defines the 'singleton' attribute in the object definitions.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default singleton\n     * @const\n     */\n    SINGLETON : { value : 'singleton' , enumerable : true },\n\n    /**\n     * Defines the label of the type of the object.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default type\n     * @const\n     */\n    TYPE : { value : 'type' , enumerable : true },\n\n    /**\n     * Defines the label of the value in a property object.\n     * @memberof system.ioc.ObjectAttribute\n     * @type {string}\n     * @default value\n     * @const\n     */\n    VALUE : { value : 'value' , enumerable : true }\n});","\"use strict\" ;\n\nimport { ObjectAttribute } from './ObjectAttribute.js' ;\n\n/**\n * This object defines an argument definition in an object definition.\n * @name ObjectArgument\n * @class\n * @memberof system.ioc\n * @param {*} value - The value of the argument.\n * @param {string} [policy=value] - The policy of the property ({@link system.ioc.ObjectAttribute.REFERENCE|ObjectAttribute.REFERENCE} or by default {@link system.ioc.ObjectAttribute.VALUE|ObjectAttribute.VALUE})\n * @param {array} [evaluators] - The optional Array representation of all evaluators who evaluate the value of the argument.\n */\nexport function ObjectArgument( value , policy = \"value\" , evaluators = null )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The optional <code>Array</code> representation of all registered arguments if the passed-in argument is a callback function reference.\n         * @name args\n         * @memberof system.ioc.ObjectArgument\n         * @instance\n         * @type Array\n         */\n        args : { value : null, writable : true } ,\n\n        /**\n         * The optional <code>Array</code> representation of all evaluators to transform the value of this object.\n         * @name evaluators\n         * @memberof system.ioc.ObjectArgument\n         * @instance\n         * @type Array\n         */\n        evaluators : { value : evaluators instanceof Array ? evaluators : null, writable : true } ,\n\n        /**\n         * The optional <code>scope</code> object if the argument definition target a callback function reference.\n         * @name scope\n         * @memberof system.ioc.ObjectArgument\n         * @instance\n         */\n        scope : { value : null, writable : true } ,\n\n        /**\n         * The value of the argument.\n         * @name value\n         * @memberof system.ioc.ObjectArgument\n         * @instance\n         */\n        value : { value : value , writable : true } ,\n\n        /**\n         * @private\n         */\n        _policy : { value : null , writable : true }\n    });\n\n    this.policy = policy ;\n}\n\nObjectArgument.prototype = Object.create( Object.prototype ,\n{\n    constructor : { value : ObjectArgument } ,\n\n    /**\n     * Defines the policy of the property.\n     * @name policy\n     * @memberof system.ioc.ObjectArgument\n     * @type {string}\n     * @instance\n     */\n    policy :\n    {\n        get : function policy()\n        {\n            return this._policy ;\n        },\n        set : function( str )\n        {\n            switch (str)\n            {\n                case ObjectAttribute.CALLBACK  :\n                case ObjectAttribute.REFERENCE :\n                case ObjectAttribute.CONFIG    :\n                case ObjectAttribute.LOCALE    :\n                {\n                    this._policy = str ;\n                    break ;\n                }\n                default :\n                {\n                    this._policy = ObjectAttribute.VALUE ;\n                }\n            }\n        }\n    },\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @name toString\n     * @memberof system.ioc.ObjectArgument\n     * @instance\n     * @function\n     */\n    toString : { value : function () { return '[ObjectArgument]' ; }}\n});","\"use strict\" ;\n\nimport { PropertyEvaluator } from '../../evaluators/PropertyEvaluator.js' ;\nimport { ObjectConfig }      from '../ObjectConfig.js' ;\n\n/**\n * Evaluates a type string expression and return the value who corresponding in the config of the factory.\n * @name ConfigEvaluator\n * @memberof system.ioc.evaluators\n * @class\n * @private\n * @example\n * var init =\n * {\n *     message : \"hello world\" ,\n *     menu    :\n *     {\n *         title : \"my title\" ,\n *         count : 10 ,\n *         data  : [ \"item1\" , \"item2\", \"item3\" ]\n *     }\n * }\n *\n * var configurator = new ObjectConfig() ;\n *\n * configurator.config = init ;\n *\n * var evaluator = new ConfigEvaluator( configurator ) ;\n *\n * trace( evaluator.eval( \"test\"       ) ) ; // null\n * trace( evaluator.eval( \"message\"    ) ) ; // hello world\n * trace( evaluator.eval( \"menu\"       ) ) ; // [object Object]\n * trace( evaluator.eval( \"menu.title\" ) ) ; // my title\n * trace( evaluator.eval( \"menu.count\" ) ) ; // 10\n * trace( evaluator.eval( \"menu.data\"  ) ) ; // item1,item2,item3\n * trace( evaluator.eval( \"menu.test\"  ) ) ; // null\n */\nexport function ConfigEvaluator( config )\n{\n    PropertyEvaluator.call(this) ;\n    this.config = (config instanceof ObjectConfig) ? config : null ;\n    Object.defineProperties( this ,\n    {\n        target : { get : function() { return this.config !== null ? this.config.config : null ; } }\n    }) ;\n}\n\nConfigEvaluator.prototype = Object.create( PropertyEvaluator.prototype ,\n{\n    constructor : { value : ConfigEvaluator }\n});","\"use strict\" ;\n\nimport { PropertyEvaluator } from '../../evaluators/PropertyEvaluator.js' ;\nimport { ObjectConfig }      from '../ObjectConfig.js' ;\n\n/**\n * Evaluates a type string expression and return the value who corresponding in the config of the factory.\n * @memberof system.ioc.evaluators\n * @name LocaleEvaluator\n * @class\n * @private\n * @example\n * var i18n =\n * {\n *     message : \"hello world\" ,\n *     title   : \"my title\"    ,\n *     menu    :\n *     {\n *         title : \"my menu title\" ,\n *         label : \"my label\"\n *     }\n * }\n *\n * var configurator = new ObjectConfig() ;\n *\n * configurator.locale = i18n ;\n *\n * var evaluator = new LocaleEvaluator( configurator ) ;\n *\n * trace( evaluator.eval( \"test\"       ) ) ; // null\n * trace( evaluator.eval( \"message\"    ) ) ; // hello world\n * trace( evaluator.eval( \"title\"      ) ) ; // my title\n * trace( evaluator.eval( \"menu.title\" ) ) ; // my menu title\n * trace( evaluator.eval( \"menu.label\" ) ) ; // my label\n */\nexport function LocaleEvaluator( config )\n{\n    PropertyEvaluator.call(this) ;\n    this.config = (config instanceof ObjectConfig) ? config : null ;\n    Object.defineProperties( this ,\n    {\n        target :\n        {\n            get : function() { return this.config !== null ? this.config.locale : null ; }\n        }\n    }) ;\n}\n\nLocaleEvaluator.prototype = Object.create( PropertyEvaluator.prototype ,\n{\n    constructor : { value : LocaleEvaluator }\n});","\"use strict\" ;\n\n/**\n * Indicates if the specific objet is {@link system.process.Lockable|Lockable} or contains the <code>lock()</code> / <code>unlock()</code> / <code>isLocked()</code> methods.\n * @name isLockable\n * @memberof system.process\n * @function\n * @instance\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is {@link system.process.Lockable|Lockable}.\n */\nexport function isLockable( target )\n{\n    if( target )\n    {\n        if( target instanceof Lockable )\n        {\n            return true ;\n        }\n        else\n        {\n            /*jshint -W069 */\n            return Boolean( target['isLocked'] ) && ( target.isLocked instanceof Function ) &&\n                   Boolean( target['lock'] )     && ( target.lock     instanceof Function ) &&\n                   Boolean( target['unlock'] )   && ( target.unlock   instanceof Function ) ;\n            /*jshint +W069 */\n        }\n    }\n    return false ;\n}\n\n/**\n * This interface is implemented by all objects lockable.\n * @name Lockable\n * @memberof system.process\n * @interface\n */\nexport function Lockable()\n{\n    Object.defineProperties( this ,\n    {\n        __lock__ : { writable : true  , value : false }\n    }) ;\n}\n\nLockable.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Lockable } ,\n\n    /**\n     * Returns <code>true</code> if the object is locked.\n     * @return <code>true</code> if the object is locked.\n     * @name isLocked\n     * @memberof system.process.Lockable\n     * @function\n     * @instance\n     */\n    isLocked : { writable : true , value : function()\n    {\n        return this.__lock__ ;\n    }},\n\n    /**\n     * Locks the object.\n     * @name lock\n     * @memberof system.process.Lockable\n     * @function\n     * @instance\n     */\n    lock : { writable : true , value : function()\n    {\n        this.__lock__ = true ;\n    }},\n\n    /**\n     * Unlocks the object.\n     * @name unlock\n     * @memberof system.process.Lockable\n     * @function\n     * @instance\n     */\n    unlock : { writable : true , value : function()\n    {\n        this.__lock__ = false ;\n    }},\n\n    /**\n     * The <code>toString()</code> method returns a string representing the object\n     * @return A string representing the object.\n     * @memberof system.transitions.Transition\n     * @instance\n     * @function\n     */\n    toString : { writable : true , value : function()\n    {\n        return '[' + this.constructor.name + ']' ;\n    }}\n});","\"use strict\" ;\n\nimport { ObjectArgument } from '../ObjectArgument.js' ;\nimport { ObjectAttribute } from '../ObjectAttribute.js' ;\n\n/**\n * Creates the Array of all arguments.\n * @return the Array of all arguments.\n * @memberof system.ioc.builders\n * @function\n * @private\n */\nexport function createArguments( a )\n{\n    if ( !(a instanceof Array) || a.length === 0 )\n    {\n        return null ;\n    }\n    else\n    {\n        let args = [] ;\n        let l = a.length ;\n        for ( let i = 0 ; i<l ; i++ )\n        {\n            let o = a[i] ;\n            if ( o !== null )\n            {\n                let call       = ( ObjectAttribute.CALLBACK in o )   ? o[ ObjectAttribute.CALLBACK ]  : null ;\n                let conf       = ( ObjectAttribute.CONFIG in o )     ? String(o[ ObjectAttribute.CONFIG ]) : null ;\n                let i18n       = ( ObjectAttribute.LOCALE in o )     ? String(o[ ObjectAttribute.LOCALE ]) : null ;\n                let ref        = ( ObjectAttribute.REFERENCE in o )  ? String(o[ ObjectAttribute.REFERENCE ]) : null ;\n                let value      = ( ObjectAttribute.VALUE in o )      ? o[ ObjectAttribute.VALUE ] : null ;\n                let evaluators = ( ObjectAttribute.EVALUATORS in o ) ? o[ ObjectAttribute.EVALUATORS ] : null ;\n\n                if ( ref !== null && ref.length > 0 )\n                {\n                    args.push( new ObjectArgument( ref , ObjectAttribute.REFERENCE , evaluators ) ) ;\n                }\n                else if ( conf !== null && conf.length > 0 )\n                {\n                    args.push( new ObjectArgument( conf , ObjectAttribute.CONFIG , evaluators ) ) ;\n                }\n                else if ( i18n !== null && i18n.length > 0 )\n                {\n                    args.push( new ObjectArgument( i18n , ObjectAttribute.LOCALE , evaluators ) ) ;\n                }\n                else if ( call instanceof Function || ( (call instanceof String || typeof(call) === 'string') && (call !== '') ) )\n                {\n                    let def = new ObjectArgument( call , ObjectAttribute.CALLBACK , evaluators ) ;\n                    if( ObjectAttribute.SCOPE in o )\n                    {\n                        def.scope = o[ObjectAttribute.SCOPE] ;\n                    }\n                    if( ( ObjectAttribute.ARGUMENTS in o ) && (o[ ObjectAttribute.ARGUMENTS ] instanceof Array) )\n                    {\n                        def.args = createArguments( o[ ObjectAttribute.ARGUMENTS ] ) ; // warn with a recursive call of the function\n                    }\n                    args.push( def ) ;\n                }\n                else\n                {\n                    args.push( new ObjectArgument( value , ObjectAttribute.VALUE , evaluators ) ) ;\n                }\n            }\n        }\n        return args.length > 0 ? args : null ;\n    }\n}","\"use strict\" ;\n\n/**\n * Enumeration of all sorting orders used in the <b>object definitions</b>.\n * @name ObjectOrder\n * @namespace system.ioc.ObjectOrder\n * @memberof system.ioc\n */\nexport var ObjectOrder = Object.defineProperties( {} ,\n{\n    /**\n     * The <code>\"after\"</code> order value.\n     * @name AFTER\n     * @memberof system.ioc.ObjectOrder\n     * @type {string}\n     * @default after\n     * @const\n     */\n    AFTER : { value : \"after\" , enumerable : true },\n\n    /**\n     * The <code>\"before\"</code> order value.\n     * @name BEFORE\n     * @memberof system.ioc.ObjectOrder\n     * @type {string}\n     * @default before\n     * @const\n     */\n    BEFORE : { value : \"before\" , enumerable : true },\n\n    /**\n     * The <code>\"none\"</code> order value.\n     * @name NONE\n     * @memberof system.ioc.ObjectOrder\n     * @type {string}\n     * @default none\n     * @const\n     */\n    NONE : { value : \"none\" , enumerable : true },\n\n    /**\n     * The <code>\"now\"</code> order value.\n     * @name NOW\n     * @memberof system.ioc.ObjectOrder\n     * @type {string}\n     * @default now\n     * @const\n     */\n    NOW : { value : \"now\" , enumerable : true }\n});","\"use strict\" ;\n\nimport { ObjectOrder } from './ObjectOrder.js' ;\n\n/**\n * This object defines a listener definition in an object definition.\n * @name ObjectListener\n * @class\n * @memberof system.ioc\n * @param {string} dispatcher - The dispatcher expression reference of the listener.\n * @param {string} type - The type name of the event dispatched by the dispatcher of this listener.\n * @param {string} [method=null] - The name of the method to invoke when the event is handle.\n * @param {boolean} [useCapture=false] -  Determinates if the event flow use capture or not.\n * @param {string} [order=after] Indicates the order to register the listener \"after\" or \"before\" (see the system.ioc.ObjectOrder enumeration class).\n * @param {number} [priority=0] - Determines the priority level of the listener.\n */\nexport function ObjectListener( dispatcher , type , method = null , useCapture = false , order = \"after\" , priority = 0 )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The dispatcher expression reference of the listener.\n         * @name dispatcher\n         * @memberof system.ioc.ObjectListener\n         * @instance\n         */\n        dispatcher : { value : dispatcher , writable : true } ,\n\n        /**\n         * The <b>name</b> of the method to invoke when the event is handle.\n         * @name method\n         * @memberof system.ioc.ObjectListener\n         * @instance\n         */\n        method : { value : method , writable : true } ,\n\n        /**\n         * Determines the priority level of the event listener.\n         * @name priority\n         * @memberof system.ioc.ObjectReceiver\n         * @instance\n         * @type number\n         * @default 0\n         */\n        priority : { value : priority , writable : true } ,\n\n        /**\n         * The type name of the event dispatched by the dispatcher.\n         * @name type\n         * @memberof system.ioc.ObjectListener\n         * @instance\n         */\n        type : { value : type , writable : true } ,\n\n        /**\n         * Determinates if the event flow use capture or not.\n         * @name useCapture\n         * @memberof system.ioc.ObjectListener\n         * @instance\n         * @type boolean\n         */\n        useCapture : { value : useCapture === true , writable : true } ,\n\n        /**\n         * @private\n         */\n        _order : { value : ( order === ObjectOrder.BEFORE ) ? ObjectOrder.BEFORE : ObjectOrder.AFTER  , writable : true }\n    }) ;\n}\n\n\nObjectListener.prototype = Object.create( Object.prototype ,\n{\n    constructor : { value : ObjectListener } ,\n\n    /**\n     * Determinates the <code>order</code> of the receiver registration (<code>'after'</code> or by default <code>'before'</code>).\n     * @name order\n     * @memberof system.ioc.ObjectListener\n     * @instance\n     */\n    order :\n    {\n        get : function() { return this._order ; } ,\n        set : function( value )\n        {\n            this._order = ( value === ObjectOrder.BEFORE ) ? ObjectOrder.BEFORE : ObjectOrder.AFTER ;\n        }\n    },\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @name toString\n     * @memberof system.ioc.ObjectListener\n     * @instance\n     * @function\n     */\n    toString : { value : function () { return '[ObjectListener]' ; }}\n}) ;\n\nObject.defineProperties( ObjectListener ,\n{\n    /**\n     * Defines the \"dispatcher\" attribute in a listener object definition.\n     * @memberof system.ioc.ObjectListener\n     * @type string\n     * @default dispatcher\n     */\n    DISPATCHER : { value : \"dispatcher\" , enumerable : true } ,\n\n    /**\n     * Defines the \"method\" attribute in a listener object definition.\n     * @memberof system.ioc.ObjectListener\n     * @type string\n     * @default method\n     */\n    METHOD : { value : \"method\" , enumerable : true } ,\n\n    /**\n     * Defines the \"order\" attribute in a listener object definition.\n     * @memberof system.ioc.ObjectListener\n     * @type string\n     * @default order\n     */\n    ORDER : { value : \"order\" , enumerable : true } ,\n\n    /**\n     * Defines the <code>\"priority\"</code> attribute in a listener definition.\n     * @memberof system.ioc.ObjectListener\n     * @type {string}\n     * @default priority\n     * @const\n     */\n    PRIORITY : { value : \"priority\" , enumerable : true } ,\n\n    /**\n     * Defines the \"useCapture\" attribute in a listener object definition.\n     * @memberof system.ioc.ObjectListener\n     * @type string\n     * @default useCapture\n     */\n    USE_CAPTURE : { value : \"useCapture\" , enumerable : true } ,\n\n    /**\n     * Defines the \"type\" attribute in a listener object definition.\n     * @memberof system.ioc.ObjectListener\n     * @type string\n     * @default type\n     */\n    TYPE : { value : \"type\" , enumerable : true }\n});","\"use strict\" ;\n\nimport { dump } from '../../../core/dump.js' ;\nimport { logger } from '../logger.js' ;\nimport { ObjectAttribute } from '../ObjectAttribute.js' ;\nimport { ObjectListener } from '../ObjectListener.js' ;\nimport { ObjectOrder } from '../ObjectOrder.js' ;\n\n/**\n * Creates the Array of all listeners defines in the passed-in factory object definition.\n * @return the Array of all listeners defines in the passed-in factory object definition.\n * @memberof system.ioc.builders\n * @function\n * @private\n */\nexport function createListeners( factory )\n{\n    if ( !factory )\n    {\n        return null ;\n    }\n\n    let a = null ;\n\n    if ( factory instanceof Array )\n    {\n        a = factory ;\n    }\n    else if( ( ObjectAttribute.LISTENERS in factory ) && (factory[ ObjectAttribute.LISTENERS ] instanceof Array ) )\n    {\n        a = factory[ ObjectAttribute.LISTENERS ] ;\n    }\n\n    if ( a === null || a.length === 0 )\n    {\n        return null ;\n    }\n\n    let def ;\n    let dispatcher ;\n    let type ;\n\n    let listeners = [] ;\n\n    let id = String(factory[ ObjectAttribute.ID ]) ;\n    let len = a.length ;\n\n    for ( let i = 0 ; i<len ; i++ )\n    {\n        def = a[i] ;\n        if ( def !== null && (ObjectListener.DISPATCHER in def) && (ObjectListener.TYPE in def) )\n        {\n            dispatcher = def[ ObjectListener.DISPATCHER ] ;\n            if ( !(dispatcher instanceof String || typeof(dispatcher) === 'string') || dispatcher.length === 0 )\n            {\n                continue ;\n            }\n            type = def[ ObjectListener.TYPE ] ;\n            if ( !(type instanceof String || typeof(type) === 'string') || type.length === 0 )\n            {\n                continue ;\n            }\n            listeners.push\n            (\n                new ObjectListener\n                (\n                    dispatcher , type ,\n                    def[ ObjectListener.METHOD ] ,\n                    def[ ObjectListener.USE_CAPTURE ] === true ,\n                    (def[ ObjectListener.ORDER ] === ObjectOrder.BEFORE) ? ObjectOrder.BEFORE : ObjectOrder.AFTER ,\n                    isNaN(def[ ObjectListener.PRIORITY ]) ? 0 : def[ ObjectListener.PRIORITY ]\n                )\n            ) ;\n        }\n        else\n        {\n            if( logger )\n            {\n                logger.warning\n                (\n                    \"ObjectBuilder.createListeners failed, a listener definition is invalid in the object definition \\\"{0}\\\" at \\\"{1}\\\" with the value : {2}\" ,\n                    id , i , dump( def )\n                ) ;\n            }\n        }\n    }\n    return ( listeners.length > 0 ) ? listeners : null ;\n}","\"use strict\" ;\n\n/**\n * Defines a custom factory strategy to build the objects.\n * @name ObjectStrategy\n * @class\n * @memberof system.ioc\n */\nexport function ObjectStrategy() {}\n\r\nObjectStrategy.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : ObjectStrategy },\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @memberof system.ioc.ObjectStrategy\n     * @function\n     * @instance\n     */\n    toString : { writable : true , value : function () { return '[' + this.constructor.name + ']' ; } }\n}) ;","\"use strict\" ;\n\nimport { ObjectAttribute } from './ObjectAttribute.js' ;\nimport { ObjectStrategy }  from './ObjectStrategy.js' ;\n\n/**\n * This object defines a property definition in the object definitions.\n * @name ObjectProperty\n * @extends system.ioc.ObjectStrategy\n * @class\n * @memberof system.ioc\n * @param {string} name - The name of the property.\n * @param {*} value - The value of the property.\n * @param {string} policy - The policy of the property ( {@link system.ioc.ObjectAttribute.REFERENCE|ObjectAttribute.REFERENCE}, {@link system.ioc.ObjectAttribute.CONFIG|ObjectAttribute.CONFIG}, {@link system.ioc.ObjectAttribute.LOCALE|ObjectAttribute.LOCALE} or by default {@link system.ioc.ObjectAttribute.VALUE|ObjectAttribute.VALUE} )\n * @param evaluators The Array representation of all evaluators who evaluate the value of the property.\n */\nexport function ObjectProperty( name , value , policy = \"value\" , evaluators = null )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The optional <code>Array</code> representation of all registered arguments if the property is a callback function reference.\n         * @name args\n         * @memberof system.ioc.ObjectProperty\n         * @instance\n         * @type Array\n         */\n        args : { value : null, writable : true } ,\n\n        /**\n         * The optional <code>Array</code> representation of all evaluators to transform the value of this object.\n         * @name evaluators\n         * @memberof system.ioc.ObjectProperty\n         * @instance\n         * @type Array\n         */\n        evaluators : { value : evaluators instanceof Array ? evaluators : null, writable : true } ,\n\n        /**\n         * The name of the property.\n         * @name name\n         * @memberof system.ioc.ObjectProperty\n         * @instance\n         * @type string\n         */\n        name : { value : name , writable : true } ,\n\n        /**\n         * The optional <code>scope</code> object if the property definition target a callback function reference.\n         * @name scope\n         * @memberof system.ioc.ObjectProperty\n         * @instance\n         */\n        scope : { value : null, writable : true } ,\n\n        /**\n         * The value of the property.\n         * @name value\n         * @memberof system.ioc.ObjectProperty\n         * @instance\n         */\n        value : { value : value , writable : true } ,\n\n        /**\n         * @private\n         */\n        _policy : { value : null , writable : true }\n    }) ;\n\n    this.policy = policy ;\n}\n\nObjectProperty.prototype = Object.create( ObjectStrategy.prototype ,\n{\n    constructor : { writable : true , value : ObjectProperty } ,\n\n    /**\n     * Determinates the policy of the property ( {@link system.ioc.ObjectAttribute.REFERENCE|ObjectAttribute.REFERENCE}, {@link system.ioc.ObjectAttribute.CONFIG|ObjectAttribute.CONFIG}, {@link system.ioc.ObjectAttribute.LOCALE|ObjectAttribute.LOCALE} or by default {@link system.ioc.ObjectAttribute.VALUE|ObjectAttribute.VALUE} )\n     * @name policy\n     * @memberof system.ioc.ObjectProperty\n     * @instance\n     * @type string\n     */\n    policy :\n    {\n        get : function() { return this._policy ; } ,\n        set : function( str )\n        {\n            switch( str )\n            {\n                case ObjectAttribute.ARGUMENTS :\n                case ObjectAttribute.CALLBACK  :\n                case ObjectAttribute.CONFIG    :\n                case ObjectAttribute.LOCALE    :\n                case ObjectAttribute.REFERENCE :\n                {\n                    this._policy = str ;\n                    break ;\n                }\n                default :\n                {\n                    this._policy = ObjectAttribute.VALUE ;\n                }\n            }\n        }\n    }\n}) ;","\"use strict\" ;\n\nimport { dump } from '../../../core/dump.js' ;\nimport { logger } from '../logger.js' ;\nimport { ObjectAttribute } from '../ObjectAttribute.js' ;\nimport { ObjectProperty } from '../ObjectProperty.js' ;\n\nimport { createArguments } from './createArguments.js' ;\n\n/**\n * Creates the Array of all properties defines in the passed-in factory object definition.\n * @return the Array of all properties defines in the passed-in factory object definition.\n * @memberof system.ioc.builders\n * @function\n * @private\n */\nexport function createProperties( factory )\n{\n    if ( !factory )\n    {\n        return null ;\n    }\n\n    let a = null ;\n\n    if ( factory instanceof Array )\n    {\n        a = factory ;\n    }\n    else if( (ObjectAttribute.PROPERTIES in factory) && (factory[ObjectAttribute.PROPERTIES] instanceof Array ) )\n    {\n        a = factory[ObjectAttribute.PROPERTIES] ;\n    }\n\n    if ( !(a instanceof Array) || (a.length === 0) )\n    {\n        return null ;\n    }\n\n    let properties = [] ;\n    let id = String(factory[ ObjectAttribute.ID ]) ;\n    let len = a.length ;\n    let prop = null ;\n\n    for ( let i = 0 ; i<len ; i++ )\n    {\n        prop = a[i] ;\n\n        let args = null ;\n        let call = null ;\n        let conf = null ;\n        let i18n = null ;\n        let name = null ;\n        let ref  = null ;\n        let value = null ;\n        let evaluators = null ;\n\n        if ( prop && (ObjectAttribute.NAME in prop) )\n        {\n            name = prop[ ObjectAttribute.NAME ] ;\n\n            if ( !(name instanceof String || typeof(name) === 'string') || (name.length === '') )\n            {\n                continue ;\n            }\n\n            if( ObjectAttribute.EVALUATORS in prop )\n            {\n                evaluators = (prop[ ObjectAttribute.EVALUATORS ] instanceof Array) ? prop[ ObjectAttribute.EVALUATORS ] : null ;\n            }\n\n            if( ObjectAttribute.ARGUMENTS in prop )\n            {\n                args = prop[ ObjectAttribute.ARGUMENTS ] || null ;\n            }\n\n            if( ObjectAttribute.CONFIG in prop )\n            {\n                conf = prop[ ObjectAttribute.CONFIG ] || null ;\n            }\n\n            if( ObjectAttribute.LOCALE in prop )\n            {\n                i18n = prop[ ObjectAttribute.LOCALE ] || null ;\n            }\n\n            if( ObjectAttribute.CALLBACK in prop )\n            {\n                call = prop[ ObjectAttribute.CALLBACK ] ;\n            }\n\n            if( ObjectAttribute.REFERENCE in prop )\n            {\n                ref = prop[ ObjectAttribute.REFERENCE ] || null ;\n            }\n\n            if( ObjectAttribute.VALUE in prop )\n            {\n                value = prop[ ObjectAttribute.VALUE ] ;\n            }\n\n            let property = null ;\n\n            if ( (ref instanceof String || typeof(ref) === 'string') && (ref !== '') )\n            {\n                property = new ObjectProperty( name , ref , ObjectAttribute.REFERENCE , evaluators ) ;\n            }\n            else if ( (conf instanceof String || typeof(conf) === 'string') && (conf !== '') )\n            {\n                property = new ObjectProperty( name , conf , ObjectAttribute.CONFIG , evaluators ) ;\n            }\n            else if ( (i18n instanceof String || typeof(i18n) === 'string') && (i18n !== '') )\n            {\n                property = new ObjectProperty( name , i18n , ObjectAttribute.LOCALE , evaluators ) ;\n            }\n            else if( call instanceof Function || ( (call instanceof String || typeof(call) === 'string') && (call !== '') ) )\n            {\n                property = new ObjectProperty( name , call , ObjectAttribute.CALLBACK , evaluators ) ;\n                if( args && (args instanceof Array) )\n                {\n                    property.args = createArguments( args )\n                }\n                if( ObjectAttribute.SCOPE in prop )\n                {\n                    property.scope = prop[ ObjectAttribute.SCOPE ] || null ;\n                }\n            }\n            else if ( args && (args instanceof Array) )\n            {\n                property = new ObjectProperty( name , createArguments( args ) , ObjectAttribute.ARGUMENTS ) ;\n            }\n            else\n            {\n                property = new ObjectProperty( name , value , ObjectAttribute.VALUE , evaluators ) ;\n            }\n\n            if( property )\n            {\n                properties.push( property ) ;\n            }\n        }\n        else if( logger )\n        {\n            logger.warning\n            (\n                \"createProperties failed, a property definition is invalid in the object definition \\\"{0}\\\" at \\\"{1}\\\" with the value : {2}\" ,\n                id , i , dump( prop )\n            ) ;\n        }\n    }\n\n    return ( properties.length > 0 ) ? properties : null ;\n}","\"use strict\" ;\n\nimport { ObjectOrder } from './ObjectOrder.js' ;\n\n/**\n * This object defines a receiver definition in an object definition.\n * @name ObjectReceiver\n * @class\n * @memberof system.ioc\n * @param {string} signal - The <code>id</code> of the signal in the <b>IoC factory</b>.\n * @param {string} slot - The <code>id</code> of the receiver of function to connect in the <b>IoC factory</b>.\n * @param {number} [priority=0] - Determines the priority level of the receiver.\n * @param {boolean} [autoDisconnect=false] - Indicate if the receiver is auto disconnect in the signal when is used.\n * @param {string} [order=after] - Indicates the order to connect the receiver \"after\" or \"before\" (see the system.ioc.ObjectOrder enumeration class).\n */\nexport function ObjectReceiver( signal , slot = null , priority = 0 , autoDisconnect = false , order = \"after\" )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * Indicates if the receiver (slot) is auto disconnect by the signal.\n         * @name autoDisconnect\n         * @memberof system.ioc.ObjectReceiver\n         * @instance\n         * @type boolean\n         * @default false\n         */\n        autoDisconnect : { value : autoDisconnect , writable : true } ,\n\n        /**\n         * Determinates the order of the receiver registration ('after' or by default 'before').\n         * @name order\n         * @memberof system.ioc.ObjectReceiver\n         * @instance\n         * @type string\n         * @default after\n         */\n        order :\n        {\n            get : function() { return this._order ; } ,\n            set : function( value )\n            {\n                this._order = ( value === ObjectOrder.BEFORE ) ? ObjectOrder.BEFORE : ObjectOrder.AFTER ;\n            }\n        },\n\n        /**\n         * Determines the priority level of the signal connection.\n         * @name priority\n         * @memberof system.ioc.ObjectReceiver\n         * @instance\n         * @type number\n         * @default 0\n         */\n        priority : { value : priority , writable : true } ,\n\n        /**\n         * The identifier of the signal to connect in the <b>IoC factory</b>.\n         * @name signal\n         * @memberof system.ioc.ObjectReceiver\n         * @instance\n         * @type string\n         */\n        signal : { value : signal , writable : true } ,\n\n        /**\n         * The identifier of the receiver of function to connect in the <b>IoC factory</b>.\n         * @name slot\n         * @memberof system.ioc.ObjectReceiver\n         * @instance\n         * @type string\n         */\n        slot : { value : slot , writable : true } ,\n\n        /**\n         * @private\n         */\n        _order : { value : ( order === ObjectOrder.BEFORE ) ? ObjectOrder.BEFORE : ObjectOrder.AFTER  , writable : true }\n    }) ;\n}\n\nObjectReceiver.prototype = Object.create( Object.prototype ,\n{\n    constructor : { value : ObjectReceiver },\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @memberof system.ioc.ObjectReceiver\n     * @function\n     * @instance\n     */\n    toString : { value : function () { return '[ObjectReceiver]' ; }}\n});\n\nObject.defineProperties( ObjectReceiver ,\n{\n    /**\n     * Defines the <code>\"autoDisconnect\"</code> attribute in a receiver object definition.\n     * @memberof system.ioc.ObjectReceiver\n     * @type {string}\n     * @default autoDisconnect\n     * @const\n     */\n    AUTO_DISCONNECT : { value : \"autoDisconnect\" , enumerable : true } ,\n\n    /**\n     * Defines the <code>\"order\" attribute in a receiver object definition.\n     * @memberof system.ioc.ObjectReceiver\n     * @type {string}\n     * @default order\n     * @const\n     */\n    ORDER : { value : \"order\" , enumerable : true } ,\n\n    /**\n     * Defines the <code>\"priority\"</code> attribute in a receiver object definition.\n     * @memberof system.ioc.ObjectReceiver\n     * @type {string}\n     * @default priority\n     * @const\n     */\n    PRIORITY : { value : \"priority\" , enumerable : true } ,\n\n    /**\n     * Defines the <code>\"signal\"</code> attribute in a receiver object definition.\n     * @memberof system.ioc.ObjectReceiver\n     * @type {string}\n     * @default signal\n     * @const\n     */\n    SIGNAL : { value : \"signal\" , enumerable : true } ,\n\n    /**\n     * Defines the <code>\"slot\"</code> attribute in a receiver object definition.\n     * @memberof system.ioc.ObjectReceiver\n     * @type {string}\n     * @default slot\n     * @const\n     */\n    SLOT : { value : \"slot\" , enumerable : true }\n});","\"use strict\" ;\n\nimport { dump } from '../../../core/dump.js' ;\nimport { logger } from '../logger.js' ;\nimport { ObjectAttribute } from '../ObjectAttribute.js' ;\nimport { ObjectReceiver } from '../ObjectReceiver.js' ;\nimport { ObjectOrder } from '../ObjectOrder.js' ;\n\n/**\n * Creates the Array of all receivers defines in the passed-in factory object definition.\n * @return the Array of all receivers defines in the passed-in factory object definition.\n * @memberof system.ioc.builders\n * @function\n * @private\n */\nexport function createReceivers( factory )\n{\n    if ( !factory )\n    {\n        return null ;\n    }\n\n    let a = null ;\n\n    if ( factory instanceof Array )\n    {\n        a = factory ;\n    }\n    else if( ( ObjectAttribute.RECEIVERS in factory ) && (factory[ObjectAttribute.RECEIVERS] instanceof Array ) )\n    {\n        a = factory[ObjectAttribute.RECEIVERS] ;\n    }\n\n    if ( a === null || a.length === 0 )\n    {\n        return null ;\n    }\n\n    let def ;\n    let receivers = [] ;\n    let signal ;\n\n    let id = String( factory[ObjectAttribute.ID] ) ;\n    let len = a.length ;\n\n    for ( let i = 0 ; i<len ; i++ )\n    {\n        def = a[i] ;\n        if ( def !== null && ( ObjectReceiver.SIGNAL in def ) )\n        {\n            signal = def[ ObjectReceiver.SIGNAL ] ;\n            if ( !(signal instanceof String || typeof(signal) === 'string') || signal.length === 0 )\n            {\n                continue ;\n            }\n            receivers.push\n            (\n                new ObjectReceiver\n                (\n                    signal ,\n                    def[ ObjectReceiver.SLOT ] ,\n                    isNaN(def[ ObjectReceiver.PRIORITY ]) ? 0 : def[ ObjectReceiver.PRIORITY ] ,\n                    def[ ObjectReceiver.AUTO_DISCONNECT ] === true ,\n                    ( def[ ObjectReceiver.ORDER ] === ObjectOrder.BEFORE ) ? ObjectOrder.BEFORE : ObjectOrder.AFTER\n                )\n            ) ;\n        }\n        else\n        {\n            logger.warning\n            (\n                \"ObjectBuilder.createReceivers failed, a receiver definition is invalid in the object definition \\\"{0}\\\" at \\\"{1}\\\" with the value : {2}\" ,\n                id , i , dump( def )\n            ) ;\n        }\n    }\n    return ( receivers.length > 0 ) ? receivers : null ;\n}","'use strict' ;\n\n/**\n * The enumeration of all object attributes.\n * @name ObjectStrategies\n * @namespace system.ioc.ObjectStrategies\n * @memberof system.ioc\n */\nexport var ObjectStrategies = Object.defineProperties( {} ,\n{\n    /**\n     * The name of the 'factoryMethod' object definition attribute.\n     * @memberof system.ioc.ObjectStrategies\n     * @type {string}\n     * @default factoryMethod\n     * @const\n     */\n    FACTORY_METHOD : { value : 'factoryMethod' , enumerable : true },\n\n    /**\n     * The name of the 'factoryProperty' object definition attribute.\n     * @memberof system.ioc.ObjectStrategies\n     * @type {string}\n     * @default factoryProperty\n     * @const\n     */\n    FACTORY_PROPERTY : { value : 'factoryProperty' , enumerable : true },\n\n    /**\n     * The name of the 'factoryReference' object definition attribute.\n     * @memberof system.ioc.ObjectStrategies\n     * @type {string}\n     * @default factoryReference\n     * @const\n     */\n    FACTORY_REFERENCE : { value : 'factoryReference' , enumerable : true },\n\n    /**\n     * The name of the 'factoryValue' object definition attribute.\n     * @memberof system.ioc.ObjectStrategies\n     * @type {string}\n     * @default factoryValue\n     * @const\n     */\n    FACTORY_VALUE : { value : 'factoryValue' , enumerable : true },\n\n    /**\n     * The name of the 'staticFactoryMethod' object definition attribute.\n     * @memberof system.ioc.ObjectStrategies\n     * @type {string}\n     * @default staticFactoryMethod\n     * @const\n     */\n    STATIC_FACTORY_METHOD : { value : 'staticFactoryMethod' , enumerable : true },\n\n    /**\n     * The name of the 'staticFactoryProperty' object definition attribute.\n     * @memberof system.ioc.ObjectStrategies\n     * @type {string}\n     * @default staticFactoryProperty\n     * @const\n     */\n    STATIC_FACTORY_PROPERTY : { value : 'staticFactoryProperty' , enumerable : true },\n});","\"use strict\" ;\n\nimport { ObjectStrategy }  from './ObjectStrategy.js' ;\n\n/**\n * This object defines a method definition with a method name and this arguments.\n * @name ObjectMethod\n * @class\n * @extends system.ioc.ObjectStrategy\n * @memberof system.ioc\n * @param {string} name - The name of the method to invoke.\n * @param {array} args - The array of the arguments to passed-in the method.\n */\nexport function ObjectMethod( name , args )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The optional <code>Array</code> representation of all arguments passed-in the method.\n         * @name args\n         * @memberof system.ioc.ObjectMethod\n         * @instance\n         * @type Array\n         */\n        args : { value : args , writable : true } ,\n\n        /**\n         * The name of the method.\n         * @name name\n         * @memberof system.ioc.ObjectMethod\n         * @instance\n         * @type string\n         */\n        name : { value : name , writable : true }\n    }) ;\n}\n\nObjectMethod.prototype = Object.create( ObjectStrategy.prototype ,\n{\n    constructor : { writable : true , value : ObjectMethod }\n}) ;","\"use strict\" ;\n\nimport { ObjectAttribute } from '../ObjectAttribute.js' ;\nimport { ObjectMethod } from '../ObjectMethod.js' ;\n\nimport { createArguments } from '../builders/createArguments.js' ;\n\n/**\n * This object defines a property definition in the object definitions.\n * @param {string} factory - The string name of the reference in the factory used to create the object.\n * @param {string} name - The name of the static method to invoke to create the object.\n * @param {array} args - The array of the arguments to passed-in the factory method.\n * @private\n * @name ObjectFactoryMethod\n * @memberof system.ioc.strategies\n * @extends system.ioc.ObjectMethod\n */\nexport function ObjectFactoryMethod( factory , name , args )\n{\n    ObjectMethod.call( this , name , args ) ;\n    Object.defineProperties( this ,\n    {\n        /**\n         * The factory string representation of the reference of this factory method object.\n         * @memberof system.ioc.strategies.ObjectFactoryMethod\n         * @instance\n         */\n        factory : { value : factory , writable : true }\n    }) ;\n}\n\nObjectFactoryMethod.prototype = Object.create( ObjectMethod.prototype ,\n{\n    constructor : { writable : true  , value : ObjectFactoryMethod }\n});\n\nObject.defineProperties( ObjectFactoryMethod ,\n{\n    /**\n     * Returns the ObjectFactoryMethod representation of the specified generic object or null.\n     * @return the ObjectFactoryMethod representation of the specified generic object or null.\n     * @memberof system.ioc.strategies.ObjectFactoryMethod\n     * @function\n     */\n    build : { value : function( o )\n    {\n        if ( o === null )\n        {\n            return null ;\n        }\n        if ( (ObjectAttribute.FACTORY in o) && (ObjectAttribute.NAME in o) )\n        {\n            return new ObjectFactoryMethod\n            (\n                o[ ObjectAttribute.FACTORY ] || null ,\n                o[ ObjectAttribute.NAME ] || null ,\n                createArguments( o[ ObjectAttribute.ARGUMENTS ] || null )\n            ) ;\n        }\n        else\n        {\n            return null ;\n        }\n    }}\n});","\"use strict\" ;\n\nimport { ObjectAttribute } from '../ObjectAttribute.js' ;\nimport { ObjectProperty }  from '../ObjectProperty.js' ;\n\n/**\n * This object defines a property definition in the object definitions.\n * @param {string} factory - The string name of the reference in the factory used to create the object.\n * @param {string} name - The name of the property.\n * @param {array} evaluators - The Array representation of all evaluators who evaluate the value of the property.\n * @private\n * @name ObjectFactoryProperty\n * @memberof system.ioc.strategies\n * @extends system.ioc.ObjectStrategy\n */\nexport function ObjectFactoryProperty( factory  , name  , evaluators  = null )\n{\n    ObjectProperty.call( this , name , null, null, evaluators ) ;\n    Object.defineProperties( this ,\n    {\n        factory : { value : factory , writable : true }\n    }) ;\n}\n\nObjectFactoryProperty.prototype = Object.create( ObjectProperty.prototype ,\n{\n    constructor : { writable : true , value : ObjectFactoryProperty }\n}) ;\n\nObject.defineProperties( ObjectFactoryProperty ,\n{\n    /**\n     * Returns the ObjectFactoryProperty representation of the specified generic object or null.\n     * @return the ObjectFactoryProperty representation of the specified generic object or null.\n     * @memberof system.ioc.strategies.ObjectFactoryProperty\n     * @function\n     */\n    build :\n    {\n        value : function( o )\n        {\n            if ( o === null )\n            {\n                return null ;\n            }\n            if ( (ObjectAttribute.FACTORY in o) && (ObjectAttribute.NAME in o) )\n            {\n                return new ObjectFactoryProperty\n                (\n                    o[ ObjectAttribute.FACTORY    ] || null ,\n                    o[ ObjectAttribute.NAME       ] || null ,\n                    o[ ObjectAttribute.EVALUATORS ] || null\n                ) ;\n            }\n            else\n            {\n                return null ;\n            }\n        }\n    }\n});","\"use strict\" ;\n\nimport { ObjectStrategy }  from '../ObjectStrategy.js' ;\n\n/**\n * This stategy get a reference in the IoC factory if the \"factoryReference\" attribute is used in the object definition.\n * @param ref {String] The reference id String representation of an objet definition in the factory.\n * @private\n * @name ObjectReference\n * @memberof system.ioc.strategies\n */\nexport function ObjectReference( ref )\n{\n    Object.defineProperties( this ,\n    {\n        ref : { value : (ref instanceof String) || typeof(ref) === 'string' ? ref : null , writable : true }\n    }) ;\n}\n\nObjectReference.prototype = Object.create( ObjectStrategy.prototype ,\n{\n    constructor : { value : ObjectReference }\n}) ;","\"use strict\" ;\n\nimport { ObjectAttribute } from '../ObjectAttribute.js' ;\nimport { ObjectMethod } from '../ObjectMethod.js' ;\n\nimport { createArguments } from '../builders/createArguments.js' ;\n\n/**\n * This object create a static proxy factory configured in the ObjectDefinition and replace the natural factory of the ObjectFactory.\n * @param {string} type - The type of the static class use to create the object with a static method.\n * @param {string} name - The name of the static method to invoke to create the object.\n * @param {array} args - The array representation of allt the arguments to call with the object method.\n * @private\n * @name ObjectStaticFactoryMethod\n * @memberof system.ioc.strategies\n */\nexport function ObjectStaticFactoryMethod( type , name , args )\n{\n    ObjectMethod.call( this , name , args ) ;\n    Object.defineProperties( this ,\n    {\n        /**\n         * The static target reference.\n         * @memberof system.ioc.strategies.ObjectStaticFactoryMethod\n         * @instance\n         */\n        type : { value : type , writable : true }\n    }) ;\n}\n\nObjectStaticFactoryMethod.prototype = Object.create( ObjectMethod.prototype ,\n{\n    constructor : { value : ObjectStaticFactoryMethod , writable : true }\n}) ;\n\nObject.defineProperties( ObjectStaticFactoryMethod ,\n{\n    /**\n     * Returns the ObjectStaticFactoryMethod representation of the specified generic object or null.\n     * @return the ObjectStaticFactoryMethod representation of the specified generic object or null.\n     * @memberof system.ioc.strategies.ObjectStaticFactoryMethod\n     * @function\n     */\n    build : { value : function( o )\n    {\n        if ( o === null )\n        {\n            return null ;\n        }\n        if ( ( ObjectAttribute.TYPE in o ) && ( ObjectAttribute.NAME in o ) )\n        {\n            let strategy = new ObjectStaticFactoryMethod\n            (\n                o[ ObjectAttribute.TYPE ] || null ,\n                o[ ObjectAttribute.NAME ] || null ,\n                createArguments( o[ ObjectAttribute.ARGUMENTS ] || null )\n            ) ;\n            return strategy ;\n        }\n        else\n        {\n            return null ;\n        }\n    }}\n});","\"use strict\" ;\n\nimport { ObjectAttribute } from '../ObjectAttribute.js' ;\nimport { ObjectProperty }  from '../ObjectProperty.js' ;\n\n/**\n * This object create a static proxy factory configured in the IObjectDefinition and replace the natural factory of the ObjectFactory.\n * @param type The type of the static class use to create the object reference with a static property or constant.\n * @param name The name of the static property or constant to invoke to create the object \"reference\".\n * @param evaluators The Array representation of all evaluators who evaluate the value of the property.\n * @private\n * @name ObjectStaticFactoryProperty\n * @memberof @memberof system.ioc.strategies\n * @extends system.ioc.ObjectProperty\n */\nexport function ObjectStaticFactoryProperty( name  , type  , evaluators  = null )\n{\n    ObjectProperty.call( this , name , null, null, evaluators ) ;\n    Object.defineProperties( this ,\n    {\n        type : { value : type , writable : true }\n    }) ;\n}\n\nObjectStaticFactoryProperty.prototype = Object.create( ObjectProperty.prototype ,\n{\n    constructor : { value : ObjectStaticFactoryProperty , writable : true }\n}) ;\n\nObject.defineProperties( ObjectStaticFactoryProperty ,\n{\n    /**\n     * Returns the ObjectStaticFactoryProperty representation of the specified generic object or null.\n     * @return the ObjectStaticFactoryProperty representation of the specified generic object or null.\n     * @memberof system.ioc.strategies.ObjectStaticFactoryProperty\n     * @function\n     */\n    build : { value : function( o )\n    {\n        if ( o === null )\n        {\n            return null ;\n        }\n        if ( (ObjectAttribute.TYPE in o) && (ObjectAttribute.NAME in o) )\n        {\n            return new ObjectStaticFactoryProperty\n            (\n                o[ ObjectAttribute.NAME       ] || null ,\n                o[ ObjectAttribute.TYPE       ] || null ,\n                o[ ObjectAttribute.EVALUATORS ] || null\n            ) ;\n        }\n        else\n        {\n            return null ;\n        }\n    }}\n});","\"use strict\" ;\n\nimport { ObjectStrategy }  from '../ObjectStrategy.js' ;\n\n/**\n * This stategy object set an object in the IoC factory with an easy value if the attribute \"factoryValue\" is used in the object definition.\n * @param value The value object.\n * @private\n * @name ObjectValue\n * @memberof system.ioc.strategies\n * @extends system.ioc.ObjectStrategy\n */\nexport function ObjectValue( value )\n{\n    Object.defineProperties( this ,\n    {\n        value : { writable : true , value : value }\n    }) ;\n}\n\nObjectValue.prototype = Object.create( ObjectStrategy.prototype ,\n{\n    constructor : { writable : true , value : ObjectValue }\n}) ;","\"use strict\" ;\n\nimport { ObjectStrategies } from '../ObjectStrategies.js' ;\n\nimport { ObjectFactoryMethod }         from '../strategies/ObjectFactoryMethod.js' ;\nimport { ObjectFactoryProperty }       from '../strategies/ObjectFactoryProperty.js' ;\nimport { ObjectReference }             from '../strategies/ObjectReference.js' ;\nimport { ObjectStaticFactoryMethod }   from '../strategies/ObjectStaticFactoryMethod.js' ;\nimport { ObjectStaticFactoryProperty } from '../strategies/ObjectStaticFactoryProperty.js' ;\nimport { ObjectValue }                 from '../strategies/ObjectValue.js' ;\n\n/**\n * This helper create an <code>ObjectStrategy</code> object based on a specific generic object definition.\n * @memberof system.ioc.builders\n * @function\n * @private\n */\nexport function createStrategy( o )\n{\n    if ( ObjectStrategies.FACTORY_METHOD in o )\n    {\n        return ObjectFactoryMethod.build( o[ ObjectStrategies.FACTORY_METHOD ] ) ;\n    }\n    else if ( ObjectStrategies.FACTORY_PROPERTY in o )\n    {\n        return ObjectFactoryProperty.build( o[ ObjectStrategies.FACTORY_PROPERTY ] ) ;\n    }\n    else if ( ObjectStrategies.FACTORY_REFERENCE in o )\n    {\n        return new ObjectReference( o[ ObjectStrategies.FACTORY_REFERENCE ] ) ;\n    }\n    else if ( ObjectStrategies.FACTORY_VALUE in o )\n    {\n        return new ObjectValue( o[ ObjectStrategies.FACTORY_VALUE ] ) ;\n    }\n    else if ( ObjectStrategies.STATIC_FACTORY_METHOD  in o )\n    {\n        return ObjectStaticFactoryMethod.build( o[ ObjectStrategies.STATIC_FACTORY_METHOD ] ) ;\n    }\n    else if ( ObjectStrategies.STATIC_FACTORY_PROPERTY in o )\n    {\n        return ObjectStaticFactoryProperty.build( o[ ObjectStrategies.STATIC_FACTORY_PROPERTY ] ) ;\n    }\n    else\n    {\n        return null ;\n    }\n}","\"use strict\" ;\n\n/**\n * The enumeration list of all object scopes.\n * @name ObjectScope\n * @namespace system.ioc.ObjectScope\n * @memberof system.ioc\n */\nexport var ObjectScope = Object.defineProperties( {} ,\n{\n    /**\n     * Defines the scope of a single object definition to any number of object instances.\n     * @memberof system.ioc.ObjectScope\n     * @type string\n     * @default prototype\n     * @const\n     */\n    PROTOTYPE : { value : \"prototype\" , enumerable : true },\n\n    /**\n     * Defines the scope of a single object definition to a single object instance per IoC container.\n     * @memberof system.ioc.ObjectScope\n     * @type string\n     * @default singleton\n     * @const\n     */\n    SINGLETON : { value : \"singleton\" , enumerable : true },\n\n    /**\n     * The <code>Array</code> representation of all object scopes constants.\n     * @memberof system.ioc.ObjectScope\n     * @type Array\n     * @default singleton\n     * @const\n     */\n    SCOPES : { value : [ \"prototype\" , \"singleton\" ] },\n\n    /**\n     * Returns <code>true</code> if the passed value is a valid scope reference.\n     * @param {string} scope - The value to evaluates.\n     * @return <code>true</code> if the passed value is a valid scope reference.\n     * @memberof system.ioc.ObjectScope\n     * @function\n     */\n    validate : { value : function( scope )\n    {\n        return ObjectScope.SCOPES.indexOf( scope ) > -1 ;\n    }}\n});","\"use strict\" ;\n\nimport { Identifiable } from '../data/Identifiable.js' ;\n\nimport { ObjectOrder }    from './ObjectOrder.js' ;\nimport { ObjectListener } from './ObjectListener.js' ;\nimport { ObjectReceiver } from './ObjectReceiver.js' ;\nimport { ObjectScope }    from './ObjectScope.js' ;\nimport { ObjectStrategy } from './ObjectStrategy.js' ;\n\n/**\n * The objects that form the backbone of your application and that are managed by the <b>IoC container</b> are called <b>object definitions</b>. An <b>object definition</b> is an object that is instantiated, assembled, and otherwise managed by the <b>IoC factory</b>.\n * <p>The <b>object definition</b> contains the information called configuration metadata which is needed for the container to know the followings :\n * <ul>\n * <li>How to create an object</li>\n * <li>Object's lifecycle details</li>\n * <li>Object's dependencies</li>\n * </ul>\n * </p>\n * @name ObjectDefinition\n * @class\n * @memberof system.ioc\n * @implements system.data.Identifiable\n * @extends system.data.Identifiable\n * @param {string} id - The unique index of the object definition register in the container.\n * @param {string|Function} type - The type of the object (the function reference of the class name).\n * @param {boolean} [singleton=false] - Indicates if the object definition scope is 'singleton' or not.\n * @param {boolean} [lazyInit=false] - Indicates if the object definition scope is 'lazyInit' or not.\n * @param {boolean} [lazyType=false] - Indicates if the object definition check or not the type of the new object.\n * @throws ReferenceError if the <code>id</code> and <code>type</code> arguments are <code>null</code> or <code>undefined</code>.\n */\nexport function ObjectDefinition( id , type , singleton = false , lazyInit = false , lazyType=false )\n{\n    if ( id === null || id === undefined )\n    {\n        throw new ReferenceError( this + \" constructor failed, the 'id' value passed in argument not must be empty or 'null' or 'undefined'.\") ;\n    }\n\n    if ( type === null || type === undefined )\n    {\n        throw new ReferenceError( this + \" constructor failed, the 'type' passed in argument not must be empty or 'null' or 'undefined'.\") ;\n    }\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * The constructor arguments values of this object in a Array list.\n         * @name constructorArguments\n         * @memberof system.ioc.ObjectDefinition\n         * @instance\n         */\n        constructorArguments : { value : null , enumerable : true , writable : true } ,\n\n        /**\n         * Determinates the name of the method invoked when the object is destroyed.\n         * @name destroyMethodName\n         * @memberof system.ioc.ObjectDefinition\n         * @instance\n         */\n        destroyMethodName : { value : null , enumerable : true , writable : true } ,\n\n        /**\n         * Indicates the unique identifier value of this object.\n         * @name id\n         * @memberof system.ioc.ObjectDefinition\n         * @instance\n         * @type string\n         */\n        id : { value : id , enumerable : true , writable : true } ,\n\n        /**\n         * Indicates if the object definition is a singleton and the type of the object is Identifiable if the object must be populated with the id of the definition when is instanciated.\n         * @name identify\n         * @memberof system.ioc.ObjectDefinition\n         * @instance\n         * @type boolean\n         */\n        identify : { value : false , enumerable : true , writable : true } ,\n\n        /**\n         * Determinates the name of the method invoked when the object is created.\n         * @name initMethodName\n         * @memberof system.ioc.ObjectDefinition\n         * @instance\n         * @type string\n         */\n        initMethodName : { value : null , enumerable : true , writable : true } ,\n\n        /**\n         * Indicates if the object definition lock this Lockable object during the population of the properties and the initialization of the methods defines in the object definition.\n         * @name lock\n         * @memberof system.ioc.ObjectDefinition\n         * @instance\n         * @type boolean\n         */\n        lock : { value : false , enumerable : true , writable : true } ,\n\n        /**\n         * Sets the Array representation of all properties of this definition.\n         * @name properties\n         * @memberof system.ioc.ObjectDefinition\n         * @instance\n         */\n        properties : { value : null , enumerable : true , writable : true } ,\n\n        /**\n         * Indicates the type of the object (the function reference of the class name).\n         * @name type\n         * @memberof system.ioc.ObjectDefinition\n         * @instance\n         */\n        type : { value : type , enumerable : true , writable : true } ,\n\n        /**\n         * @private\n         */\n        _afterListeners  : { value : null , writable : true } ,\n        _beforeListeners : { value : null , writable : true } ,\n        _dependsOn       : { value : null , writable : true } ,\n        _generates       : { value : null , writable : true } ,\n        _lazyInit        : { value : lazyInit && singleton , writable : true } ,\n        _lazyType        : { value : lazyType === true , writable : true } ,\n        _singleton       : { value : singleton === true , writable : true } ,\n        _scope           : { value : singleton === true ? ObjectScope.SINGLETON : ObjectScope.PROTOTYPE , writable : true } ,\n        _strategy        : { value : null , writable : true }\n    }) ;\n}\n\nObjectDefinition.prototype = Object.create( Identifiable.prototype ,\n{\n    constructor : { writable : true , value : Identifiable },\n\n    /**\n     * The <code>Array</code> of all listener definitions of this object definition register after the object initialization.\n     * @memberof system.ioc.ObjectDefinition\n     * @instance\n     * @readonly\n     * @type Array\n     */\n    afterListeners : { get : function() { return this._afterListeners ; } },\n\n    /**\n     * Returns the Array of all receiver definitions of this object definition register after the object initialization.\n     * @return the Array of all receiver definitions of this object definition register after the object initialization.\n     * @name afterReceivers\n     * @memberof system.ioc.ObjectDefinition\n     * @instance\n     * @readonly\n     * @type Array\n     */\n    afterReceivers : { get : function() { return this._afterReceivers ; } },\n\n    /**\n     * Returns the Array of all listener definitions of this object definition register before the object initialization.\n     * @return the Array of all listener definitions of this object definition register before the object initialization.\n     * @name beforeListeners\n     * @memberof system.ioc.ObjectDefinition\n     * @instance\n     * @readonly\n     * @type Array\n     */\n    beforeListeners : { get : function() { return this._beforeListeners ; } },\n\n    /**\n     * Returns the Array of all receiver definitions of this object definition register before the object initialization.\n     * @return the Array of all receiver definitions of this object definition register before the object initialization.\n     * @name beforeReceivers\n     * @memberof system.ioc.ObjectDefinition\n     * @instance\n     * @readonly\n     * @type Array\n     */\n    beforeReceivers : { get : function() { return this._beforeReceivers ; } },\n\n    /**\n     * Defines the \"dependsOn\" collection.\n     * @name dependsOn\n     * @memberof system.ioc.ObjectDefinition\n     * @instance\n     */\n    dependsOn :\n    {\n        get : function() { return this._dependsOn ; } ,\n        set : function( ar )\n        {\n            this._dependsOn = ( ar instanceof Array && ar.length > 0 ) ? ar.filter( this._filterStrings ) : null ;\n        }\n    },\n\n    /**\n     * Defines the \"generates\" collection.\n     * @name generates\n     * @memberof system.ioc.ObjectDefinition\n     * @instance\n     */\n    generates :\n    {\n        get : function() { return this._generates ; } ,\n        set : function( ar )\n        {\n            this._generates = ( ar instanceof Array && ar.length > 0 ) ? ar.filter( this._filterStrings ) : null ;\n        }\n    },\n\n    /**\n     * Indicates if the object lazily initialized. Only applicable to a singleton object. If <code>false</code>, it will get instantiated on startup by object factories that perform eager initialization of singletons.\n     * @name lazyInit\n     * @memberof system.ioc.ObjectDefinition\n     * @instance\n     * @type boolean\n     */\n    lazyInit :\n    {\n        get : function() { return this._lazyInit; },\n        set : function( flag )\n        {\n            this._lazyInit = ((flag instanceof Boolean) || (typeof(flag) === 'boolean')) ? flag : false ;\n        }\n    },\n\n    /**\n     * Indicates if the object lazily typed. If <code>false</code>, it will the object is instantiated without type checking.\n     * @name lazyType\n     * @memberof system.ioc.ObjectDefinition\n     * @instance\n     * @type boolean\n     */\n    lazyType :\n    {\n        get : function() { return this._lazyType; },\n        set : function( value )\n        {\n            this._lazyType = value === true ;\n        }\n    },\n\n    /**\n     * Sets the Array of all receiver definition of this object definition.\n     * @param ar the Array of all receiver definitions of the object.\n     * @name listeners\n     * @memberof system.ioc.ObjectDefinition\n     * @instance\n     */\n    listeners : { set : function( ar )\n    {\n        this._afterListeners  = [] ;\n        this._beforeListeners = [] ;\n        if ( ar === null || !(ar instanceof Array) )\n        {\n            return ;\n        }\n        let l = ar.length ;\n        if ( l > 0 )\n        {\n            for( let i = 0 ; i < l ; i++ )\n            {\n                let r = ar[i] ;\n                if ( r instanceof ObjectListener )\n                {\n                    if( r.order === ObjectOrder.AFTER )\n                    {\n                        this._afterListeners.push( r ) ;\n                    }\n                    else\n                    {\n                        this._beforeListeners.push( r ) ;\n                    }\n                }\n            }\n        }\n    }},\n\n    /**\n     * Sets the Array of all receiver definition of this object definition.\n     * @param ar the Array of all receiver definitions of the object.\n     * @name receivers\n     * @memberof system.ioc.ObjectDefinition\n     * @instance\n     */\n    receivers : { set : function( ar )\n    {\n        this._afterReceivers  = [] ;\n        this._beforeReceivers = [] ;\n        if ( ar === null || !(ar instanceof Array) )\n        {\n            return ;\n        }\n        let l = ar.length ;\n        if ( l > 0 )\n        {\n            for( var i = 0 ; i < l ; i++ )\n            {\n                let r = ar[i] ;\n                if ( r instanceof ObjectReceiver )\n                {\n                    if( r.order === ObjectOrder.AFTER )\n                    {\n                        this._afterReceivers.push( r ) ;\n                    }\n                    else\n                    {\n                        this._beforeReceivers.push( r ) ;\n                    }\n                }\n            }\n        }\n    }},\n\n    /**\n     * Indicates if the object in a singleton else the object is a prototype (read only, use the scope property to change it).\n     * @name singleton\n     * @memberof system.ioc.ObjectDefinition\n     * @instance\n     * @type boolean\n     * @type readonly\n     */\n    singleton : { get : function() { return this._singleton; } },\n\n    /**\n     * Determinates the scope of the object.\n     * @name scope\n     * @memberof system.ioc.ObjectDefinition\n     * @instance\n     */\n    scope :\n    {\n        get : function() { return this._scope ; } ,\n        set : function( scope )\n        {\n            this._scope = ObjectScope.validate( scope ) ? scope : ObjectScope.PROTOTYPE ;\n            this._singleton = Boolean(this._scope === ObjectScope.SINGLETON) ;\n        }\n    },\n\n    /**\n     * Determinates the factory stategy of this definition to create the object.\n     * @name strategy\n     * @memberof system.ioc.ObjectDefinition\n     * @instance\n     */\n    strategy :\n    {\n        get : function() { return this._strategy ; } ,\n        set : function( strategy )\n        {\n            this._strategy = (strategy instanceof ObjectStrategy) ? strategy : null ;\n        }\n    },\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @memberof system.ioc.ObjectDefinition\n     * @name toString\n     * @instance\n     * @function\n     */\n    toString : { value : function () { return \"[ObjectDefinition]\" ; } } ,\n\n    /**\n     * @private\n     * @memberof system.ioc.ObjectDefinition\n     * @name _filterStrings\n     * @instance\n     * @function\n     */\n    _filterStrings : { value : function( item )\n    {\n        return (typeof(item) === 'string' || item instanceof String) && item.length > 0 ;\n    }}\n}) ;","\"use strict\" ;\n\nimport { createArguments }  from './createArguments.js' ;\nimport { createListeners }  from './createListeners.js' ;\nimport { createProperties } from './createProperties.js' ;\nimport { createReceivers }  from './createReceivers.js' ;\nimport { createStrategy }   from './createStrategy.js' ;\n\nimport { ObjectDefinition } from '../ObjectDefinition.js' ;\nimport { ObjectAttribute }  from '../ObjectAttribute.js' ;\n\n/**\n * Creates a new ObjectDefinition instance and populated it with the specified init object in argument.\n * @param o A generic object to populate the new ObjectDefinition instance.\n * @return An ObjectDefinition instance.\n * @memberof system.ioc.builders\n * @function\n * @private\n */\nexport function createObjectDefinition( o )\n{\n    let definition = new ObjectDefinition\n    (\n        o[ ObjectAttribute.ID ]        || null ,\n        o[ ObjectAttribute.TYPE ]      || null ,\n        o[ ObjectAttribute.SINGLETON ] || false ,\n        o[ ObjectAttribute.LAZY_INIT ] || false ,\n        o[ ObjectAttribute.LAZY_TYPE ] || false\n    ) ;\n\n    if( (ObjectAttribute.IDENTIFY in o) && (o[ObjectAttribute.IDENTIFY] instanceof Boolean || typeof(o[ObjectAttribute.IDENTIFY]) === 'boolean') )\n    {\n        definition.identify = o[ ObjectAttribute.IDENTIFY ] ;\n    }\n\n    if( (ObjectAttribute.LOCK in o) && (o[ObjectAttribute.LOCK] instanceof Boolean || typeof(o[ObjectAttribute.LOCK]) === 'boolean') )\n    {\n        definition.lock = o[ ObjectAttribute.LOCK ] ;\n    }\n\n    if( (ObjectAttribute.ARGUMENTS in o ) && ( o[ ObjectAttribute.ARGUMENTS ] instanceof Array ) )\n    {\n        definition.constructorArguments = createArguments( o[ ObjectAttribute.ARGUMENTS ] );\n    }\n\n    if( ObjectAttribute.DESTROY_METHOD_NAME in o )\n    {\n        definition.destroyMethodName = o[ ObjectAttribute.DESTROY_METHOD_NAME ] ;\n    }\n\n    if( ObjectAttribute.INIT_METHOD_NAME in o )\n    {\n        definition.initMethodName = o[ ObjectAttribute.INIT_METHOD_NAME ] ;\n    }\n\n    if( ObjectAttribute.SCOPE in o )\n    {\n        definition.scope = o[ ObjectAttribute.SCOPE ] ;\n    }\n\n    if( (ObjectAttribute.DEPENDS_ON in o) && ( o[ObjectAttribute.DEPENDS_ON] instanceof Array ) )\n    {\n        definition.dependsOn = o[ ObjectAttribute.DEPENDS_ON ] ;\n    }\n\n    if( (ObjectAttribute.GENERATES in o) && (o[ObjectAttribute.GENERATES] instanceof Array) )\n    {\n        definition.generates = o[ ObjectAttribute.GENERATES ] ;\n    }\n\n    let listeners = createListeners( o ) ;\n    if( listeners )\n    {\n        definition.listeners = listeners ;\n    }\n\n    let properties = createProperties( o ) ;\n    if( properties )\n    {\n        definition.properties = properties ;\n    }\n\n    let receivers = createReceivers( o ) ;\n    if( receivers )\n    {\n        definition.receivers = receivers ;\n    }\n\n    let strategy = createStrategy( o ) ;\n    if( strategy )\n    {\n        definition.strategy = strategy ;\n    }\n\n    return definition ;\n}","\"use strict\" ;\n\n/**\n * Indicates if the specific objet is {@link system.process.Runnable|Runnable} and contains a <code>run()</code> method.\n * @name isRunnable\n * @function\n * @instance\n * @memberof system.process\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is {@link system.process.Runnable|Runnable}.\n */\nexport function isRunnable( target )\n{\n    if( target )\n    {\n        if( target instanceof Runnable )\n        {\n            return true ;\n        }\n        /*jshint -W069 */\n        return Boolean(target['run']) && ( target.run instanceof Function )  ;\n        /*jshint +W069 */\n    }\n    return false ;\n}\n\n/**\n * The base interface for all <b>commands</b> in your applications. If only this interface is implemented by a command, it is treated as a synchronous command. For additional features like asynchronous execution, cancellation or suspension, several subinterfaces are available.\n * <p>In object-oriented programming, the command pattern is a behavioral design pattern in which an object is used to encapsulate all information needed to perform an action or trigger an event at a later time.</p>\n * This interface is used by all internal command executors and builders.\n * @name Runnable\n * @memberof system.process\n * @interface\n */\nexport function Runnable() {}\n\nRunnable.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Runnable },\n\n    /**\n     * Run the command.\n     * @name run\n     * @memberof system.process.Runnable\n     * @function\n     * @instance\n     */\n    run : { writable : true , value : function()\n    {\n        // override\n    }},\n\n    /**\n     * The <code>toString()</code> method returns a string representing the object\n     * @return A string representing the object.\n     * @memberof system.transitions.Transition\n     * @instance\n     * @function\n     */\n    toString : { writable : true , value : function()\n    {\n        return '[' + this.constructor.name + ']' ;\n    }}\n});","\"use strict\" ;\n\n/**\n * The enumeration of all phases in a task process.\n * @summary The enumeration of all phases in the {@link system.process.Task|Task} objects.\n * @namespace system.process.TaskPhase\n * @memberof system.process\n */\nexport var TaskPhase = Object.defineProperties( {} ,\n{\n    /**\n     * The <code>'error'</code> type.\n     * @memberof system.process.TaskPhase\n     * @const\n     * @type {string}\n     */\n    ERROR : { value : 'error' , enumerable : true } ,\n\n    /**\n     * The <code>'delayed'</code> type.\n     * @memberof system.process.TaskPhase\n     * @const\n     * @type {string}\n     */\n    DELAYED : { value : 'delayed'  , enumerable : true } ,\n\n    /**\n     * The <code>'finished'</code> type.\n     * @memberof system.process.TaskPhase\n     * @const\n     * @type {string}\n     */\n    FINISHED : { value : 'finished' , enumerable : true } ,\n\n    /**\n     * The <code>'inactive'</code> type.\n     * @memberof system.process.TaskPhase\n     * @const\n     * @type {string}\n     */\n    INACTIVE : { value : 'inactive' , enumerable : true } ,\n\n    /**\n     * The <code>'running'</code> type.\n     * @memberof system.process.TaskPhase\n     * @const\n     * @type {string}\n     */\n    RUNNING : { value : 'running' , enumerable : true } ,\n\n    /**\n     * The <code>'stopped'</code> type.\n     * @memberof system.process.TaskPhase\n     * @const\n     * @type {string}\n     */\n    STOPPED : { value : 'stopped' , enumerable : true } ,\n\n    /**\n     * The <code>'timeout'</code> type.\n     * @memberof system.process.TaskPhase\n     * @const\n     * @type {string}\n     */\n    TIMEOUT : { value : 'timeout' , enumerable : true }\n}) ;\n\n","\"use strict\" ;\n\nimport { Signal } from '../signals/Signal.js' ;\n\nimport { Runnable }  from './Runnable.js' ;\nimport { TaskPhase } from './TaskPhase.js' ;\n\n/**\n * This abstract class represents the basic definition implemented in the Action objects.\n * @summary This abstract class represents the basic definition implemented in the Action objects.\n * @name Action\n * @class\n * @memberof system.process\n * @augments system.process.Runnable\n * @implements system.process.Runnable\n * @implements system.process.Lockable\n */\nexport function Action()\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * This signal emit when the action is finished.\n         * @memberof system.process.Action\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        finishIt : { value : new Signal() },\n\n        /**\n         * This signal emit when the action is started.\n         * @memberof system.process.Action\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        startIt : { value : new Signal() } ,\n\n        /**\n         * @private\n         */\n        __lock__ : { writable : true  , value : false },\n\n        /**\n         * @private\n         */\n        _phase : { writable : true , value : TaskPhase.INACTIVE },\n\n        /**\n         * @private\n         */\n        _running : { writable : true , value : false }\n    }) ;\n}\n\nAction.prototype = Object.create( Runnable.prototype ,\n{\n    constructor : { writable : true , value : Action } ,\n\n    /**\n     * Indicates the current phase.\n     * @memberof system.process.Action\n     * @type {string}\n     * @see {@link system.process.TaskPhase}\n     * @instance\n     * @readonly\n     */\n    phase : { get : function() { return this._phase ; } },\n\n    /**\n     * Indicates action is running.\n     * @memberof system.process.Action\n     * @type {boolean}\n     * @instance\n     * @readonly\n     */\n    running : { get : function() { return this._running ; } },\n\n    /**\n     * Creates a copy of the object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.process.Action\n     * @function\n     * @instance\n     */\n    clone : { writable : true , value : function()\n    {\n        return new Action() ;\n    }},\n\n    /**\n     * Returns <code>true</code> if the object is locked.\n     * @return <code>true</code> if the object is locked.\n     * @name isLocked\n     * @memberof system.process.Action\n     * @function\n     * @instance\n     */\n    isLocked : { writable : true , value : function()\n    {\n        return this.__lock__ ;\n    }},\n\n    /**\n     * Locks the object.\n     * @name lock\n     * @memberof system.process.Action\n     * @function\n     * @instance\n     */\n    lock : { writable : true , value : function()\n    {\n        this.__lock__ = true ;\n    }},\n\n    /**\n     * Notify when the process is finished.\n     * @name notifyFinished\n     * @memberof system.process.Action\n     * @function\n     * @instance\n     */\n    notifyFinished : { writable : true , value : function()\n    {\n        this._running = false ;\n        this._phase = TaskPhase.FINISHED ;\n        this.finishIt.emit( this ) ;\n        this._phase = TaskPhase.INACTIVE ;\n    }},\n\n    /**\n     * Notify when the process is started.\n     * @name notifyStarted\n     * @memberof system.process.Action\n     * @function\n     * @instance\n     */\n    notifyStarted : { writable : true , value : function()\n    {\n        this._running = true ;\n        this._phase  = TaskPhase.RUNNING ;\n        this.startIt.emit( this ) ;\n    }},\n\n    /**\n     * Unlocks the object.\n     * @name unlock\n     * @memberof system.process.Action\n     * @function\n     * @instance\n     */\n    unlock : { writable : true , value : function()\n    {\n        this.__lock__ = false ;\n    }}\n});\n","\"use strict\" ;\n\nimport { Signal } from '../signals/Signal.js' ;\n\nimport { Action }  from './Action.js' ;\nimport { TaskPhase } from './TaskPhase.js' ;\n\n/**\n * A Task object to create a set of complex commands or actions.\n * @summary An abstract class to create a set of complex commands or actions.\n * @name Task\n * @class\n * @extends system.process.Action\n * @memberof system.process\n * @implements system.process.Lockable\n * @implements system.process.Resetable\n * @implements system.process.Startable\n * @implements system.process.Stoppable\n */\nexport function Task()\n{\n    Action.call( this ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * The signal emit when the task is changed.\n         * @memberof system.process.Task\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        changeIt : { value : new Signal() },\n\n        /**\n         * The signal emit when the task is cleared.\n         * @memberof system.process.Task\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        clearIt : { value : new Signal() },\n\n        /**\n         * The signal emit when the task failed.\n         * @memberof system.process.Task\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        errorIt : { value : new Signal() },\n\n        /**\n         * The signal emit when the task emit a message.\n         * @memberof system.process.Task\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        infoIt : { value : new Signal() },\n\n        /**\n         * The flag to determinate if the task must be looped.\n         * @memberof system.process.Task\n         * @type {boolean}\n         * @instance\n         * @default false\n         */\n        looping : { value : false  , writable : true } ,\n\n        /**\n         * The signal emit when the task is looped.\n         * @memberof system.process.Task\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        loopIt : { value : new Signal() },\n\n        /**\n         * The signal emit when the task is paused.\n         * @memberof system.process.Task\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        pauseIt : { value : new Signal() },\n\n        /**\n         * The signal emit when the task is in progress.\n         * @memberof system.process.Task\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        progressIt : { value : new Signal() },\n\n        /**\n         * The signal emit when the task is resumed.\n         * @memberof system.process.Task\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        resumeIt : { value : new Signal() },\n\n        /**\n         * This signal emit when the task is stopped.\n         * @memberof system.process.Task\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        stopIt : { value : new Signal() },\n\n        /**\n         * Indicates if the class throws errors or notify a finished event when the task failed.\n         * @memberof system.process.Task\n         * @type {boolean}\n         * @default false\n         * @instance\n         */\n        throwError : { value : false , writable : true } ,\n\n        /**\n         * The signal emit when the task is out of time.\n         * @memberof system.process.Task\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        timeoutIt : { value : new Signal() }\n    }) ;\n}\n\nTask.prototype = Object.create( Action.prototype ,\n{\n    constructor : { writable : true , value : Task },\n\n    /**\n     * Creates a copy of the object.\n     * @name clone\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     * @override\n     */\n    clone : { writable : true , value : function()\n    {\n        return new Task() ;\n    }},\n\n    /**\n     * Notify when the process is changed.\n     * @name notifyChanged\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    notifyChanged : { writable : true , value : function()\n    {\n        if ( !this.__lock__ )\n        {\n            this.changeIt.emit( this ) ;\n        }\n    }},\n\n    /**\n     * Notify when the process is cleared.\n     * @name notifyCleared\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    notifyCleared : { writable : true , value : function()\n    {\n        if ( !this.__lock__ )\n        {\n            this.clearIt.emit( this ) ;\n        }\n    }},\n\n    /**\n     * Notify an error.\n     * @name notifyError\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    notifyError : { writable : true , value : function( message = null )\n    {\n        this._running = false ;\n        this._phase = TaskPhase.ERROR ;\n        if ( !this.__lock__ )\n        {\n            this.errorIt.emit( this , message ) ;\n        }\n        if( this.throwError )\n        {\n            throw new Error( message ) ;\n        }\n    }},\n\n    /**\n     * Notify a specific information when the process is changed.\n     * @name notifyInfo\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    notifyInfo : { writable : true , value : function( info )\n    {\n        if ( !this.__lock__ )\n        {\n            this.infoIt.emit( this , info ) ;\n        }\n    }},\n\n    /**\n     * Notify when the process is looped.\n     * @name notifyLooped\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    notifyLooped : { writable : true , value : function()\n    {\n        this._phase = TaskPhase.RUNNING ;\n        if ( !this.__lock__ )\n        {\n            this.loopIt.emit( this ) ;\n        }\n    }},\n\n    /**\n     * Notify when the process is paused.\n     * @name notifyPaused\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    notifyPaused : { writable : true , value : function()\n    {\n        this._running = false ;\n        this._phase = TaskPhase.STOPPED ;\n        if ( !this.__lock__ )\n        {\n            this.pauseIt.emit( this ) ;\n        }\n    }},\n\n    /**\n     * Notify when the process is progress.\n     * @name notifyProgress\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    notifyProgress : { writable : true , value : function()\n    {\n        if ( !this.__lock__ )\n        {\n            this.progressIt.emit( this ) ;\n        }\n    }},\n\n    /**\n     * Notify when the process is resumed.\n     * @name notifyResumed\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    notifyResumed : { writable : true , value : function()\n    {\n        this._phase = TaskPhase.RUNNING ;\n        if ( !this.__lock__ )\n        {\n            this.resumeIt.emit( this ) ;\n        }\n    }},\n\n    /**\n     * Notify when the process is stopped.\n     * @name notifyStopped\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    notifyStopped : { writable : true , value : function()\n    {\n        this._running = false ;\n        this._phase = TaskPhase.STOPPED ;\n        if ( !this.__lock__ )\n        {\n            this.stopIt.emit( this ) ;\n        }\n    }},\n\n    /**\n     * Notify when the process is out of time.\n     * @name notifyTimeout\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    notifyTimeout : { writable : true , value : function()\n    {\n        this._running = false ;\n        this._phase = TaskPhase.TIMEOUT ;\n        if ( !this.__lock__ )\n        {\n            this.timeoutIt.emit( this ) ;\n        }\n    }},\n\n    /**\n     * Resumes the task.\n     * @name resume\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    resume : { writable : true , value : function() {} },\n\n    /**\n     * Resets the task.\n     * @name reset\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    reset : { writable : true , value : function() {} },\n\n    /**\n     * Starts the task.\n     * @name start\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    start : { writable : true , value : function()\n    {\n        this.run() ;\n    }},\n\n    /**\n     * Starts the process.\n     * @name stop\n     * @memberof system.process.Task\n     * @function\n     * @instance\n     */\n    stop : { writable : true , value : function() {} }\n});","\"use strict\" ;\n\nimport { ArrayMap } from '../data/maps/ArrayMap.js' ;\nimport { Task } from '../process/Task.js' ;\n\nimport { ObjectDefinition } from './ObjectDefinition.js' ;\n\n/**\n * Creates a container to register all the Object define by the corresponding {@link system.ioc.ObjectDefinition|ObjectDefinition} objects.\n * @name ObjectDefinitionContainer\n * @class\n * @memberof system.ioc\n * @extends system.process.Task\n */\nexport function ObjectDefinitionContainer()\n{\n    Task.call(this) ;\n    Object.defineProperties( this ,\n    {\n        _map : { writable : true , value : new ArrayMap() }\n    });\n}\n\nObjectDefinitionContainer.prototype = Object.create( Task.prototype ,\n{\n    constructor : { configurable : true , writable : true , value : ObjectDefinitionContainer } ,\n\n    /**\n     * Indicates the numbers of object definitions registered in the container.\n     * @name numObjectDefinition\n     * @memberof system.ioc.ObjectDefinitionContainer\n     * @readonly\n     * @instance\n     */\n    numObjectDefinition : { get : function() { return this._map.length ; } } ,\n\n    /**\n     * Registers a new object definition in the container.\n     * @param definition The Identifiable ObjectDefinition reference to register in the container.\n     * @throws ArgumentError If the specified object definition is null or if this id attribut is null.\n     * @name addObjectDefinition\n     * @memberof system.ioc.ObjectDefinitionContainer\n     * @function\n     * @instance\n     */\n    addObjectDefinition : { value : function( definition )\n    {\n        if ( definition instanceof ObjectDefinition )\n        {\n            this._map.set( definition.id , definition ) ;\n        }\n        else\n        {\n            throw new ReferenceError( this + \" addObjectDefinition failed, the specified object definition must be an ObjectDefinition object.\" ) ;\n        }\n    }},\n\n    /**\n     * Removes all the object definitions register in the container.\n     * @name clearObjectDefinition\n     * @memberof system.ioc.ObjectDefinitionContainer\n     * @function\n     * @instance\n     */\n    clearObjectDefinition : { value : function()\n    {\n        this._map.clear() ;\n    }},\n\n    /**\n     * Returns a shallow copy of this object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.ioc.ObjectDefinitionContainer\n     * @function\n     * @instance\n     */\n    clone : { value : function()\n    {\n        return new ObjectDefinitionContainer() ;\n    }},\n\n    /**\n     * Returns the ObjectDefinition object register in the container with the specified id.\n     * @param {string} id - The id name of the ObjectDefinition to return.\n     * @return the ObjectDefinition object register in the container with the specified id.\n     * @throws ArgumentError If the specified object definition don't exist in the container.\n     * @name getObjectDefinition\n     * @memberof system.ioc.ObjectDefinitionContainer\n     * @function\n     * @instance\n     */\n    getObjectDefinition : { value : function( id )\n    {\n        if ( this._map.has( id ) )\n        {\n            return this._map.get( id ) ;\n        }\n        else\n        {\n            throw new ReferenceError( this + \" getObjectDefinition failed, the specified object definition don't exist : \" + id ) ;\n        }\n    }},\n\n    /**\n     * Returns <code>true</code> if the object defines with the specified id is register in the container.\n     * @param {string} id - The id of the ObjectDefinition to search.\n     * @return <code>true</code> if the object defines with the specified id is register in the container.\n     * @name hasObjectDefinition\n     * @memberof system.ioc.ObjectDefinitionContainer\n     * @function\n     * @instance\n     */\n    hasObjectDefinition : { value : function( id )\n    {\n        return this._map.has( id ) ;\n    }},\n\n    /**\n     * Unregisters an object definition in the container.\n     * @param id The id of the object definition to remove.\n     * @throws ArgumentError If the specified object definition don't exist in the container.\n     * @name removeObjectDefinition\n     * @memberof system.ioc.ObjectDefinitionContainer\n     * @function\n     * @instance\n     */\n    removeObjectDefinition : { value : function( id )\n    {\n        if ( this._map.has( id ) )\n        {\n            this._map.delete( id ) ;\n        }\n        else\n        {\n            throw new ReferenceError( this + \" removeObjectDefinition failed, the specified object definition don't exist : \" + id ) ;\n        }\n    }}\n});","\"use strict\" ;\n\nimport { invoke } from '../../core/reflect/invoke.js' ;\n\nimport { Evaluable } from '../Evaluable.js' ;\nimport { ArrayMap } from '../data/maps/ArrayMap.js' ;\nimport { isIdentifiable } from '../data/Identifiable.js' ;\nimport { MultiEvaluator } from '../evaluators/MultiEvaluator.js' ;\nimport { EventListener } from '../events/EventListener.js' ;\nimport { IEventDispatcher } from '../events/IEventDispatcher.js' ;\nimport { Receiver } from '../signals/Receiver.js' ;\nimport { Signaler } from '../signals/Signaler.js' ;\nimport { isLockable } from '../process/Lockable.js' ;\n\nimport { createObjectDefinition } from './builders/createObjectDefinition.js' ;\n\nimport { ObjectFactoryMethod } from './strategies/ObjectFactoryMethod.js' ;\nimport { ObjectFactoryProperty } from './strategies/ObjectFactoryProperty.js' ;\nimport { ObjectReference } from './strategies/ObjectReference.js' ;\nimport { ObjectStaticFactoryMethod } from './strategies/ObjectStaticFactoryMethod.js' ;\nimport { ObjectStaticFactoryProperty } from './strategies/ObjectStaticFactoryProperty.js' ;\nimport { ObjectValue } from './strategies/ObjectValue.js' ;\n\nimport { logger } from './logger.js' ;\n\nimport { MagicReference } from './MagicReference.js' ;\nimport { ObjectArgument } from './ObjectArgument.js' ;\nimport { ObjectAttribute } from './ObjectAttribute.js' ;\nimport { ObjectConfig } from './ObjectConfig.js' ;\nimport { ObjectDefinition } from './ObjectDefinition.js' ;\nimport { ObjectDefinitionContainer } from './ObjectDefinitionContainer.js' ;\nimport { ObjectProperty } from './ObjectProperty.js' ;\nimport { ObjectMethod } from './ObjectMethod.js' ;\nimport { ObjectStrategy } from './ObjectStrategy.js' ;\n\n/**\n * The basic <b>Inversion of Control</b> container or factory.\n * @name ObjectFactory\n * @class\n * @memberof system.ioc\n * @extends system.ioc.ObjectDefinitionContainer\n * @example\n * var Point = function( x , y )\n * {\n *     this.x = x ;\n *     this.y = y ;\n *     console.log(\"constructor:\" + this.toString() ) ;\n * };\n *\n * Point.prototype.test = function( message = null )\n * {\n *     console.log( 'test:' + this.toString() + \" message:\" + message ) ;\n * }\n *\n * Point.prototype.toString = function()\n * {\n *     return \"[Point x:\" + this.x + \" y:\" + this.y + \"]\" ;\n * } ;\n *\n * var ObjectFactory = system.ioc.ObjectFactory ;\n *\n * var factory = new ObjectFactory();\n * var config  = factory.config ;\n *\n * config.setConfigTarget\n * ({\n *     origin : { x : 10 , y : 20 }\n * })\n *\n * config.setLocaleTarget\n * ({\n *     messages :\n *     {\n *         test : 'test'\n *     }\n * })\n *\n * var objects =\n * [\n *     {\n *         id   : \"position\" ,\n *         type : \"Point\" ,\n *         args : [ { value : 2 } , { ref : 'origin.y' } ],\n *         properties :\n *         [\n *             { name : \"x\" , ref   :'origin.x' } ,\n *             { name : \"y\" , value : 100       }\n *         ]\n *     },\n *     {\n *         id         : \"origin\" ,\n *         type       : \"Point\" ,\n *         singleton  : true ,\n *         args       : [ { config : 'origin.x' } , { value : 20 }] ,\n *         properties :\n *         [\n *             { name : 'test' , args : [ { locale : 'messages.test' } ] }\n *         ]\n *     }\n * ];\n *\n * factory.run( objects );\n *\n * trace( factory.getObject('position') ) ;\n * @param {system.ioc.ObjectConfig} [config=null] - The configuration object of the factory.\n * @param {Array} [objects=null] - The object definitions collection to initialize the factory.\n */\nexport function ObjectFactory( config = null , objects = null )\n{\n    ObjectDefinitionContainer.call(this) ;\n    Object.defineProperties( this ,\n    {\n        /**\n         * This array contains objects to fill this factory with the run or create method.\n         * @memberof system.ioc.ObjectFactory\n         * @instance\n         * @type Array\n         */\n        objects : { value : (objects instanceof Array) ? objects : null , writable : true } ,\n\n        /**\n         * @private\n         */\n        bufferSingletons : { value : [] , writable : true } ,\n\n        /**\n         * @private\n         */\n        _config : { value : null , writable : true } ,\n\n        /**\n         * @private\n         */\n        _evaluator : { value : new MultiEvaluator() } ,\n\n        /**\n         * @private\n         */\n        _singletons : { value : new ArrayMap() }\n    }) ;\n\n    this.config = config ;\n}\n\nObjectFactory.prototype = Object.create( ObjectDefinitionContainer.prototype ,\n{\n    constructor : { value :  ObjectFactory },\n\n    /**\n     * Determinates the configuration object of the object factory.\n     * @name config\n     * @memberof system.ioc.ObjectFactory\n     * @type {system.ioc.ObjectConfig}\n     * @instance\n     */\n    config :\n    {\n        get : function() { return this._config } ,\n        set : function( config )\n        {\n            if ( this._config )\n            {\n                this._config.referenceEvaluator.factory = null ;\n            }\n            this._config = (config instanceof ObjectConfig) ? config : new ObjectConfig() ;\n            this._config.referenceEvaluator.factory = this ;\n        }\n    },\n\n    /**\n     * The {@link system.data.maps.ArrayMap} representation of all <code>singletons</code> registered in this factory.\n     * @name singletons\n     * @memberof system.ioc.ObjectFactory\n     * @type {system.data.maps.ArrayMap}\n     * @instance\n     * @readonly\n     */\n    singletons : { get : function() { return this._singletons ; } } ,\n\n    /**\n     * Returns a shallow copy of this object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    clone : { value : function()\n    {\n        return new ObjectFactory( this.config , [].concat( this.objects ) ) ;\n    }},\n\n    /**\n     * Indicates if a singleton reference is register in the factory with the specified id.\n     * @param {string} id - The index expression of the singleton.\n     * @return <code>true</code> if the singleton reference is register in the factory.\n     * @name hasSingleton\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    hasSingleton : { value : function( id )\n    {\n        return this._singletons.has(id) ;\n    }},\n\n    /**\n     * This method returns an object with the specified <code>id</code> in argument.\n     * @param {string} id - The index expression of the object to returns.\n     * @return The instance of the object with the id passed in argument.\n     * @name getObject\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    getObject : { value : function( id )\n    {\n        if ( !(id instanceof String || typeof(id) === 'string') )\n        {\n           return null ;\n        }\n        let instance = null ;\n        try\n        {\n            let definition ;\n            try\n            {\n                definition = this.getObjectDefinition( id ) ;\n            }\n            catch (e)\n            {\n                // do nothing\n            }\n\n            if ( !(definition instanceof ObjectDefinition) )\n            {\n                throw new Error( \"the definition is not register in the factory\") ;\n            }\n\n            if ( definition.singleton )\n            {\n                instance = this._singletons.get(id) || null ;\n            }\n\n            if ( !instance )\n            {\n                if( !(definition.type instanceof Function) )\n                {\n                    if( definition.type instanceof String || typeof(definition.type) === 'string' )\n                    {\n                        definition.type = this.config.typeEvaluator.eval( definition.type )  ;\n                    }\n                }\n\n                if( definition.type instanceof Function )\n                {\n                    if ( definition.strategy )\n                    {\n                        instance = this.createObjectWithStrategy( definition.strategy ) ;\n                    }\n                    else\n                    {\n                        try\n                        {\n                            instance = invoke( definition.type , this.createArguments( definition.constructorArguments , definition.id ) ) ;\n                        }\n                        catch( e )\n                        {\n                            throw new Error( \"can't create the instance with the specified definition type \" + definition.type + \". The arguments limit exceeded, you can pass a maximum of 32 arguments\" ) ;\n                        }\n                    }\n\n                    if ( instance )\n                    {\n                        if( !definition.lazyType )\n                        {\n                            let check = false ;\n\n                            if( instance instanceof definition.type )\n                            {\n                                check = true ;\n                            }\n                            else if( definition.type === String )\n                            {\n                                check = (instance instanceof String) || (typeof(instance) === 'string') ;\n                            }\n                            else if( definition.type === Number )\n                            {\n                                check = (instance instanceof Number) || (typeof(instance) === 'number') ;\n                            }\n                            else if( definition.type === Boolean )\n                            {\n                                check = (instance instanceof Boolean) || (typeof(instance) === 'boolean') ;\n                            }\n\n                            if( !check )\n                            {\n                                instance = null ;\n                                throw new Error( \"the new object is not an instance of the [\" + definition.type.name + \"] constructor\" ) ;\n                            }\n                        }\n\n                        if ( definition.singleton )\n                        {\n                            this._singletons.set( id , instance ) ;\n                        }\n\n                        this.dependsOn( definition ) ; // dependencies\n\n                        this.populateIdentifiable ( instance , definition ) ; // identify\n\n                        let flag = isLockable( instance ) && ( ( definition.lock === true ) || ( this.config.lock === true && definition.lock !== false ) ) ;\n\n                        if ( flag )\n                        {\n                            instance.lock() ;\n                        }\n\n                        if( (definition.beforeListeners instanceof Array) && (definition.beforeListeners.length > 0) )\n                        {\n                            this.registerListeners( instance , definition.beforeListeners ) ;\n                        }\n\n                        if( (definition.beforeReceivers instanceof Array) && (definition.beforeReceivers.length > 0) )\n                        {\n                            this.registerReceivers( instance , definition.beforeReceivers ) ;\n                        }\n\n                        this.populateProperties( instance , definition ) ; // init properties\n\n                        if( (definition.afterListeners instanceof Array) && (definition.afterListeners.length > 0) )\n                        {\n                            this.registerListeners( instance , definition.afterListeners ) ;\n                        }\n\n                        if( (definition.afterReceivers instanceof Array) && (definition.afterReceivers.length > 0) )\n                        {\n                            this.registerReceivers( instance , definition.afterReceivers ) ;\n                        }\n\n                        if ( flag )\n                        {\n                            instance.unlock() ;\n                        }\n\n                        this.invokeInitMethod( instance , definition ) ; // init\n\n                        this.generates( definition ) ; // generates\n                    }\n                }\n                else\n                {\n                    throw new Error( \"the definition.type property is not a valid constructor\" ) ;\n                }\n            }\n        }\n        catch( er )\n        {\n            this.warn( this + \" getObject('\" + id + \"') failed, \" + er.message + \".\" ) ;\n        }\n\n        return instance || null ;\n    }},\n\n    /**\n     * Indicates if the <code>ObjectFactory</code> is dirty, must flush this buffer of not lazy-init singleton object definitions. The user must execute the run or create methods to flush this buffer.\n     * @return <code>true</code> if the factory is dirty.\n     * @name isDirty\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    isDirty : { value : function()\n    {\n        return this.bufferSingletons && (this.bufferSingletons instanceof Array) && this.bufferSingletons.length > 0 ;\n    }},\n\n    /**\n     * Indicates whether an <b>object definition</b> is to be lazily initialized.\n     * <p><b>Note:</b> The default behavior for {@link system.ioc.ObjectFactory|ObjectFactory} implementations is to eagerly pre-instantiate all singleton object definitions at startup. If the <b>object definition</b> <code>lazyInit</code> attribute is set to true, the <b>singleton</b> will not be initialized until referenced by another <b>object definition</b> or explicitly retrieved from the enclosing <b>ObjectFactory</b>. If present and set to false, the <b>object definition</b> will be instantiated on startup by factories that perform eager initialization of singletons.</p>\n     * @param {string} id - The index expression of the object to check.\n     * @return <code>true</code> if the specified object definition is lazyly initialized.\n     * @name isLazyInit\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    isLazyInit : { value : function( id )\n    {\n        if ( this.hasObjectDefinition( id ) )\n        {\n            return this.getObjectDefinition(id).lazyInit ;\n        }\n        else\n        {\n            return false ;\n        }\n    }},\n\n    /**\n     * This method defined if the scope of the specified <b>object definition</b> is <code>singleton</code>.\n     * @param {string} id - The index expression of the object to check.\n     * @return <code>true</code> if the object is a singleton.\n     * @name isSingleton\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    isSingleton : { value : function( id )\n    {\n        if ( this.hasObjectDefinition( id ) )\n        {\n            return this.getObjectDefinition(id).singleton ;\n        }\n        else\n        {\n            return false ;\n        }\n    }},\n\n    /**\n     * Removes and destroy a singleton in the <b>factory</b>.\n     * <p>Invoke the <code>destroy</code> method of this object is it's define in the <code>ObjectDefinition</code> of this singleton.</p>\n     * @param {string} id - The index expression of the object to remove.\n     * @name removeSingleton\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n      */\n    removeSingleton : { value : function( id )\n    {\n        if ( this.isSingleton(id) && this._singletons.has(id) )\n        {\n            this.invokeDestroyMethod( id ) ;\n            this._singletons.delete( id ) ;\n        }\n    }},\n\n    /**\n     * Run the initialization of the factory with new object definitions and create the not lazy-init singleton objects.\n     * @name run\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     * @example\n     * var Point = function( x , y )\n     * {\n     *     this.x = x ;\n     *     this.y = y ;\n     * };\n     *\n     * Point.prototype.test = function( message = null )\n     * {\n     *     console.log( 'test:' + this.toString() + \" message:\" + message ) ;\n     * }\n     *\n     * Point.prototype.toString = function()\n     * {\n     *     return \"[Point x:\" + this.x + \" y:\" + this.y + \"]\" ;\n     * } ;\n     *\n     * var ObjectFactory = system.ioc.ObjectFactory ;\n     *\n     * var factory = new ObjectFactory();\n     * var config  = factory.config ;\n     *\n     * config.setConfigTarget\n     * ({\n     *     origin : { x : 10 , y : 20 }\n     * })\n     *\n     * config.setLocaleTarget\n     * ({\n     *     messages :\n     *     {\n     *         test : 'test'\n     *     }\n     * })\n     *\n     * var objects =\n     * [\n     *     {\n     *         id   : \"position\" ,\n     *         type : Point ,\n     *         args : [ { value : 2 } , { ref : 'origin.y' }],\n     *         properties :\n     *         [\n     *             { name : \"x\" , ref   :'origin.x' } ,\n     *             { name : \"y\" , value : 100       }\n     *         ]\n     *     },\n     *     {\n     *         id         : \"origin\" ,\n     *         type       : Point ,\n     *         singleton  : true ,\n     *         args       : [ { config : 'origin.x' } , { value : 20 }] ,\n     *         properties :\n     *         [\n     *             { name : 'test' , args : [ { locale : 'messages.test' } ] }\n     *         ]\n     *     }\n     * ];\n     *\n     * factory.run( objects );\n     *\n     * trace( factory.getObject('position') ) ;\n     */\n    run : { value : function( ...args )\n    {\n        if ( this.running )\n        {\n            return ;\n        }\n\n        this.notifyStarted() ;\n\n        if ( args.length > 0 && (args[0] instanceof Array) )\n        {\n            this.objects = args[0] ;\n        }\n\n        if ( this.bufferSingletons === null )\n        {\n            this.bufferSingletons = [] ;\n        }\n\n        if ( (this.objects instanceof Array) && this.objects.length > 0)\n        {\n            while ( this.objects.length > 0 )\n            {\n                let init = this.objects.shift() ;\n\n                if ( init !== null )\n                {\n                    let definition = createObjectDefinition( init ) ;\n\n                    this.addObjectDefinition( definition ) ;\n\n                    if ( definition.singleton && !definition.lazyInit )\n                    {\n                        if ( this.hasObjectDefinition( definition.id ) )\n                        {\n                            this.bufferSingletons.push( String( definition.id ) ) ;\n                        }\n                    }\n                }\n                else\n                {\n                    this.warn( this + \" create new object definition failed with a 'null' or 'undefined' object.\" ) ;\n                }\n            }\n        }\n\n        // flush the buffer of singletons to initialize (no lazyInit)\n        if ( (this.bufferSingletons instanceof Array) && this.bufferSingletons.length > 0 && !this._config.lazyInit && !this.isLocked() )\n        {\n            let len = this.bufferSingletons.length ;\n            for ( let i = 0 ; i < len ; i++ )\n            {\n                this.getObject( this.bufferSingletons[i] ) ;\n            }\n            this.bufferSingletons = null ;\n        }\n\n        this.notifyFinished() ;\n    }},\n\n    /**\n     * The custom warn method of this factory to log a warning message in the application.\n     * You can overrides this method, the prototype object is dynamic.\n     * @name warn\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    warn : { value : function( ...args )\n    {\n        if ( this.config.useLogger )\n        {\n            logger.warning.apply( logger , args ) ;\n        }\n    }},\n\n    /**\n     * Creates the arguments Array representation of the specified definition.\n     * @return the arguments Array representation of the specified definition.\n     * @name createArguments\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     * @private\n     * @example\n     * let context =\n     * [\n     *     {\n     *         id   : \"position\" ,\n     *         type : Point ,\n     *         args : [ { value : 2 } , { ref : 'origin.y' } , { callback : 'listener.onChange' } ]\n     *     },\n     *     {\n     *         id   : \"origin\" ,\n     *         type : Point ,\n     *         args : [ { config : \"origin.x\" } , { locale : \"origin.y\" } ]\n     *     },\n     *     {\n     *         id   : \"listener\" ,\n     *         type : Listener\n     *     }\n     * ] ;\n     *\n     * // let position = new Point( 2 , origin.y , listener.onChange ) ;\n     */\n    createArguments : { value : function( args = null , id = null )\n    {\n        if ( args === null || !(args instanceof Array) || args.length === 0 )\n        {\n            return null ;\n        }\n\n        let stack = [] ;\n        let len = args.length ;\n\n        for ( let i = 0 ; i < len ; i++ )\n        {\n            let item = args[i] ;\n            if( item instanceof ObjectArgument )\n            {\n                let value = item.value ;\n                try\n                {\n                    let alert = null ;\n                    if ( item.policy === ObjectAttribute.CALLBACK )\n                    {\n                        let callback = value ;\n\n                        if( value instanceof String || typeof(value) === 'string' )\n                        {\n                            callback = this._config.referenceEvaluator.eval( value ) ;\n                        }\n\n                        if( callback instanceof Function )\n                        {\n                            if( item.scope )\n                            {\n                                if( item.args instanceof Array )\n                                {\n                                    callback = value.bind.apply( item.scope , [item.scope].concat( this.createArguments( item.args , id ) ) ) ;\n                                }\n                                else\n                                {\n                                    callback = value.bind( item.scope ) ;\n                                }\n                            }\n                            value = callback  ;\n                        }\n                        else\n                        {\n                            alert = ObjectAttribute.CALLBACK ;\n                            value = null ;\n                        }\n                    }\n                    if ( item.policy === ObjectAttribute.REFERENCE )\n                    {\n                        value = this._config.referenceEvaluator.eval( value ) ;\n                        if( value === null )\n                        {\n                            alert = ObjectAttribute.FACTORY ;\n                        }\n                    }\n                    else if ( item.policy === ObjectAttribute.CONFIG )\n                    {\n                        value = this._config.configEvaluator.eval( value ) ;\n                        if( value === null )\n                        {\n                            alert = ObjectAttribute.LOCALE ;\n                        }\n                    }\n                    else if ( item.policy === ObjectAttribute.LOCALE )\n                    {\n                        value = this._config.localeEvaluator.eval( value ) ;\n                        if( value === null )\n                        {\n                            alert = ObjectAttribute.LOCALE ;\n                        }\n                    }\n\n                    if( alert !== null )\n                    {\n                        this.warn( this + \" createArguments failed at the index '\" + i + \"' and return a 'null' \" + alert + \" reference, see the object definition with the id : \" + id ) ;\n                    }\n\n                    if ( item.evaluators !== null && item.evaluators.length > 0 )\n                    {\n                        value = this.eval( value , item.evaluators  ) ;\n                    }\n\n                    stack.push( value ) ;\n                }\n                catch( er )\n                {\n                    this.warn( this + \" createArguments failed in the object definition with the id : \" + id + \", \" + er.toString() ) ;\n                }\n            }\n        }\n\n        return stack ;\n    }},\n\n    /**\n     * Creates a new Object with a specified <code>ObjectFactoryStrategy</code> instance.\n     * @return A new Object with a specified <code>ObjectFactoryStrategy</code> instance.\n     * @private\n     * @name createObjectWithStrategy\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    createObjectWithStrategy : { value : function( strategy , id = null )\n    {\n        if ( !(strategy instanceof ObjectStrategy) )\n        {\n            return null ;\n        }\n\n        let name = strategy.name ;\n\n        let instance = null ;\n        let object ;\n        let ref ;\n\n        if ( strategy instanceof ObjectMethod )\n        {\n            if ( strategy instanceof ObjectStaticFactoryMethod )\n            {\n                object = strategy.type ;\n                if( object instanceof String || typeof(object) === 'string' )\n                {\n                    object = this.config.typeEvaluator.eval( object ) ;\n                }\n                if ( object && name && (name in object) && (object[name] instanceof Function) )\n                {\n                    instance = object[name].apply( object , this.createArguments( strategy.args , id ) ) ;\n                }\n            }\n            else if ( strategy instanceof ObjectFactoryMethod )\n            {\n                ref = this.getObject( strategy.factory ) ;\n                if ( ref && name && (name in ref) && (ref[name] instanceof Function) )\n                {\n                    instance = ref[name].apply( ref , this.createArguments( strategy.args , id ) ) ;\n                }\n            }\n        }\n        else if ( strategy instanceof ObjectProperty )\n        {\n            if ( strategy instanceof ObjectStaticFactoryProperty )\n            {\n                object = strategy.type ;\n                if( object instanceof String || typeof(object) === 'string' )\n                {\n                    object = this.config.typeEvaluator.eval( object ) ;\n                }\n                if ( object && name && (name in object) )\n                {\n                    instance = object[name] ;\n                }\n            }\n            else if ( strategy instanceof ObjectFactoryProperty )\n            {\n                ref = this.getObject( strategy.factory ) ;\n                if ( ref && name && (name in ref) )\n                {\n                    instance = ref[name] ;\n                }\n            }\n        }\n        else if ( strategy instanceof ObjectValue )\n        {\n            instance = strategy.value ;\n        }\n        else if ( strategy instanceof ObjectReference )\n        {\n            instance = this._config.referenceEvaluator.eval( strategy.ref ) ;\n        }\n        return instance ;\n    }},\n\n    /**\n     * Invoked to creates all object in the factory register in the dependsOn collection.\n     * <p>All objects in the dependsOn collection are initialized before the initialization of the current object build in the factory.</p>\n     * @private\n     * @name dependsOn\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    dependsOn : { value : function( definition ) // FIXME Array of String or String\n    {\n        if ( (definition instanceof ObjectDefinition) && (definition.dependsOn instanceof Array) && (definition.dependsOn.length > 0 ) )\n        {\n            let id ;\n            let len = definition.dependsOn.length ;\n            for ( let i = 0 ; i<len ; i++ )\n            {\n                id = definition.dependsOn[i] ;\n                if ( this.hasObjectDefinition(id) )\n                {\n                    this.getObject(id) ; // not keep in memory\n                }\n            }\n        }\n    }} ,\n\n    /**\n     * Evaluates a value with an Array of evaluators or Evaluable references in the factory.\n     * @param value The value to evaluate.\n     * @param evaluators The Array who contains IEvaluator objects or String ids who representing a IEvaluator in the factory.\n     * @return The new value after evaluation.\n     * @private\n     * @name eval\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    eval : { value : function( value , evaluators = null )\n    {\n        if ( !(evaluators instanceof Array) || (evaluators.length === 0) )\n        {\n            return value ;\n        }\n        this._evaluator.clear() ;\n        let o ;\n        let s = evaluators.length ;\n        let a = [] ;\n        for ( let i = 0 ; i < s ; i++ )\n        {\n            o = evaluators[i] ;\n            if ( o === null )\n            {\n                continue ;\n            }\n            if ( o instanceof String || typeof(o) === 'string' )\n            {\n                o = this.getObject( o ) ;\n            }\n            if ( o instanceof Evaluable )\n            {\n                a.push( o ) ;\n            }\n        }\n        if ( a.length > 0 )\n        {\n            this._evaluator.add( a ) ;\n            value = this._evaluator.eval( value ) ;\n            this._evaluator.clear() ;\n        }\n        return value ;\n    }},\n\n    /**\n     * Invoked to creates all object in the factory register in the generates collection.\n     * <p>All objects in the generates collection are initialized after the initialization of the current object build in the factory.</p>\n     * @private\n     * @name generates\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    generates : { value : function( definition ) // FIXME can use a String or an Array of String ?\n    {\n        if ( (definition instanceof ObjectDefinition) && ( definition.generates instanceof Array ) )\n        {\n            let ar = definition.generates ;\n            let len = ar.length ;\n            if ( len > 0 )\n            {\n                for ( let i = 0 ; i<len ; i++ )\n                {\n                   let id = ar[i] ;\n                   if ( this.hasObjectDefinition(id) )\n                   {\n                       this.getObject(id) ; // Note: not keep in memory\n                   }\n                }\n            }\n        }\n    }},\n\n    /**\n     * Invokes the destroy method of the specified object, if the <code>destroyMethodName</code> property is define in the <code>ObjectDefinition</code> object.\n     * @private\n     * @name invokeDestroyMethod\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    invokeDestroyMethod : { value : function( id )\n    {\n        if( this.hasObjectDefinition(id) && this._singletons.has(id) )\n        {\n            let definition = this.getObjectDefinition(id) ;\n            let o = this._singletons.get(id) ;\n\n            let name = definition.destroyMethodName || null ;\n            if ( name === null && this.config !== null )\n            {\n                name = this.config.defaultDestroyMethod ;\n            }\n\n            if( name && (name in o) && (o[name] instanceof Function) )\n            {\n                o[name].call(o) ;\n            }\n        }\n    }},\n\n    /**\n     * Invokes the init method of the specified object, if the init method is define in the IDefinition object.\n     * @private\n     * @name invokeInitMethod\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    invokeInitMethod : { value : function( o , definition = null )\n    {\n        if( definition && (definition instanceof ObjectDefinition) )\n        {\n            let name = definition.initMethodName || null ;\n            if ( (name === null) && this.config )\n            {\n                name = this.config.defaultInitMethod || null ;\n            }\n            if( name && (name in o) && (o[name] instanceof Function) )\n            {\n                o[name].call(o) ;\n            }\n        }\n    }},\n\n    /**\n     * Populates the <code>Identifiable</code> singleton object, if the 'identify' flag is true the config of this factory and if specified the <code>IObjectDefinition</code> object scope is singleton.\n     * @private\n     * @name populateIdentifiable\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    populateIdentifiable : { value : function( o , definition = null )\n    {\n        if( definition && (definition instanceof ObjectDefinition) )\n        {\n            if ( definition.singleton && isIdentifiable(o) )\n            {\n                if ( ( definition.identify === true ) || ( this.config.identify === true && definition.identify !== false ) )\n                {\n                    o.id = definition.id ;\n                }\n            }\n        }\n    }},\n\n    /**\n     * Populates all properties in the Map passed in argument.\n     * @private\n     * @name populateProperties\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    populateProperties : { value : function( o , definition /*ObjectDefinition*/ = null )\n    {\n        if( definition && (definition instanceof ObjectDefinition) )\n        {\n            let properties = definition.properties ;\n            if ( properties && (properties instanceof Array) && properties.length > 0 )\n            {\n                let id  = definition.id ;\n                let len = properties.length ;\n                for( let i = 0 ; i < len ; i++ )\n                {\n                    this.populateProperty( o , properties[i] , id ) ;\n                }\n            }\n        }\n    }},\n\n    /**\n     * Populates a property in the specified object with the passed-in ObjectProperty object.\n     * @param o The object to populate.\n     * @param prop The ObjectProperty used to populate the object.\n     * @param id The id of the current IObjectDefinition.\n     * @private\n     * @name populateProperty\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    populateProperty : { value : function( o , prop , id )\n    {\n        if ( o === null )\n        {\n            this.warn( this + \" populate a new property failed, the object not must be 'null' or 'undefined', see the factory with the object definition '\" + id + \"'.\" ) ;\n            return ;\n        }\n\n        let name  = prop.name ;\n        let value = prop.value ;\n\n        //////////// #init magic strategy to populate the property\n\n        if( name === MagicReference.INIT )\n        {\n            if ( (prop.policy === ObjectAttribute.REFERENCE) && (value instanceof String || typeof(value) === 'string' ))\n            {\n                value = this._config.referenceEvaluator.eval( value ) ;\n            }\n            else if ( prop.policy === ObjectAttribute.CONFIG )\n            {\n                value = this.config.configEvaluator.eval( value ) ;\n            }\n            else if ( prop.policy === ObjectAttribute.LOCALE )\n            {\n                value = this.config.localeEvaluator.eval( value) ;\n            }\n\n            if ( prop.evaluators && prop.evaluators.length > 0 )\n            {\n                value = this.eval( value , prop.evaluators ) ;\n            }\n\n            if ( value )\n            {\n                for( var member in value )\n                {\n                    if( member in o )\n                    {\n                        o[member] = value[member] ;\n                    }\n                    else\n                    {\n                        this.warn( this + \" populateProperty failed with the magic #init name, the \" + member + \" attribute is not declared on the object with the object definition '\" + id + \"'.\" ) ;\n                    }\n                }\n            }\n            else\n            {\n                this.warn( this + \" populate a new property failed with the magic #init name, the object to enumerate not must be null, see the factory with the object definition '\" + id + \"'.\" ) ;\n            }\n\n            return ;\n        }\n\n        //////////// default strategy to populate the property\n\n        if ( !( name in o ) )\n        {\n            this.warn( this + \" populate a new property failed with the \" + name + \" attribute, this property is not registered in the object, see the object definition '\" + id + \"'.\" ) ;\n            return ;\n        }\n\n        try\n        {\n            if ( prop.policy === ObjectAttribute.CALLBACK )\n            {\n                if( value instanceof String || typeof(value) === 'string' )\n                {\n                    value = this._config.referenceEvaluator.eval( value ) ;\n                    if( value === null )\n                    {\n                        this.warn( this + \" populateProperty with the name '\" + name + \"' return a null callback reference, see the object definition with the id : \" + id ) ;\n                    }\n                }\n                if( value instanceof Function )\n                {\n                    if( prop.scope )\n                    {\n                        if( prop.args instanceof Array )\n                        {\n                            value = value.bind.apply( prop.scope , [prop.scope].concat( this.createArguments( prop.args , id ) ) ) ;\n                        }\n                        else\n                        {\n                            value = value.bind( prop.scope ) ;\n                        }\n                    }\n                    value = value  ;\n                }\n                else\n                {\n                    value = null ;\n                }\n            }\n            else if( prop.policy === ObjectAttribute.REFERENCE )\n            {\n                value = this._config.referenceEvaluator.eval( value ) ;\n                if( value === null )\n                {\n                    this.warn( this + \" populateProperty with the name '\" + name + \"' return a 'null' factory reference, see the object definition with the id : \" + id ) ;\n                }\n            }\n            else if( prop.policy === ObjectAttribute.CONFIG )\n            {\n                value = this.config.configEvaluator.eval( value ) ;\n                if( value === null )\n                {\n                    this.warn( this + \" populateProperty with the name '\" + name + \"' return a 'null' config reference, see the object definition with the id : \" + id ) ;\n                }\n            }\n            else if( prop.policy === ObjectAttribute.LOCALE )\n            {\n                value = this.config.localeEvaluator.eval( value ) ;\n                if( value === null )\n                {\n                    this.warn( this + \" populateProperty with the name '\" + name + \"' return a null locale reference, see the object definition with the id : \" + id ) ;\n                }\n            }\n            else if( o[name] instanceof Function )\n            {\n                if( prop.policy === ObjectAttribute.ARGUMENTS )\n                {\n                    o[name].apply( o , this.createArguments( value , id ) ) ;\n                    return ;\n                }\n                else\n                {\n                    o[name]() ;\n                    return ;\n                }\n            }\n\n            if ( prop.evaluators && prop.evaluators.length > 0 )\n            {\n                value = this.eval( value , prop.evaluators ) ;\n            }\n\n            o[ name ] = value ;\n        }\n        catch( e )\n        {\n            this.warn( this + \" populateProperty failed with the name '\" + name + \", see the object definition '\" + id + \"', error: \" + e.toString() ) ;\n        }\n    }},\n\n    /**\n     * Initialize the listener callback of the specified object.\n     * @private\n     * @name registerListeners\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    registerListeners : { value : function( o , listeners )\n    {\n        if ( o === null || listeners === null || !(listeners instanceof Array) )\n        {\n            return ;\n        }\n        let len = listeners.length ;\n        if ( len > 0 )\n        {\n            for ( let i = 0 ; i<len ; i++ )\n            {\n                try\n                {\n                    let entry = listeners[i] ;\n\n                    let dispatcher = this._config.referenceEvaluator.eval( entry.dispatcher ) ;\n\n                    if( dispatcher && entry.type !== null )\n                    {\n                        let listener ;\n\n                        if ( dispatcher instanceof IEventDispatcher )\n                        {\n                            if ( entry.method && (entry.method in o) && (o[entry.method] instanceof Function))\n                            {\n                                listener = o[entry.method].bind(o) ;\n                            }\n                            else if( o instanceof EventListener )\n                            {\n                                listener = o ;\n                            }\n                            dispatcher.addEventListener( entry.type , listener , entry.useCapture , entry.priority ) ;\n                        }\n                        else if ( (\"addEventListener\" in dispatcher) && (dispatcher.addEventListener instanceof Function) ) // default EventDispatcher implementation\n                        {\n                            if ( entry.method && (entry.method in o) && (o[entry.method] instanceof Function))\n                            {\n                                listener = o[entry.method].bind(o) ;\n                            }\n                            else if( o instanceof EventListener )\n                            {\n                                listener = o.handleEvent.bind(o) ;\n                            }\n                            dispatcher.addEventListener( entry.type , listener , entry.useCapture ) ;\n                        }\n                    }\n                }\n                catch( e )\n                {\n                    this.warn( this + \" registerListeners failed with the target '\" + o + \"' , in the collection of this listeners at {\" + i + \"} : \" + e.toString() ) ;\n                }\n            }\n        }\n    }},\n\n    /**\n     * Initialize the receiver callback of the specified object.\n     * @private\n     * @name registerReceivers\n     * @memberof system.ioc.ObjectFactory\n     * @instance\n     * @function\n     */\n    registerReceivers : { value : function( o , receivers  = null )\n    {\n        if ( !(receivers instanceof Array) || (receivers.length === 0) )\n        {\n            return ;\n        }\n        let len = receivers.length ;\n        for( let i = 0 ; i<len ; i++ )\n        {\n            try\n            {\n                let receiver = receivers[i] ;\n                let signaler = this._config.referenceEvaluator.eval( receiver.signal ) ;\n                let slot     = null ;\n                if ( signaler instanceof Signaler )\n                {\n                    if ( (receiver.slot instanceof String || typeof(receiver.slot) === 'string') && (receiver.slot in o) && ( o[receiver.slot] instanceof Function ) )\n                    {\n                        slot = o[receiver.slot] ;\n                    }\n                    else if ( o instanceof Receiver )\n                    {\n                        slot = o ;\n                    }\n                    if ( (slot instanceof Receiver) || (slot instanceof Function) )\n                    {\n                        signaler.connect( slot , receiver.priority, receiver.autoDisconnect ) ;\n                    }\n                }\n            }\n            catch( e )\n            {\n                this.warn( this + \" registerReceivers failed with the target '\" + o + \"' , in the collection of this receivers at {\" + i + \"} : \" + e.toString() ) ;\n            }\n        }\n    }}\n}) ;","\"use strict\" ;\n\nimport { Evaluable }         from '../../Evaluable.js' ;\nimport { PropertyEvaluator } from '../../evaluators/PropertyEvaluator.js' ;\n\nimport { MagicReference }    from '../MagicReference.js' ;\nimport { ObjectFactory }     from '../ObjectFactory.js' ;\n\n/**\n * Evaluates a type string expression and return the property value who corresponding in the target object specified in this evaluator.\n * @memberof system.ioc.evaluators\n * @name ReferenceEvaluator\n * @class\n * @private\n */\nexport function ReferenceEvaluator( factory )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The factory reference.\n         * @memberof system.ioc.evaluators.ReferenceEvaluator\n         * @instance\n         */\n        factory : { value : (factory instanceof ObjectFactory) ? factory : null , writable : true } ,\n\n        /**\n         * The separator of the expression evaluator.\n         * @memberof system.ioc.evaluators.ReferenceEvaluator\n         * @instance\n         */\n        separator : { value : \".\" , writable : true } ,\n\n        /**\n         * The undefineable value returns in the eval method if the expression can't be evaluate.\n         * @memberof system.ioc.evaluators.ReferenceEvaluator\n         * @instance\n         */\n        undefineable : { value : null , writable : true } ,\n\n        /**\n         * Indicates if the class throws errors or return null when an error is throwing.\n         * @memberof system.ioc.evaluators.ReferenceEvaluator\n         * @instance\n         */\n        throwError :\n        {\n            get : function() { return this._propEvaluator.throwError ; } ,\n            set : function( flag ) { this._propEvaluator.throwError = flag ; }\n        },\n\n        /**\n         * @private\n         */\n        _propEvaluator : { value : new PropertyEvaluator() , writable : true }\n    }) ;\n}\n\nReferenceEvaluator.prototype = Object.create( Evaluable.prototype ,\n{\n    constructor : { value : ReferenceEvaluator } ,\n\n    /**\n     * Evaluates the specified object.\n     * @memberof system.ioc.evaluators.ReferenceEvaluator\n     * @function\n     * @instance\n     */\n    eval : { value : function( o )\n    {\n        if ( (this.factory instanceof ObjectFactory) && (o instanceof String || typeof(o) === 'string' ) )\n        {\n            var exp = String(o) ;\n            if ( exp.length > 0 )\n            {\n                var root ;\n\n                try\n                {\n                    root = this.factory.config.root ;\n                }\n                catch (e)\n                {\n                    //\n                }\n\n                switch( exp )\n                {\n                    case MagicReference.CONFIG :\n                    {\n                        return this.factory.config.config ;\n                    }\n                    case MagicReference.LOCALE :\n                    {\n                        return this.factory.config.locale ;\n                    }\n                    case MagicReference.PARAMS :\n                    {\n                        return this.factory.config.parameters ;\n                    }\n                    case MagicReference.THIS :\n                    {\n                        return this.factory ;\n                    }\n                    case MagicReference.ROOT :\n                    {\n                        return root ;\n                    }\n                    case MagicReference.STAGE :\n                    {\n                        var stage = this.factory.config.stage ;\n                        if ( stage !== null )\n                        {\n                            return stage ;\n                        }\n                        else if ( root && ( \"stage\" in root ) && ( root.stage !== null ) )\n                        {\n                             return root.stage ;\n                        }\n                        else\n                        {\n                            return this.undefineable ;\n                        }\n                        break ;\n                    }\n                    default :\n                    {\n                        let members = exp.split( this.separator ) ;\n                        if ( members.length > 0 )\n                        {\n                            let ref   = members.shift() ;\n                            let value = this.factory.getObject( ref ) ;\n                            if ( value && members.length > 0 )\n                            {\n                                this._propEvaluator.target = value ;\n                                value = this._propEvaluator.eval( members.join(\".\") ) ;\n                                this._propEvaluator.target = null ;\n                            }\n                            return value ;\n                        }\n                    }\n                }\n            }\n        }\n        return this.undefineable ;\n    }}\n});\n\n","\"use strict\" ;\n\n/**\n * The enumeration of all type policies in the ObjectConfig object of the ioc factory.\n * @name TypePolicy\n * @namespace system.ioc.TypePolicy\n * @memberof system.ioc\n */\nexport var TypePolicy = Object.defineProperties( {} ,\n{\n    /**\n     * Defines the <code>'alias'</code> policy value. Use it if you want use only type \"alias\" evaluation when a new object is created in the factory.\n     * @memberof system.ioc.TypePolicy\n     * @type string\n     * @default alias\n     * @const\n     */\n    ALIAS : { value : \"alias\" , enumerable : true },\n\n    /**\n     * Defines the <code>'all'</code> policy value. Use it if you want use only all evaluation filters when a new object is created in the factory.\n     * @memberof system.ioc.TypePolicy\n     * @type string\n     * @default all\n     * @const\n     */\n    ALL : { value : \"all\" , enumerable : true },\n\n    /**\n     * Defines the <code>'expression'</code> policy value. Use it if you want use only type \"expression\" evaluation when a new object is created in the factory.\n     * @memberof system.ioc.TypePolicy\n     * @type string\n     * @default expression\n     * @const\n     */\n    EXPRESSION : { value : \"expression\" , enumerable : true },\n\n    /**\n     * Defines the <code>'none'</code> policy value. Use it if you want no evaluation filter when a new object is created in the factory.\n     * @memberof system.ioc.TypePolicy\n     * @type string\n     * @default none\n     * @const\n     */\n    NONE : { value : \"none\" , enumerable : true }\n});","\"use strict\" ;\n/* jshint evil: true*/\n\nimport { getDefinitionByName } from '../../../core/reflect/getDefinitionByName.js' ;\n\nimport { ArrayMap } from '../../data/maps/ArrayMap.js' ;\nimport { Evaluable } from '../../Evaluable.js' ;\nimport { ExpressionFormatter } from '../../formatters/ExpressionFormatter.js' ;\n\nimport { ObjectConfig } from '../ObjectConfig.js' ;\nimport { TypePolicy } from '../TypePolicy.js' ;\n\n/**\n * Evaluates a type string expression and return the type Class who corresponding in the application.\n * @name TypeEvaluator\n * @class\n * @memberof system.ioc.evaluators\n * @private\n * @example\n * var conf = new ObjectConfig() ;\n *\n * conf.typePolicy  = TypePolicy.ALL ; // TypePolicy.NONE, TypePolicy.ALIAS, TypePolicy.EXPRESSION\n * conf.typeAliases =\n * [\n *     { alias : \"Signal\" , type : \"system.signals.Signal\" }\n * ] ;\n *\n * conf.typeExpression =\n * [\n *     { name:\"map\"     , value:\"system.data.maps\" } ,\n *     { name:\"ArrayMap\" , value:\"{map}.ArrayMap\"  }\n * ] ;\n *\n * var evaluator = new TypeEvaluator( conf );\n *\n * trace( evaluator.eval( \"Signal\"      ) ) ; // [class MovieClip]\n * trace( evaluator.eval( \"{ArrayMap}\"  ) ) ; // [class ArrayMap]\n * trace( evaluator.eval( \"test\"        ) ) ; // null\n * trace( evaluator.eval( \"{map}.Test\"  ) ) ; // null\n */\nexport function TypeEvaluator( config = null )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The ObjectConfig reference.\n         * @memberof system.ioc.evaluators.TypeEvaluator\n         * @instance\n         */\n        config : { value : (config instanceof ObjectConfig) ? config : null , writable : true } ,\n\n        /**\n         * Indicates if the class throws errors or return null when an error is throwing.\n         * @memberof system.ioc.evaluators.TypeEvaluator\n         * @instance\n         */\n        throwError : { value : false , writable : true }\n    }) ;\n}\n\nTypeEvaluator.prototype = Object.create( Evaluable.prototype ,\n{\n    constructor : { value : TypeEvaluator } ,\n\n    /**\n     * Evaluates the specified object.\n     * @memberof system.ioc.evaluators.TypeEvaluator\n     * @function\n     * @instance\n     */\n    eval : { value : function( o )\n    {\n        if ( o instanceof Function )\n        {\n            return o ;\n        }\n        else if ( o instanceof String || typeof(o) === 'string' )\n        {\n            var type   = String(o) ;\n            var config = this.config ;\n            if ( config && config instanceof ObjectConfig )\n            {\n                var policy = config.typePolicy ;\n                if ( policy !== TypePolicy.NONE )\n                {\n                    if ( policy === TypePolicy.ALL || policy === TypePolicy.ALIAS )\n                    {\n                        var aliases = config.typeAliases ;\n                        if ( (aliases instanceof ArrayMap) && aliases.has(type) )\n                        {\n                            type = aliases.get(type) ;\n                        }\n                    }\n\n                    if ( policy === TypePolicy.ALL || policy === TypePolicy.EXPRESSION )\n                    {\n                       if ( config.typeExpression instanceof ExpressionFormatter )\n                       {\n                           type = config.typeExpression.format(type) ;\n                       }\n                    }\n                }\n            }\n\n            try\n            {\n                var func = getDefinitionByName( type , config.domain ) ;\n                if( func instanceof Function )\n                {\n                    return func ;\n                }\n            }\n            catch( e)\n            {\n                if ( this.throwError )\n                {\n                    throw new EvalError( this + \" eval failed : \" + e.toString() ) ;\n                }\n            }\n        }\n\n        return null ;\n    }}\n});\n\n","/*jshint -W089 */\n\"use strict\" ;\n\nimport { ArrayMap }            from '../data/maps/ArrayMap.js' ;\nimport { ExpressionFormatter } from '../formatters/ExpressionFormatter.js' ;\n\nimport { ConfigEvaluator }    from './evaluators/ConfigEvaluator.js' ;\nimport { LocaleEvaluator }    from './evaluators/LocaleEvaluator.js' ;\nimport { ReferenceEvaluator } from './evaluators/ReferenceEvaluator.js' ;\nimport { TypeEvaluator }      from './evaluators/TypeEvaluator.js' ;\nimport { ObjectAttribute }    from './ObjectAttribute.js' ;\nimport { TypePolicy }         from './TypePolicy.js' ;\n\n/**\n * This object contains the configuration of the <b>IoC</b> factory.\n * @name ObjectConfig\n * @class\n * @memberof system.ioc\n * @param {Object} init - A generic object containing properties with which to populate the newly instance. If this argument is <code>null</code>, it is ignored.\n */\nexport function ObjectConfig( init = null )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The default name of destroy callback method to invoke with object definition in the ObjectFactory.\n         * @name defaultDestroyMethod\n         * @memberof system.ioc.ObjectConfig\n         * @type string\n         */\n        defaultDestroyMethod : { value : null , writable : true , enumerable : true } ,\n\n        /**\n         * The default name of init callback method to invoke with object definition in the ObjectFactory.\n         * @name defaultInitMethod\n         * @memberof system.ioc.ObjectConfig\n         * @type string\n         */\n        defaultInitMethod : { value : null , writable : true , enumerable : true } ,\n\n        /**\n         * The optional domain used in the factory to creates the objects (by default use core.global if this property is not defined).\n         * @name domain\n         * @memberof system.ioc.ObjectConfig\n         * @type Object\n         */\n        domain : { value : null , writable : true , enumerable : true } ,\n\n        /**\n         * Indicates if the singleton objects in the <code>ObjectFactory</code> are identifiy if the type of the object implements the {@link system.data.Identifiable} interface.\n         * @name identifiy\n         * @memberof system.ioc.ObjectConfig\n         * @type boolean\n         * @default false\n         */\n        identify : { value : false , writable : true , enumerable : true } ,\n\n        /**\n         * Indicates if the factory lock this <code>run</code> method and allow the flush of the singletons buffer who must be initialized when the process is finished.\n         * @name lazyInit\n         * @memberof system.ioc.ObjectConfig\n         * @type boolean\n         * @default false\n         */\n        lazyInit : { value : false , writable : true , enumerable : true } ,\n\n        /**\n         * Indicates if all the {@link system.process.Lockable} objects initialized in the <b>object definitions</b> in the <b>factory</b> must be locked during the invokation of this methods and the initialization of this properties.\n         * @name lock\n         * @memberof system.ioc.ObjectConfig\n         * @type boolean\n         * @default false\n         */\n        lock : { value : false , writable : true , enumerable : true } ,\n\n        /**\n         * The optional parameters object reference.\n         * <p>This property is optional and can be target in the <b>IoC factory</b> with the <code>\"ref\"</code> attribute with the value <code>\"#params\"</code>.</p>\n         * @name parameters\n         * @memberof system.ioc.ObjectConfig\n         */\n        parameters : { value : null , writable : true , enumerable : true } ,\n\n        /**\n         * The <code>root</code> reference of the application.\n         * <p>This property is optional and can be target in the <b>IoC factory</b> with the <code>\"ref\"</code> attribute with the value <code>\"#root\"</code>.</p>\n         * @name root\n         * @memberof system.ioc.ObjectConfig\n         */\n        root : { value : null , writable : true , enumerable : true } ,\n\n        /**\n         * The stage reference of the application.\n         * <p>This property is optional and can be target in the <b>IoC factory</b> with the <code>\"ref\"</code> attribute with the value <code>\"#stage\"</code>.</p>\n         * @name stage\n         * @memberof system.ioc.ObjectConfig\n         */\n        stage : { value : null , writable : true , enumerable : true } ,\n\n        /**\n         * Indicates if a {@link system.logging.Logger|Logger} is used in the <b>IoC factory</b> to log the warning and errors.\n         * @name useLogger\n         * @memberof system.ioc.ObjectConfig\n         * @type boolean\n         * @default false\n         */\n        useLogger : { value : false , writable : true , enumerable : true } ,\n\n        /**\n         * @private\n         */\n        _config             : { value : {} , writable : true } ,\n        _configEvaluator    : { value : new ConfigEvaluator( this ) , writable : true } ,\n        _locale             : { value : {} , writable : true } ,\n        _localeEvaluator    : { value : new LocaleEvaluator( this ) , writable : true } ,\n        _referenceEvaluator : { value : new ReferenceEvaluator() , writable : true } ,\n        _typeAliases        : { value : new ArrayMap() , writable : true } ,\n        _typeEvaluator      : { value : new TypeEvaluator( this ) , writable : true } ,\n        _typeExpression     : { value : new ExpressionFormatter() , writable : true } ,\n        _typePolicy         : { value : TypePolicy.NONE , writable : true }\n    });\n\n    this.throwError = false ;\n    if( init )\n    {\n        this.initialize( init ) ;\n    }\n}\n\nObject.defineProperties( ObjectConfig ,\n{\n    /**\n     * Defines the attribute name of the alias expression in a typeAlias object in the configuration of the ioc factory.\n     * @memberof system.ioc.ObjectConfig\n     * @type {string}\n     * @default alias\n     * @const\n     */\n    TYPE_ALIAS : { value : 'alias' , enumerable : true }\n});\n\nObjectConfig.prototype = Object.create( Object.prototype ,\n{\n    constructor : { value : ObjectConfig } ,\n\n    /**\n     * The config object reference used in the factory to register values and expressions.\n     * @name config\n     * @memberof system.ioc.ObjectConfig\n     * @type Object\n     */\n    config :\n    {\n        get : function() { return this._config ; } ,\n        set : function( init )\n        {\n            for( let prop in init )\n            {\n                this._config[prop] = init[prop] ;\n            }\n        }\n    },\n\n    /**\n     * Returns the config evaluator reference.\n     * @name configEvaluator\n     * @memberof system.ioc.ObjectConfig\n     * @type system.ioc.evaluators.ConfigEvaluator\n     * @readonly\n     */\n    configEvaluator :\n    {\n        get : function() { return this._configEvaluator ; }\n    },\n\n    /**\n     * The locale object of the factory. To evaluate locale expression in the object definitions.\n     * @name locale\n     * @memberof system.ioc.ObjectConfig\n     * @type Object\n     */\n    locale :\n    {\n        get : function() { return this._locale ; } ,\n        set : function( init )\n        {\n            for( let prop in init )\n            {\n                this._locale[prop] = init[prop] ;\n            }\n        }\n    },\n\n    /**\n     * Returns the local evaluator reference.\n     * @name locale\n     * @memberof system.ioc.ObjectConfig\n     * @type system.ioc.evaluators.LocaleEvaluator\n     * @readonly\n     */\n    localeEvaluator :\n    {\n        get : function() { return this._localeEvaluator ; }\n    },\n\n    /**\n     * Indicates the reference evaluator object.\n     * @name referenceEvaluator\n     * @memberof system.ioc.ObjectConfig\n     * @type system.ioc.evaluators.ReferenceEvaluator\n     * @readonly\n     */\n    referenceEvaluator :\n    {\n        get : function() { return this._referenceEvaluator ; }\n    },\n\n    /**\n     * Indicates if the class throws errors or return null when an error is throwing.\n     * @name throwError\n     * @memberof system.ioc.ObjectConfig\n     * @type boolean\n     */\n    throwError :\n    {\n        get : function() { return this._configEvaluator.throwError && this._localeEvaluator.throwError && this._typeEvaluator.throwError && this._referenceEvaluator.throwError ; } ,\n        set : function( flag )\n        {\n            this._configEvaluator.throwError    = flag ;\n            this._localeEvaluator.throwError    = flag ;\n            this._referenceEvaluator.throwError = flag ;\n            this._typeEvaluator.throwError      = flag ;\n        }\n    },\n\n    /**\n     * Determinates the <code>typeAliases</code> reference of this <b>config</b> object.\n     * <p>The setter of this virtual property can be populated with a TypeAliases instance or an Array of typeAliases items.</p>\n     * <p>This setter attribute don't remove the old TypeAliases instance but fill it with new aliases. If you want cleanup the aliases of this configuration object you must use the <code>typeAliases.clear()</code> method.</p>\n     * <p>The <code>typeAliases</code> items are generic objects with 2 attributes <code>alias</code> (the alias String expression) and <code>type</code> (the type String expression).</p>\n     * @name typeAliases\n     * @memberof system.ioc.ObjectConfig\n     * @example\n     * var ObjectConfig = system.ioc.ObjectConfig ;\n     *\n     * var config  = new ObjectConfig() ;\n     *\n     * config.typeAliases =\n     * [\n     *     { alias : \"Sprite\" , type : \"flash.display.Sprite\" }\n     * ] ;\n     */\n    typeAliases :\n    {\n        get : function() { return this._typeAliases ; } ,\n        set : function( aliases )\n        {\n            if ( aliases instanceof ArrayMap )\n            {\n                let it = aliases.iterator() ;\n                while( it.hasNext() )\n                {\n                    let next = it.next() ;\n                    let key  = it.key() ;\n                    this._typeAliases.set(key, next) ;\n                }\n            }\n            else if ( aliases instanceof Array )\n            {\n                let len = aliases.length ;\n                if ( len > 0 )\n                {\n                   while ( --len > -1 )\n                   {\n                        let item = aliases[len] ;\n                        if ( item !== null && ( ObjectConfig.TYPE_ALIAS in item ) && ( ObjectAttribute.TYPE in item ) )\n                        {\n                            this._typeAliases.set( String(item[ObjectConfig.TYPE_ALIAS]) , String(item[ObjectAttribute.TYPE]) ) ;\n                        }\n                   }\n                }\n            }\n        }\n    },\n\n    /**\n     * Indicates the type evaluator reference.\n     * @name typeEvaluator\n     * @memberof system.ioc.ObjectConfig\n     * @type system.ioc.evaluators.TypeEvaluator\n     * @readonly\n     */\n    typeEvaluator :\n    {\n        get : function() { return this._typeEvaluator ; }\n    },\n\n    /**\n     * Determinates the content of the <code>typeExpression</code> reference in this config object.\n     * @name typeExpression\n     * @memberof system.ioc.ObjectConfig\n     * @example <caption>Example 1 : basic usage</caption>\n     * var ObjectConfig = system.ioc.ObjectConfig ;\n     * var ExpressionFormatter = system.formatters.ExpressionFormatter ;\n     *\n     * var exp = new ExpressionFormatter() ;\n     *\n     * exp.set( \"data\"    , \"system.data\" ) ;\n     * exp.set( \"maps\"    , \"{data}.maps\" ) ;\n     * exp.set( \"HashMap\" , \"{maps}.HashMap\" ) ;\n     *\n     * var config  = new ObjectConfig() ;\n     *\n     * config.typeExpression = exp ;\n     * @example <caption>Example 2 : Use an Array of entries with the name/value members</caption>\n     * var ObjectConfig = system.ioc.ObjectConfig ;\n     *\n     * var expressions =\n     * [\n     *     { name : \"data\"    , value : \"system.data\"    } ,\n     *     { name : \"maps\"    , value : \"{data}.maps\"    } ,\n     *     { name : \"HashMap\" , value : \"{maps}.HashMap\" }\n     * ];\n     *\n     * var config = new ObjectConfig() ;\n     *\n     * config.typeExpression = expressions ;\n     */\n    typeExpression :\n    {\n        get : function() { return this._typeExpression ; } ,\n        set : function( expressions /*ExpressionFormatter|Array*/ )\n        {\n            if ( expressions instanceof ExpressionFormatter )\n            {\n                this._typeExpression = expressions ;\n            }\n            else if ( expressions instanceof Array )\n            {\n                if ( this._typeExpression === null )\n                {\n                    this._typeExpression = new ExpressionFormatter() ;\n                }\n                let len = expressions.length ;\n                if ( len > 0 )\n                {\n                   while ( --len > -1 )\n                   {\n                        let item = expressions[len] ;\n                        if ( item !== null && ( ObjectAttribute.NAME in item ) && ( ObjectAttribute.VALUE in item ) )\n                        {\n                            this._typeExpression.set( String(item[ObjectAttribute.NAME]) , String(item[ObjectAttribute.VALUE]) ) ;\n                        }\n                   }\n                }\n            }\n            else\n            {\n                this._typeExpression = new ExpressionFormatter() ;\n            }\n        }\n    },\n\n    /**\n     * Indicates the type policy of the object factory who use this configuration object.\n     * The default value of this attribute is <code>TypePolicy.NONE</code>.\n     * <p>You can use the <code>TypePolicy.NONE</code>, <code>TypePolicy.ALL</code>, <code>TypePolicy.ALIAS</code>, <code>TypePolicy.EXPRESSION</code> values.</p>\n     * @name typePolicy\n     * @memberof system.ioc.ObjectConfig\n     * @see system.ioc.TypePolicy\n     */\n    typePolicy :\n    {\n        get : function() { return this._typePolicy ; } ,\n        set : function( policy )\n        {\n            switch( policy )\n            {\n                case TypePolicy.ALIAS      :\n                case TypePolicy.EXPRESSION :\n                case TypePolicy.ALL        :\n                {\n                    this._typePolicy = policy ;\n                    break ;\n                }\n                default :\n                {\n                    this._typePolicy = TypePolicy.NONE ;\n                }\n            }\n        }\n    },\n\n    /**\n     * Initialize the config object.\n     * @name initialize\n     * @memberof system.ioc.ObjectConfig\n     * @function\n     * @instance\n     * @param {Object} init - A generic object containing properties with which to populate the newly instance. If this argument is <code>null</code>, it is ignored.\n     */\n    initialize : { value : function( init )\n    {\n        if ( init === null )\n        {\n            return ;\n        }\n        for (let prop in init)\n        {\n            if ( prop in this )\n            {\n                this[prop] = init[prop] ;\n            }\n        }\n    }},\n\n    /**\n     * This method is used to change the target of the internal config dynamic object.\n     * @name setConfigTarget\n     * @memberof system.ioc.ObjectConfig\n     * @function\n     * @instance\n     * @param {object} o - The object to target the configuration object of the <b>factory</b>.\n     */\n    setConfigTarget : { value : function( o = null )\n    {\n        this._config = o || {} ;\n    }},\n\n    /**\n     * This method is used to change the target of the internal local dynamic object.\n     * @name setLocaleTarget\n     * @memberof system.ioc.ObjectConfig\n     * @function\n     * @instance\n     * @param {object} o - The object to target the i18n object of the <b>factory</b>.\n     */\n    setLocaleTarget : { value : function( o = null )\n    {\n        this._locale = o || {} ;\n    }},\n\n    /**\n     * Returns the String representation of the object.\n     * @return the String representation of the object.\n     * @name toString\n     * @memberof system.ioc.ObjectConfig\n     * @function\n     * @instance\n     */\n    toString : { value : function() { return '[ObjectConfig]' ; } }\n});","\"use strict\" ;\n\nimport { MultiEvaluator } from '../evaluators/MultiEvaluator.js' ;\n\n/**\n * This collector register a <code>parameters</code> object reference, this object can be use to configurate the application with externals values.\n * @name Parameters\n * @class\n * @memberof system.ioc\n * @param {Object} parameters - The object to evaluates.\n */\nexport function Parameters( parameters )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * Defines the parameters object reference of the application.\n         * @name parameters\n         * @memberof system.ioc.Parameters\n         * @instance\n         * @type Object\n         */\n        parameters : { value : parameters , writable : true } ,\n\n        /**\n         * Indicates if the class throws errors or return null when an error is throwing.\n         * @name evaluators\n         * @memberof system.ioc.Parameters\n         * @instance\n         * @private\n         */\n        _evaluators : { value : new MultiEvaluator() , writable : true }\n    }) ;\n\n    this._evaluators.autoClear = true ;\n}\n\nParameters.prototype = Object.create( Object.prototype ,\n{\n    constructor : { value : Parameters },\n\n    /**\n     * Indicates if the parameters object contains the specified variable.\n     * @param {string} name - The name of the parameter to find.\n     * @return <code>true</code> if the passed-in <code>name</code> is register.\n     * @name contains\n     * @memberof system.ioc.Parameters\n     * @instance\n     * @function\n     */\n    contains : { value : function( name )\n    {\n        return this.parameters && name && (name in this.parameters) && (this.parameters[name] !== null) ;\n    }},\n\n    /**\n     * Returns the value of the specified variable in the parameters reference.\n     * @name get\n     * @memberof system.ioc.Parameters\n     * @instance\n     * @function\n     * @param {string} name - The name of the variable to resolve in the parameters reference.\n     * @param {...system.Evaluable} rest - All {@link system.Evaluable|Evaluable} objects used to evaluates and initializes the value of the specified application arguments.\n     * @example\n     * var PropertyEvaluator = system.evaluators.PropertyEvaluator ;\n     * var RomanEvaluator    = system.evaluators.RomanEvaluator ;\n     * var Parameters        = system.ioc.Parameters ;\n     *\n     * var obj = { id  : \"XII\" , metas : { count : 100 } } ;\n     *\n     * var params = new Parameters( { value : \"metas.count\" } ) ;\n     * var value  = params.get( \"value\" , new PropertyEvaluator(obj), new RomanEvaluator()) ;\n     * trace( \"result : \" + value ) ;\n     * @return the value of the specified variable in the Parameters object.\n     */\n    get : { value : function( name , ...rest )\n    {\n        if ( this.parameters && this.contains(name) )\n        {\n            if ( rest.length === 0 )\n            {\n                return this.parameters[name] ;\n            }\n            else\n            {\n                this._evaluators.add( rest ) ;\n                return this._evaluators.eval( this.parameters[name] ) ;\n            }\n        }\n        else\n        {\n            return null ;\n        }\n    }},\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @name toString\n     * @memberof system.ioc.Parameters\n     * @instance\n     * @function\n     */\n    toString : { value : function () { return '[Parameters]' ; }}\n}) ;","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { logger } from './ioc/logger.js' ;\n\nimport { MagicReference }   from './ioc/MagicReference.js' ;\nimport { ObjectArgument }   from './ioc/ObjectArgument.js' ;\nimport { ObjectAttribute }  from './ioc/ObjectAttribute.js' ;\nimport { ObjectConfig }     from './ioc/ObjectConfig.js' ;\nimport { ObjectDefinition } from './ioc/ObjectDefinition.js' ;\nimport { ObjectDefinitionContainer } from './ioc/ObjectDefinitionContainer.js' ;\nimport { ObjectFactory }    from './ioc/ObjectFactory.js' ;\nimport { ObjectListener }   from './ioc/ObjectListener.js' ;\nimport { ObjectMethod }     from './ioc/ObjectMethod.js' ;\nimport { ObjectOrder }      from './ioc/ObjectOrder.js' ;\nimport { ObjectScope }      from './ioc/ObjectScope.js' ;\nimport { ObjectProperty }   from './ioc/ObjectProperty.js' ;\nimport { ObjectReceiver }   from './ioc/ObjectReceiver.js' ;\nimport { Parameters }       from './ioc/Parameters.js' ;\nimport { TypePolicy }       from './ioc/TypePolicy.js' ;\n\n/**\n * The {@link system.ioc} library provides a simple and strong implementation of the <strong>Inversion of Control</strong> (<b>{@link https://en.wikipedia.org/wiki/Inversion_of_control|IoC}</b>) principle.\n * <p><b>IoC</b> is also known as <b>dependency injection</b> (DI). It is a process whereby objects define their dependencies, that is, the other objects they work with, only through constructor arguments, arguments to a factory method, or properties that are set on the object instance after it is constructed or returned from a factory method.</p>\n * <p> The container then injects those dependencies when it creates the <b>object definitions</b>. This process is fundamentally the inverse, hence the name Inversion of Control (IoC), of the <b>object definition</b> itself controlling the instantiation or location of its dependencies by using direct construction of classes, or a more complex mechanism.</p>\n * @summary The {@link system.ioc} library provides a simple et strong implementation of the <strong>Inversion of Control</strong> (<b>{@link https://en.wikipedia.org/wiki/Inversion_of_control|IoC}</b>) principle.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace system.ioc\n * @memberof system\n * @example\n * var Point = function( x , y )\n * {\n *     this.x = x ;\n *     this.y = y ;\n *     console.log(\"constructor:\" + this.toString() ) ;\n * };\n *\n * Point.prototype.test = function( message = null )\n * {\n *     console.log( 'test:' + this.toString() + \" message:\" + message ) ;\n * }\n *\n * Point.prototype.toString = function()\n * {\n *     return \"[Point x:\" + this.x + \" y:\" + this.y + \"]\" ;\n * } ;\n *\n * var ObjectFactory = system.ioc.ObjectFactory ;\n *\n * var factory = new ObjectFactory();\n * var config  = factory.config ;\n *\n * config.setConfigTarget\n * ({\n *     origin : { x : 10 , y : 20 }\n * })\n *\n * config.setLocaleTarget\n * ({\n *     messages :\n *     {\n *         test : 'test'\n *     }\n * })\n *\n * var objects =\n * [\n *     {\n *         id   : \"position\" ,\n *         type : \"Point\" ,\n *         args : [ { value : 2 } , { ref : 'origin.y' }],\n *         properties :\n *         [\n *             { name : \"x\" , ref   :'origin.x' } ,\n *             { name : \"y\" , value : 100       }\n *         ]\n *     },\n *     {\n *         id         : \"origin\" ,\n *         type       : \"Point\" ,\n *         singleton  : true ,\n *         args       : [ { config : 'origin.x' } , { value : 20 }] ,\n *         properties :\n *         [\n *             { name : 'test' , args : [ { locale : 'messages.test' } ] }\n *         ]\n *     }\n * ];\n *\n * factory.run( objects );\n *\n * trace( factory.getObject('position') ) ;\n */\nexport var ioc = Object.assign\n({\n    // singleton\n    logger : logger ,\n\n    // classes\n    MagicReference   : MagicReference,\n    ObjectArgument   : ObjectArgument,\n    ObjectAttribute  : ObjectAttribute,\n    ObjectConfig     : ObjectConfig,\n    ObjectDefinition : ObjectDefinition,\n    ObjectDefinitionContainer : ObjectDefinitionContainer,\n    ObjectFactory    : ObjectFactory,\n    ObjectListener   : ObjectListener,\n    ObjectMethod     : ObjectMethod,\n    ObjectOrder      : ObjectOrder,\n    ObjectProperty   : ObjectProperty,\n    ObjectReceiver   : ObjectReceiver,\n    ObjectScope      : ObjectScope,\n    Parameters       : Parameters,\n    TypePolicy       : TypePolicy\n}) ;","\"use strict\" ;\n\nimport { Logger } from './Logger.js' ;\n\n/**\n * Indicates if the specific objet is {@link system.logging.Loggable|Loggable}.\n * @name isLoggable\n * @memberof system.logging\n * @function\n * @instance\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is <code>Loggable</code>.\n */\nexport function isLoggable( target )\n{\n    if( target )\n    {\n        return target instanceof Loggable ||\n               (( 'logger' in target ) && ((target.logger === null ) || ( target.logger instanceof Logger )) )  ;\n    }\n    return false ;\n}\n\n/**\n * Implementing this interface allows an object who use a {@link system.logging.Logger|Logger} object.\n * @name Loggable\n * @memberof system.logging\n * @interface\n */\nexport function Loggable()\n{\n    Object.defineProperties( this ,\n    {\n        _logger : { value : null , writable : true }\n    }) ;\n}\n\nLoggable.prototype = Object.create( Object.prototype ,\n{\n    constructor : { value : Loggable } ,\n\n    /**\n     * Determinates the internal <code>Logger</code> reference of this <code>Loggable</code> object.\n     * @name logger\n     * @memberof system.logging.Loggable\n     * @type {system.logging.Logger}\n     * @instance\n     */\n    logger :\n    {\n        get : function() { return this._logger ; },\n        set : function( logger )\n        {\n            this._logger = (logger instanceof Logger) ? logger : null ;\n        }\n    }\n});","\"use strict\" ;\n\nimport { LoggerLevel }  from '../LoggerLevel.js' ;\nimport { LoggerTarget } from '../LoggerTarget.js' ;\n\n/**\n * All logger target implementations that have a formatted line style output should extend this class. It provides default behavior for including date, time, channel, and level within the output.\n * @name LineFormattedTarget\n * @memberof system.logging.targets\n * @class\n * @extends system.logging.LoggerTarget\n * @param {Object} init - A generic object containing properties with which to populate the newly instance. If this argument is <code>null</code>, it is ignored.\n */\nexport function LineFormattedTarget( init = null )\n{\n    LoggerTarget.call( this ) ;\n\n    Object.defineProperties( this ,\n    {\n        _lineNumber : { value : 1 , writable : true }\n    }) ;\n\n    /**\n     * Indicates if the channel for this target should added to the trace.\n     * @name includeChannel\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @instance\n     * @type boolean\n     * @default false\n     */\n    this.includeChannel = false ;\n\n    /**\n     * Indicates if the date should be added to the trace.\n     * @name includeDate\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @instance\n     * @type boolean\n     * @default false\n     */\n    this.includeDate = false ;\n\n    /**\n     * Indicates if the level for the event should added to the trace.\n     * @name includeLevel\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @instance\n     * @type boolean\n     * @default false\n     */\n    this.includeLevel = false ;\n\n    /**\n     * Indicates if the line for the event should added to the trace.\n     * @name includeLines\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @instance\n     * @type boolean\n     * @default false\n     */\n    this.includeLines = false ;\n\n    /**\n     * Indicates if the milliseconds should be added to the trace. Only relevant when includeTime is <code>true</code>.\n     * @name includeMilliseconds\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @instance\n     * @type boolean\n     * @default false\n     */\n    this.includeMilliseconds = false ;\n\n    /**\n     * Indicates if the time should be added to the trace.\n     * @name includeTime\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @instance\n     * @type boolean\n     * @default false\n     */\n    this.includeTime = false ;\n\n    /**\n     * The separator string.\n     * @name separator\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @instance\n     * @type string\n     * @default\n     */\n    this.separator = \" \" ;\n\n    if( init )\n    {\n        for( var prop in init )\n        {\n            if ( this.hasOwnProperty(prop) )\n            {\n                this[prop] = init[prop] ;\n            }\n        }\n    }\n}\n\nLineFormattedTarget.prototype = Object.create( LoggerTarget.prototype ,\n{\n    constructor : { value : LineFormattedTarget , writable : true } ,\n\n    /**\n     * Descendants of this class should override this method to direct the specified message to the desired output.\n     * @param {string} message - String containing preprocessed log message which may include time, date, channel, etc.\n     * based on property settings, such as <code>includeDate</code>, <code>includeChannel</code>, etc.\n     * @param {system.logging.LoggerLevel} level - The level of the log message.\n     * @name internalLog\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @function\n     * @instance\n     */\n    internalLog : { value : function( message , level ) //jshint ignore:line\n    {\n        // override this method\n    }},\n\n    /**\n     * Returns the String representation of the object.\n     * @return the String representation of the object.\n     * @name toString\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @function\n     * @instance\n     */\n    toString : { writable : true , value : function() { return '[' + this.constructor.name + ']' ; } } ,\n\n    /**\n     *  This method receive a <code>LoggerEntry</code> from an associated logger.\n     *  A target uses this method to translate the event into the appropriate format for transmission, storage, or display.\n     *  This method will be called only if the event's level is in range of the target's level.\n     *  <b><i>Descendants need to override this method to make it useful.</i></b>\n     * @name logEntry\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @function\n     * @instance\n     */\n    logEntry : { value : function( entry )\n    {\n        var message = this.formatMessage\n        (\n            entry.message,\n            LoggerLevel.getLevelString( entry.level ),\n            entry.channel ,\n            new Date()\n        ) ;\n        this.internalLog( message , entry.level ) ;\n    }},\n\n    /**\n     * Resets the internal line number value (set to <code>1</code>).\n     * @name resetLineNumber\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @function\n     * @instance\n     */\n    resetLineNumber : { value : function()\n    {\n        this._lineNumber = 1 ;\n    }},\n\n    /////////\n\n    /**\n     * This method format the passed Date in arguments.\n     * @name formatDate\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @function\n     * @instance\n     * @protected\n     */\n    formatDate : { value : function( d )\n    {\n        var date  = \"\" ;\n        date += this.getDigit( d.getDate() ) ;\n        date += \"/\" + this.getDigit( d.getMonth() + 1 ) ;\n        date += \"/\" + d.getFullYear() ;\n        return date ;\n    }},\n\n    /**\n     * This method format the passed level in arguments.\n     * @name formatLevel\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @function\n     * @instance\n     * @protected\n     */\n    formatLevel : { value : function( level  )\n    {\n        return '[' + level + ']' ;\n    }},\n\n    /**\n     * This method format the current line value.\n     * @name formatLines\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @function\n     * @instance\n     * @protected\n     */\n    formatLines : { value : function()\n    {\n        return \"[\" + this._lineNumber++ + \"]\" ;\n    }},\n\n    /**\n     * This method format the log message.\n     * @name formatMessage\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @function\n     * @instance\n     * @protected\n     */\n    formatMessage : { value : function( message , level  , channel  , date /*Date*/ )\n    {\n        var msg = \"\" ;\n        if (this.includeLines)\n        {\n            msg += this.formatLines() + this.separator ;\n        }\n        if( this.includeDate || this.includeTime )\n        {\n            date = date || new Date() ;\n            if (this.includeDate)\n            {\n                msg += this.formatDate(date) + this.separator ;\n            }\n            if (this.includeTime)\n            {\n                msg += this.formatTime(date) + this.separator ;\n            }\n        }\n        if (this.includeLevel)\n        {\n            msg += this.formatLevel(level || \"\" ) + this.separator ;\n        }\n        if ( this.includeChannel )\n        {\n            msg += ( channel || \"\" ) + this.separator ;\n        }\n        msg += message ;\n        return msg ;\n    }},\n\n    /**\n     * This method format the current Date passed in argument.\n     * @name formatTime\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @function\n     * @instance\n     * @protected\n     */\n    formatTime : { value : function( d )\n    {\n        var time  = \"\" ;\n        time += this.getDigit(d.getHours()) ;\n        time += \":\" + this.getDigit(d.getMinutes()) ;\n        time += \":\" + this.getDigit(d.getSeconds()) ;\n        if( this.includeMilliseconds )\n        {\n            time += \":\" + this.getDigit( d.getMilliseconds() ) ;\n        }\n        return time ;\n    }},\n\n    /**\n     * Returns the string representation of a number and use digit conversion.\n     * @return the string representation of a number and use digit conversion.\n     * @name getDigit\n     * @memberof system.logging.targets.LineFormattedTarget\n     * @function\n     * @instance\n     * @protected\n     */\n    getDigit : { value : function( n )\n    {\n        if ( isNaN(n) )\n        {\n            return \"00\" ;\n        }\n        return ((n < 10) ? \"0\" : \"\") + n ;\n    }}\n});","\"use strict\" ;\n\nimport { LoggerLevel } from '../LoggerLevel.js' ;\nimport { LineFormattedTarget } from './LineFormattedTarget.js' ;\n\n/**\n * Provides a logger target that uses the global trace() method to output log messages.\n * @name ConsoleTarget\n * @memberof system.logging.targets\n * @class\n * @extends system.logging.targets.LineFormattedTarget\n * @param {Object} init - A generic object containing properties with which to populate the newly instance. If this argument is <code>null</code>, it is ignored.\n * @example\n * var Log           = system.logging.Log ;\n * var LoggerLevel   = system.logging.LoggerLevel ;\n * var ConsoleTarget = system.logging.targets.TraceTarget ;\n *\n * var target = new ConsoleTarget\n * ({\n *     includeChannel      : true  ,\n *     includeDate         : false  ,\n *     includeLevel        : true  ,\n *     includeLines        : true  ,\n *     includeMilliseconds : true  ,\n *     includeTime         : true\n * }) ;\n *\n * target.filters = [\"*\"] ;\n * target.level   = LoggerLevel.ALL ;\n *\n * var logger = Log.getLogger('test') ;\n *\n * logger.log( \"Here is some myDebug info : {0} and {1}\", 2.25 , true ) ;\n * logger.debug( \"Here is some debug message.\" ) ;\n * logger.info( \"Here is some info message.\" ) ;\n * logger.warning( \"Here is some warn message.\" ) ;\n * logger.error( \"Here is some error message.\" ) ;\n * logger.critical( \"Here is some critical error...\" ) ;\n *\n * target.includeDate    = false ;\n * target.includeTime    = false ;\n * target.includeChannel = false ;\n *\n * logger.info( \"test : [{0}, {1}, {2}]\", 2, 4, 6 ) ;\n */\nexport function ConsoleTarget( init = null )\n{\n    LineFormattedTarget.call( this , init ) ;\n}\n\nConsoleTarget.prototype = Object.create( LineFormattedTarget.prototype ,\n{\n    constructor : { value : ConsoleTarget } ,\n\n    /**\n     * Descendants of this class should override this method to direct the specified message to the desired output.\n     * @param {string} message - String containing preprocessed log message which may include time, date, channel, etc.\n     * based on property settings, such as <code>includeDate</code>, <code>includeChannel</code>, etc.\n     * @param {system.logging.LoggerLevel} level - The level of the log message.\n     * @name internalLog\n     * @memberof system.logging.targets.ConsoleTarget\n     * @function\n     * @instance\n     */\n    internalLog : { value : function( message , level ) //jshint ignore:line\n    {\n        if( console )\n        {\n            switch( level )\n            {\n                case LoggerLevel.CRITICAL :\n                {\n                    console.trace( message ) ;\n                    break ;\n                }\n                case LoggerLevel.DEBUG :\n                {\n                    if( console.debug )\n                    {\n                        console.debug( message ) ;\n                    }\n                    else if ( console.trace )\n                    {\n                        console.trace( message ) ;\n                    }\n                    break ;\n                }\n                case LoggerLevel.ERROR :\n                {\n                    console.error( message ) ;\n                    break ;\n                }\n                case LoggerLevel.INFO :\n                {\n                    console.info( message ) ;\n                    break ;\n                }\n                case LoggerLevel.WARNING :\n                {\n                    console.warn( message ) ;\n                    break ;\n                }\n                default :\n                case LoggerLevel.ALL :\n                {\n                    console.log( message ) ;\n                    break ;\n                }\n            }\n        }\n        else\n        {\n            throw new new ReferenceError('The console reference is unsupported.') ;\n        }\n    }}\n});\n","\"use strict\" ;\n\nimport { trace } from '../../../core/trace.js' ;\nimport { LineFormattedTarget } from './LineFormattedTarget.js' ;\n\n/**\n * Provides a logger target that uses the global trace() method to output log messages.\n * @name TraceTarget\n * @memberof system.logging.targets\n * @class\n * @extends system.logging.targets.LineFormattedTarget\n * @param {Object} init - A generic object containing properties with which to populate the newly instance. If this argument is <code>null</code>, it is ignored.\n * @example\n * var Log         = system.logging.Log ;\n * var LoggerLevel = system.logging.LoggerLevel ;\n * var TraceTarget = system.logging.targets.TraceTarget ;\n *\n * var target = new TraceTarget\n * ({\n *     includeChannel      : true  ,\n *     includeDate         : false  ,\n *     includeLevel        : true  ,\n *     includeLines        : true  ,\n *     includeMilliseconds : true  ,\n *     includeTime         : true\n * }) ;\n *\n * target.filters = [\"*\"] ;\n * target.level   = LoggerLevel.ALL ;\n *\n * var logger = Log.getLogger('test') ;\n *\n * logger.log( \"Here is some myDebug info : {0} and {1}\", 2.25 , true ) ;\n * logger.debug( \"Here is some debug message.\" ) ;\n * logger.info( \"Here is some info message.\" ) ;\n * logger.warning( \"Here is some warn message.\" ) ;\n * logger.error( \"Here is some error message.\" ) ;\n * logger.critical( \"Here is some critical error...\" ) ;\n *\n * target.includeDate    = false ;\n * target.includeTime    = false ;\n * target.includeChannel = false ;\n *\n * logger.info( \"test : [{0}, {1}, {2}]\", 2, 4, 6 ) ;\n */\nexport function TraceTarget( init = null )\n{\n    LineFormattedTarget.call( this , init ) ;\n}\n\nTraceTarget.prototype = Object.create( LineFormattedTarget.prototype ,\n{\n    constructor : { value : TraceTarget } ,\n\n    /**\n     * Descendants of this class should override this method to direct the specified message to the desired output.\n     * @param {string} message - String containing preprocessed log message which may include time, date, channel, etc.\n     * based on property settings, such as <code>includeDate</code>, <code>includeChannel</code>, etc.\n     * @param {system.logging.LoggerLevel} level - The level of the log message.\n     * @name internalLog\n     * @memberof system.logging.targets.TraceTarget\n     * @function\n     * @instance\n     */\n    internalLog : { value : function( message , level ) //jshint ignore:line\n    {\n        trace( message ) ;\n    }}\n});\n","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { isLoggable } from './logging/Loggable.js' ;\n\nimport { Log }           from './logging/Log.js' ;\nimport { Loggable }      from './logging/Loggable.js' ;\nimport { Logger }        from './logging/Logger.js' ;\nimport { LoggerEntry }   from './logging/LoggerEntry.js' ;\nimport { LoggerFactory } from './logging/LoggerFactory.js' ;\nimport { LoggerLevel }   from './logging/LoggerLevel.js' ;\nimport { LoggerTarget }  from './logging/LoggerTarget.js' ;\n\nimport { ConsoleTarget }       from './logging/targets/ConsoleTarget.js' ;\nimport { LineFormattedTarget } from './logging/targets/LineFormattedTarget.js' ;\nimport { TraceTarget }         from './logging/targets/TraceTarget.js' ;\n\n/**\n * The {@link system.logging} library defines functions and classes which implement a flexible event logging system for applications and libraries.\n * @summary The {@link system.logging} library defines functions and classes which implement a flexible event logging system for applications and libraries.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace system.logging\n * @memberof system\n * @example\n * var logger = Log.getLogger('channel') ;\n *\n * var target = new ConsoleTarget\n * ({\n *     includeChannel      : true  ,\n *     includeDate         : false ,\n *     includeLevel        : true  ,\n *     includeLines        : true  ,\n *     includeMilliseconds : true  ,\n *     includeTime         : true\n * }) ;\n *\n * target.filters = ['*'] ;\n * target.level   = LoggerLevel.ALL ;\n *\n * logger.debug( 'hello {0}, love it.' , 'VEGAS' ) ;\n * logger.critical( 'hello {0}, it\\'s critical.' , 'VEGAS' ) ;\n * logger.info( 'hello, my name is {0}' , 'VEGAS' ) ;\n * logger.error( 'hello {0}, an error is invoked.' , 'VEGAS' ) ;\n * logger.warning( 'hello {0}, don\\'t forget me.' , 'VEGAS' ) ;\n * logger.wtf( 'hello {0} ! WHAT ??' , 'VEGAS' ) ;\n */\nexport var logging = Object.assign\n({\n    isLoggable : isLoggable ,\n\n    Log           : Log ,\n    Loggable      : Loggable ,\n    Logger        : Logger ,\n    LoggerEntry   : LoggerEntry ,\n    LoggerFactory : LoggerFactory ,\n    LoggerLevel   : LoggerLevel ,\n    LoggerTarget  : LoggerTarget,\n\n    /**\n     * This package contains all {@link system.logging.LoggerTarget|LoggerTarget}> implementations are used to display, store, or pass log messages to another destination.\n     * @summary This package contains all <b>LoggerTarget</b> implementations are used to display, store, or pass log messages to another destination.\n     * @namespace system.logging.targets\n     * @memberof system.logging\n     */\n    targets : Object.assign\n    ({\n        ConsoleTarget,\n        LineFormattedTarget,\n        TraceTarget\n    })\n}) ;","\"use strict\" ;\n\n/**\n * Indicates if the specific objet is a {@link system.rules.Rule} object and contains an <code>eval</code> method.\n * @memberof system.rules\n * @function\n * @param {Object} target - The object to validate.\n * @return <code>true</code> if the object is a {@link system.rules.Rule} instance.\n */\nexport function isRule( target )\n{\n    if( target )\n    {\n        return (target instanceof Rule) || (( 'eval' in target ) && ( target.eval instanceof Function ))  ;\n    }\n    return false ;\n}\n\n/**\n * Defines the rule to evaluate a basic or complex condition.\n * @name Rule\n * @memberof system.rules\n * @interface\n * @extends Object\n */\nexport function Rule() {}\n\nRule.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Rule } ,\n\n    /**\n     * Evaluates the specified condition.\n     * @name eval\n     * @memberof system.rules.Rule\n     * @function\n     * @instance\n     */\n    eval : { writable : true , value : function()\n    {\n        //\n    }},\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @name toString\n     * @memberof system.rules.Rule\n     * @function\n     * @instance\n     */\n    toString : { value : function()\n    {\n        return '[' + this.constructor.name + ']' ;\n    }}\n});","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates a type string expression and return the property value who corresponding in the target object specified in this evaluator.\n * @name BooleanRule\n * @memberof system.rules\n * @class\n * @constructs\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @example\n * var BooleanRule = system.rules.BooleanRule ;\n *\n * var cond1 = new BooleanRule( true  ) ;\n * var cond2 = new BooleanRule( false ) ;\n * var cond3 = new BooleanRule( cond1 ) ;\n *\n * trace( cond1.eval() ) ; // true\n * trace( cond2.eval() ) ; // false\n * trace( cond3.eval() ) ; // true\n */\nexport function BooleanRule( condition )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The condition to evaluate.\n         * @memberof system.rules.BooleanRule\n         * @type {boolean|system.rules.Rule}\n         * @instance\n         */\n        condition : { value : condition , enumerable : true , writable : true }\n    });\n}\n\nBooleanRule.prototype = Object.create( Rule.prototype );\nBooleanRule.prototype.constructor = BooleanRule ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.BooleanRule\n * @inheritdoc\n */\nBooleanRule.prototype.eval = function ()\n{\n    return ( this.condition instanceof Rule ) ? this.condition.eval() : Boolean( this.condition ) ;\n}","\"use strict\" ;\n\nimport { BooleanRule } from '../rules/BooleanRule.js' ;\nimport { Rule } from '../rules/Rule.js' ;\n\n/**\n * Defines a conditional rule to defines an <code>elseif</code> block in a {@link system.logics.IfTask|IfTask} reference.\n * @name ElseIf\n * @memberof system.logics\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @class\n * @param {system.rules.Rule} [rule=null] - The condition to evaluate.\n * @param {system.process.Action} [then=null] - The action to execute if the condition is <code>true</code>.\n */\nexport function ElseIf( rule = null , then = null )\n{\n    /**\n     * The condition to evaluate.\n     * @memberof system.rules.ElseIf\n     * @name rule\n     * @type system.rules.Rule\n     * @instance\n     * @default null\n     */\n    this.rule = ( rule instanceof Rule ) ? rule : new BooleanRule( rule ) ;\n\n    /**\n     * The {@link system.process.Action|Action} to execute if the condition is <code>true</code>.\n     * @memberof system.rules.ElseIf\n     * @name then\n     * @type system.process.Action\n     * @instance\n     * @default null\n     */\n    this.then = then ;\n}\n\nElseIf.prototype = Object.create( Rule.prototype ,\n{\n    constructor : { value : ElseIf , writable : true } ,\n\n    /**\n     * Evaluates the specified object.\n     * @name eval\n     * @memberof system.rules.ElseIf\n     * @function\n     * @instance\n     */\n    eval : { writable : true , value : function ()\n    {\n        if ( this.rule && this.rule instanceof Rule )\n        {\n            return this.rule.eval() ;\n        }\n        else\n        {\n            return false ;\n        }\n    }}\n});","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates if the value is an empty String.\n * @name EmptyString\n * @memberof system.rules\n * @class\n * @constructs\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @param {string} value - The value to evaluate.\n * @example\n * var EmptyString = system.rules.EmptyString ;\n *\n * var cond1 = new EmptyString( null ) ;\n * var cond2 = new EmptyString( \"\" ) ;\n * var cond3 = new EmptyString( \"hello\" ) ;\n *\n * trace( cond1.eval() ) ; // false\n * trace( cond2.eval() ) ; // true\n * trace( cond3.eval() ) ; // false\n */\nexport function EmptyString( value = null )\n{\n    /**\n     * @memberof system.rules.EmptyString\n     * @name value\n     * @type {string}\n     * @instance\n     */\n    this.value = value ;\n}\n\nEmptyString.prototype = Object.create( Rule.prototype );\nEmptyString.prototype.constructor = EmptyString ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.EmptyString\n * @inheritdoc\n */\nEmptyString.prototype.eval = function ()\n{\n    return this.value === \"\" ;\n}","\"use strict\" ;\n\nimport { EmptyString } from '../rules/EmptyString.js' ;\n\nimport { ElseIf } from './ElseIf.js' ;\n\n/**\n * Evaluates if the value is an empty String.\n * @name ElseIfEmptyString\n * @memberof system.logics\n * @extends system.logics.ElseIf\n * @class\n * @param {Object} [value=null] - The value to evaluate.\n * @param {system.process.Action} [then=null] - The action to execute if the value is an empty <code>string</code>.\n * @see system.rules.EmptyString\n */\nexport function ElseIfEmptyString( value = null , then = null  )\n{\n    ElseIf.call( this , new EmptyString(value) , then ) ;\n}\n\nElseIfEmptyString.prototype = Object.create( ElseIf.prototype ,\n{\n    constructor : { writable : true , value : ElseIfEmptyString }\n});","\"use strict\" ;\n\nimport { isEquatable } from '../Equatable.js' ;\nimport { Rule } from './Rule.js' ;\n\n/**\n * Used to perform a logical conjunction on two conditions and more.\n * @name Equals\n * @memberof system.rules\n * @class\n * @constructs\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @param {Object|system.rules.Rule|system.Equatable} [value1=null] - The first value to evaluate.\n * @param {Object|system.rules.Rule|system.Equatable} [value2=null] - The second value to evaluate.\n * @example\n * var BooleanRule = system.rules.BooleanRule ;\n * var Equals      =  system.rules.Equals ;\n *\n * var e ;\n *\n * ///// Compares objects.\n *\n * e = new Equals( 1 , 1 ) ;\n * trace( e.eval() ) ; // true\n *\n * e = new Equals( 1 , 2 ) ;\n * trace( e.eval() ) ; // false\n *\n * ///// Compares Rule objects.\n *\n * var cond1 = new BooleanRule( true  ) ;\n * var cond2 = new BooleanRule( false ) ;\n * var cond3 = new BooleanRule( true  ) ;\n *\n * e = new Equals( cond1 , cond1 ) ;\n * trace( e.eval() ) ; // true\n *\n * e = new Equals( cond1 , cond2 ) ;\n * trace( e.eval() ) ; // false\n *\n * e = new Equals( cond1 , cond3 ) ;\n * trace( e.eval() ) ; // true\n *\n * ///// Compares Equatable objects.\n *\n * var equals = function( o )\n * {\n *     return this.id === o.id ;\n * }\n *\n * var o1 = { id:1 , equals:equals } ;\n * var o2 = { id:2 , equals:equals } ;\n * var o3 = { id:1 , equals:equals } ;\n *\n * e = new Equals( o1 , o1 ) ;\n * trace( e.eval() ) ; // true\n *\n * e = new Equals( o1 , o2 ) ;\n * trace( e.eval() ) ; // false\n *\n * e = new Equals( o1 , o3 ) ;\n * trace( e.eval() ) ; // true\n */\nexport function Equals( value1 = null , value2 = null )\n{\n    /**\n     * The first value to evaluate.\n     * @memberof system.rules.Equals\n     * @name value1\n     * @type {Object|system.rules.Rule|system.Equatable}\n     * @instance\n     * @default null\n     */\n    this.value1 = value1 ;\n    /**\n     * The second value to evaluate.\n     * @memberof system.rules.Equals\n     * @name value2\n     * @type {Object|system.rules.Rule|system.Equatable}\n     * @instance\n     * @default null\n     */\n    this.value2 = value2 ;\n}\n\nEquals.prototype = Object.create( Rule.prototype );\nEquals.prototype.constructor = Equals ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.Equals\n * @inheritdoc\n */\nEquals.prototype.eval = function ()\n{\n    if ( this.value1 === this.value2 )\n    {\n        return true ;\n    }\n    else if ( (this.value1 instanceof Rule) && (this.value2 instanceof Rule) )\n    {\n        return this.value1.eval() === this.value2.eval() ;\n    }\n    else if ( isEquatable(this.value1) )\n    {\n        return this.value1.equals( this.value2 ) ;\n    }\n    else\n    {\n        return false ;\n    }\n}","\"use strict\" ;\n\nimport { Equals } from '../rules/Equals.js' ;\n\nimport { ElseIf } from './ElseIf.js' ;\n\n/**\n * Defines an equality between two values in an <elseif> conditional block.\n * @name ElseIfEquals\n * @memberof system.logics\n * @extends system.logics.ElseIf\n * @class\n * @param {Object} [value1] - The condition to evaluate.\n * @param {Object} [value2] - The condition to evaluate.\n * @param {system.process.Action} [then=null] - The action to execute if the two values are equals.\n * @see system.rules.Equals\n */\nexport function ElseIfEquals( value1 , value2 , then = null  )\n{\n    ElseIf.call( this , new Equals(value1, value2) , then ) ;\n}\n\nElseIfEquals.prototype = Object.create( ElseIf.prototype ,\n{\n    constructor : { writable : true , value : ElseIfEquals }\n});","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates if the condition is false.\n * @name False\n * @memberof system.rules\n * @class\n * @constructs\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @param {boolean|system.rules.Rule} value - The value to evaluate.\n * @example\n * var False = system.rules.False ;\n *\n * var cond1 = new False( true  ) ;\n * var cond2 = new False( false ) ;\n * var cond3 = new False( cond1 ) ;\n * var cond4 = new False( cond2 ) ;\n *\n * trace( cond1.eval() ) ; // false\n * trace( cond2.eval() ) ; // true\n * trace( cond3.eval() ) ; // true\n * trace( cond4.eval() ) ; // false\n */\nexport function False( condition = false )\n{\n    /**\n     * The condition to evaluate.\n     * @memberof system.rules.False\n     * @name value\n     * @type {boolean|system.rules.Rule}\n     * @instance\n     * @default false\n     */\n    this.condition = condition ;\n}\n\nFalse.prototype = Object.create( Rule.prototype );\nFalse.prototype.constructor = False ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.False\n * @inheritdoc\n */\nFalse.prototype.eval = function ()\n{\n    return ( ( this.condition instanceof Rule ) ? this.condition.eval() : Boolean( this.condition ) ) === false ;\n}","\"use strict\" ;\n\nimport { False } from '../rules/False.js' ;\n\nimport { ElseIf } from './ElseIf.js' ;\n\n/**\n * Defines if condition is <code>false</code> in an <elseif> conditional block.\n * @name ElseIfFalse\n * @memberof system.logics\n * @extends system.logics.ElseIf\n * @class\n * @param {Object} value - The value to evaluate.\n * @param {system.process.Action} [then=null] - The action to execute if the value is <code>false</code>.\n * @see system.rules.False\n */\nexport function ElseIfFalse( value , then = null  )\n{\n    ElseIf.call( this , new False(value) , then ) ;\n}\n\nElseIfFalse.prototype = Object.create( ElseIf.prototype ,\n{\n    constructor : { writable : true , value : ElseIfFalse }\n});","/* jshint eqnull: true */\n\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates if the condition is null.\n * @name Null\n * @memberof system.rules\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @class\n * @constructs\n * @param {object} [value=null] - The value to evaluate.\n * @param {boolean} [strict=false] - This flag indicates if the condition use <code>==</code> or <code>===</code> to evalute the value.\n * @example\n * var Null = system.rules.Null ;\n *\n * var cond ;\n *\n * cond = new Null( undefined , true ) ;\n * trace( cond.eval() ) ; // false\n *\n * cond = new Null( undefined ) ;\n * trace( cond.eval() ) ; // true\n *\n * cond = new Null( null ) ;\n * trace( cond.eval() ) ; // true\n *\n * cond = new Null( \"hello\" ) ;\n * trace( cond.eval() ) ; // false\n */\nexport function Null( value = undefined , strict = false )\n{\n    /**\n     * The value to evaluate.\n     * @memberof system.rules.Null\n     * @name value\n     * @type {object}\n     * @instance\n     * @default undefined\n     */\n    this.value = value ;\n\n    /**\n     * The value to evaluate.\n     * @memberof system.rules.Null\n     * @name strict\n     * @type {boolean}\n     * @instance\n     * @default false\n     */\n    this.strict = Boolean(strict) ;\n}\n\nNull.prototype = Object.create( Rule.prototype );\nNull.prototype.constructor = Null ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.Null\n * @inheritdoc\n */\nNull.prototype.eval = function ()\n{\n    if( this.strict )\n    {\n        return (this.value === null) ;\n    }\n    else\n    {\n        return (this.value == null) ;\n    }\n}","\"use strict\" ;\n\nimport { Null } from '../rules/Null.js' ;\nimport { ElseIf } from './ElseIf.js' ;\n\n/**\n * Defines if a value is <code>null</code> in an <elseif> conditional block.\n * @name ElseIfNull\n * @memberof system.logics\n * @extends system.logics.ElseIf\n * @class\n * @param {Object} value - The value to evaluate.\n * @param {system.process.Action} [then=null] - The action to execute if the value is <code>null</code>.\n * @param {boolean} [strict=false] - This flag indicates if the condition use <code>==</code> or <code>===</code> to evalute the value.\n * @see system.rules.Null\n */\nexport function ElseIfNull( value , then = null , strict = false )\n{\n    ElseIf.call( this , new Null(value,strict) , then ) ;\n}\n\nElseIfNull.prototype = Object.create( ElseIf.prototype ,\n{\n    constructor : { writable : true , value : ElseIfNull }\n});","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates if the condition is true.\n * @name True\n * @memberof system.rules\n * @class\n * @constructs\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @param {boolean|system.rules.Rule} value - The value to evaluate.\n * @example\n * var True = system.rules.True ;\n *\n * var cond1 = new True( true  ) ;\n * var cond2 = new True( false ) ;\n * var cond3 = new True( cond1 ) ;\n * var cond4 = new True( cond2 ) ;\n *\n * trace( cond1.eval() ) ; // true\n * trace( cond2.eval() ) ; // false\n * trace( cond3.eval() ) ; // true\n * trace( cond4.eval() ) ; // false\n * </pre>\n */\nexport function True( condition = null )\n{\n    /**\n     * The condition to evaluate.\n     * @memberof system.rules.True\n     * @name value\n     * @type {boolean|system.rules.Rule}\n     * @instance\n     * @default false\n     */\n    this.condition = condition ;\n}\n\nTrue.prototype = Object.create( Rule.prototype );\nTrue.prototype.constructor = True ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.True\n * @inheritdoc\n */\nTrue.prototype.eval = function ()\n{\n    return ( ( this.condition instanceof Rule ) ? this.condition.eval() : Boolean( this.condition ) ) === true ;\n}","\"use strict\" ;\n\nimport { True } from '../rules/True.js' ;\nimport { ElseIf } from './ElseIf.js' ;\n\n/**\n * Defines if condition is <code>true</code> in an <elseif> conditional block.\n * @name ElseIfTrue\n * @memberof system.logics\n * @extends system.logics.ElseIf\n * @class\n * @param {Object} value - The value to evaluate.\n * @param {system.process.Action} [then=null] - The action to execute if the value is <code>true</code>.\n * @see system.rules.True\n */\nexport function ElseIfTrue( condition , then = null  )\n{\n    ElseIf.call( this , new True(condition) , then ) ;\n}\n\nElseIfTrue.prototype = Object.create( ElseIf.prototype ,\n{\n    constructor : { writable : true , value : ElseIfTrue }\n});","/* jshint eqnull: true */\n\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates if the condition is undefined.\n * @name Undefined\n * @memberof system.rules\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @class\n * @constructs\n * @param {object} [value=undefined] - The value to evaluate.\n * @example\n * var Undefined = system.rules.Undefined ;\n * trace( (new Undefined( undefined )).eval() ) ; // true\n * trace( (new Undefined( 'hello'   )).eval() ) ; // true\n */\nexport function Undefined( value = undefined )\n{\n    /**\n     * The value to evaluate.\n     * @memberof system.rules.Undefined\n     * @name value\n     * @type {object}\n     * @instance\n     * @default undefined\n     */\n    this.value = value ;\n}\n\nUndefined.prototype = Object.create( Rule.prototype );\nUndefined.prototype.constructor = Undefined ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.Undefined\n * @inheritdoc\n */\nUndefined.prototype.eval = function ()\n{\n    return this.value === undefined ;\n}","\"use strict\" ;\n\nimport { Undefined } from '../rules/Undefined.js' ;\n\nimport { ElseIf } from './ElseIf.js' ;\n\n/**\n * Defines if a value is <code>undefined</code> in an <elseif> conditional block.\n * @name ElseIfUndefined\n * @memberof system.logics\n * @extends system.logics.ElseIf\n * @class\n * @param {Object} value - The value to evaluate.\n * @param {system.process.Action} [then=null] - The action to execute if the values is <code>undefined</code>.\n * @see system.rules.Undefined\n */\nexport function ElseIfUndefined( value , then = null )\n{\n    ElseIf.call( this , new Undefined(value) , then ) ;\n}\n\nElseIfUndefined.prototype = Object.create( ElseIf.prototype ,\n{\n    constructor : { writable : true , value : ElseIfUndefined }\n});","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates if the condition is undefined.\n * @name Zero\n * @memberof system.rules\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @class\n * @constructs\n * @param {number} [value=Nan] - The value to evaluate.\n * @example\n * var Zero = system.rules.Zero ;\n * trace( (new Zero( 0 )).eval() ) ; // true\n * trace( (new Zero( 1 )).eval() ) ; // false\n * trace( (new Zero( 'test' )).eval() ) ; // false\n */\nexport function Zero( value = NaN )\n{\n    /**\n     * The condition to evaluate.\n     * @memberof system.rules.True\n     * @name value\n     * @type {number}\n     * @instance\n     * @default NaN\n     */\n    this.value = value ;\n}\n\nZero.prototype = Object.create( Rule.prototype );\nZero.prototype.constructor = Zero ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.Zero\n * @inheritdoc\n */\nZero.prototype.eval = function ()\n{\n    return this.value === 0 ;\n}","\"use strict\" ;\n\nimport { Zero } from '../rules/Zero.js' ;\n\nimport { ElseIf } from './ElseIf.js' ;\n\n/**\n * Defines if a value <code>=== 0</code> in an <elseif> conditional block.\n * @name ElseIfZero\n * @memberof system.logics\n * @extends system.logics.ElseIf\n * @class\n * @param {Object} value - The value to evaluate.\n * @param {system.process.Action} [then=null] - The action to execute if the values equals <code>0</code>.\n * @see system.rules.Zero\n */\nexport function ElseIfZero( value , then = null  )\n{\n    ElseIf.call( this , new Zero(value) , then ) ;\n}\n\nElseIfZero.prototype = Object.create( ElseIf.prototype ,\n{\n    constructor : { writable : true , value : ElseIfZero }\n});","\"use strict\" ;\n\nimport { isBoolean }   from '../../core/isBoolean.js' ;\n\nimport { Action }      from '../process/Action.js' ;\nimport { BooleanRule } from '../rules/BooleanRule.js' ;\nimport { ElseIf }      from './ElseIf.js' ;\nimport { Rule }        from '../rules/Rule.js' ;\nimport { Signal }      from '../signals/Signal.js' ;\nimport { TaskPhase }   from '../process/TaskPhase.js' ;\n\n/**\n * Perform some tasks based on whether a given condition holds true or not.\n * @name IfTask\n * @memberof system.logics\n * @implements system.process.Action\n * @augments system.process.Action\n * @class\n * @example <caption><strong>Usage </strong>:</caption>\n * var task = new IfTask( rule:Rule    , thenTask:Action , elseTask:Action , ...elseIfTasks )\n * var task = new IfTask( rule:Boolean , thenTask:Action , elseTask:Action , ...elseIfTasks )\n * @example <caption><strong>Basic example </strong>:</caption>\n * // -------- Imports\n *\n * var IfTask      = system.logics.IfTask ;\n * var Do          = system.process.Do ;\n * var ElseIf      = system.logics.ElseIf ;\n * var EmptyString = system.rules.EmptyString ;\n * var Equals      = system.rules.Equals ;\n *\n * // -------- init\n *\n * var task ;\n *\n * var do1 = new Do() ;\n * var do2 = new Do() ;\n * var do3 = new Do() ;\n * var do4 = new Do() ;\n *\n * do1.something = function() { trace(\"do1 ###\") } ;\n * do2.something = function() { trace(\"do2 ###\") } ;\n * do3.something = function() { trace(\"do3 ###\") } ;\n * do4.something = function() { trace(\"do4 ###\") } ;\n *\n * // -------- behaviors\n *\n * var error = function( message , action  )\n * {\n *     trace( \"error:\" + action + \" message:\" + message ) ;\n * };\n *\n * var finish = function( action )\n * {\n *     trace( \"finish: \" + action ) ;\n * };\n *\n * var start = function( action )\n * {\n *     trace( \"start: \" + action ) ;\n * };\n *\n * trace(' -------- test 1');\n *\n * task = new IfTask( new EmptyString('') , do1 , do2 ) ;\n *\n * task.finishIt.connect(finish) ;\n * task.errorIt.connect(error) ;\n * task.startIt.connect(start) ;\n *\n * task.run() ;\n *\n * trace(' -------- test 2');\n *\n * task.clear() ;\n *\n * task.rule = new Equals(1,2) ;\n *\n * task.addThen( do1 )\n *     .addElse( do2 )\n *     .run() ;\n *\n * trace(' -------- test 3 : <elseIf>');\n *\n * task.clear() ;\n *\n * task.addRule( new Equals(1,2) )\n *     .addThen( do1 )\n *     .addElseIf\n *     (\n *         new ElseIf( new Equals(2,1) , do3 ) ,\n *         new ElseIf( new Equals(2,2) , do4 )\n *     )\n *     .addElse( do2 )\n *     .run() ;\n *\n * trace(' -------- test 4 : <then> is already register');\n *\n * task.clear() ;\n * task.throwError = true ;\n *\n * try\n * {\n *     task.addThen( do1 )\n *         .addElse( do2 )\n *         .addThen( do3 )\n * }\n * catch (e)\n * {\n *     trace( e ) ;\n * }\n *\n * trace(' -------- test 5 : <rule> is not defined');\n *\n * try\n * {\n *     task.run() ;\n * }\n * catch (e)\n * {\n *     trace( e ) ;\n * }\n *\n * trace(' -------- test 6 : <rule> is not defined and throwError = false');\n *\n * task.throwError = false ;\n *\n * task.run() ;\n * @param {system.rules.Rule} rule - The initial condition.\n * @param {system.process.Action} thenTask - The action to execute if the main condition if <code>true</code>.\n * @param {system.process.Action} elseTask - The action invoked if all the conditions failed.\n * @param {array} elseTask - The optional collection of {@link system.logics.ElseIf} tasks.\n */\nexport function IfTask( rule = null , thenTask = null , elseTask = null , ...elseIfTasks ) // jshint ignore:line\n{\n    Action.call( this ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * This signal emit when the action failed.\n         * @memberof system.logics.IfTask\n         * @type {system.signals.Signal}\n         * @instance\n         * @readonly\n         */\n        errorIt : { value : new Signal() } ,\n\n        /**\n         * Indicates if the class throws errors or notify a finished event when the task failed.\n         * @memberof system.logics.IfTask\n         * @type {boolean}\n         * @default false\n         * @instance\n         */\n        throwError : { value : false , writable : true , enumerable : true } ,\n\n        /**\n         * @private\n         */\n        _done : { value :false , writable : true } ,\n\n        /**\n         * @private\n         */\n        _elseIfTasks : { value : [] } ,\n\n        /**\n         * @private\n         */\n        _elseTask :\n        {\n            value    : ( elseTask instanceof Action ) ? elseTask : null ,\n            writable : true\n        },\n\n        /**\n         * @private\n         */\n        _rule :\n        {\n            value    : ( rule instanceof Rule ) ? rule : new BooleanRule( rule ) ,\n            writable : true\n        } ,\n\n        /**\n         * @private\n         */\n        _thenTask :\n        {\n            value    : ( thenTask instanceof Action ) ? thenTask : null ,\n            writable : true\n        }\n    }) ;\n\n    if( elseIfTasks.length > 0 )\n    {\n        this.addElseIf.apply( this , elseIfTasks) ;\n    }\n}\n\nIfTask.prototype = Object.create( Action.prototype ,\n{\n    constructor : { writable : true , value : IfTask } ,\n\n    /**\n     * The collection of condition/action invokable if the main rule is not true.\n     * @memberof system.logics.IfTask\n     * @type {array}\n     * @instance\n     * @readonly\n     */\n    elseIfTask : { get : function() { return this._elseIfTask ; } } ,\n\n    /**\n     * The action invoked if all the conditions failed.\n     * @memberof system.logics.IfTask\n     * @type {system.process.Action}\n     * @instance\n     * @readonly\n     */\n    elseTask : { get : function() { return this._elseTask ; } } ,\n\n    /**\n     * The rule reference of this task.\n     * @memberof system.logics.IfTask\n     * @type {system.rules.Rule}\n     * @instance\n     */\n    rule :\n    {\n        get : function() { return this._rule ; } ,\n        set : function( rule )\n        {\n            this._rule = ( rule instanceof Rule ) ? rule : new BooleanRule(rule) ;\n        }\n    } ,\n\n    /**\n     * The action to execute if the main condition if <code>true</code>.\n     * @memberof system.logics.IfTask\n     * @type {system.process.Action}\n     * @instance\n     */\n    thenTask : { get : function() { return this._thenTask ; } } ,\n\n    /**\n     * Defines the action when the condition block use the else condition.\n     * @name addElse\n     * @memberof system.logics.IfTask\n     * @function\n     * @instance\n     * @param {system.process.Action} action The action to defines with the else condition in the {system.logics.IfTask} reference.\n     * @return The current IfTask reference.\n     * @throws Error if an 'else' action is already register.\n     */\n    addElse : { value : function( action )\n    {\n        if ( this._elseTask )\n        {\n            throw new Error( this + \" addElse failed, you must not nest more than one <else> into <if>\");\n        }\n        else if( action instanceof Action )\n        {\n            this._elseTask = action ;\n        }\n        return this ;\n    }},\n\n    /**\n     * Defines an action when the condition block use the elseif condition.\n     * @name addElseIf\n     * @memberof system.logics.IfTask\n     * @function\n     * @instance\n     * @param {...system.logics.ElseIf|system.rules.Rule|system.process.Action} condition - A {system.logics.ElseIf} instance or a serie of {system.rules.Rule}/{system.process.Action}.\n     * @return The current IfTask reference.\n     * @example\n     *\n     * var IfTask      = system.logics.IfTask ;\n     * var Do          = system.process.Do ;\n     * var ElseIf      = system.logics.ElseIf ;\n     * var EmptyString = system.rules.EmptyString ;\n     * var Equals      = system.rules.Equals ;\n     *\n     * var do1 = new Do() ;\n     * var do2 = new Do() ;\n     * var do3 = new Do() ;\n     * var do4 = new Do() ;\n     *\n     * do1.something = function() { trace(\"do1 ###\") } ;\n     * do2.something = function() { trace(\"do2 ###\") } ;\n     * do3.something = function() { trace(\"do3 ###\") } ;\n     * do4.something = function() { trace(\"do4 ###\") } ;\n     *\n     * var task = new IfTask() ;\n     *\n     * task.addRule( new Equals(1,2) )\n     *     .addThen( do1 )\n     *     .addElseIf\n     *     (\n     *         new ElseIf( new Equals(2,1) , do3 ) ,\n     *         new Equals(2,2) , do4\n     *     )\n     *     .addElse( do2 )\n     *     .run() ; // do4 ###\n     */\n    addElseIf : { value : function( ...elseIfTask  ) /*IfTask*/\n    {\n        if ( elseIfTask && elseIfTask.length > 0 )\n        {\n            var ei ;\n            var len = elseIfTask.length ;\n            for( var i = 0 ; i<len ; i++ )\n            {\n                ei = null ;\n                if( elseIfTask[i] instanceof ElseIf )\n                {\n                    ei = elseIfTask[i] ;\n                }\n                else if ( (elseIfTask[i] instanceof Rule || isBoolean(elseIfTask[i]) ) && (elseIfTask[i+1] instanceof Action) )\n                {\n                    ei = new ElseIf( elseIfTask[i] , elseIfTask[i+1] ) ;\n                    i++ ;\n                }\n\n                if ( ei )\n                {\n                    this._elseIfTasks.push( ei ) ;\n                }\n            }\n        }\n\n        return this ;\n    }},\n\n    /**\n     * Defines the main conditional rule of the task.\n     * @name addRule\n     * @memberof system.logics.IfTask\n     * @function\n     * @instance\n     * @param {system.rules.Rule} rule - The main <code>Rule</code> of the task.\n     * @return The current IfTask reference.\n     * @throws Error if a 'condition' is already register.\n     */\n    addRule : { value : function( rule ) /*IfTask*/\n    {\n        if ( this._rule )\n        {\n            throw new Error( this + \" addRule failed, you must not nest more than one <condition> into <if>\");\n        }\n        else\n        {\n            this._rule = ( rule instanceof Rule ) ? rule : new BooleanRule(rule) ;\n        }\n        return this ;\n    }},\n\n    /**\n     * Defines the action when the condition block success and must run the 'then' action.\n     * @name addThen\n     * @memberof system.logics.IfTask\n     * @function\n     * @instance\n     * @param {system.process.Action} action - Defines the '<b>then</b>' action in the <code>IfTask</code> reference.\n     * @return The current <code>IfTask</code> reference.\n     * @throws <code>Error</code> if the 'then' action is already register.\n     */\n    addThen : { value : function( action )\n    {\n        if ( this._thenTask )\n        {\n            throw new Error( this + \" addThen failed, you must not nest more than one <then> into <if>\");\n        }\n        else if( action instanceof Action )\n        {\n            this._thenTask = action ;\n        }\n        return this ;\n    }},\n\n    /**\n     * Clear all elements conditions and conditional tasks in the process.\n     * @name clear\n     * @memberof system.logics.IfTask\n     * @function\n     * @instance\n     * @return The current <code>IfTask</code> reference.\n     */\n    clear : { value : function()\n    {\n        this._rule = null ;\n        this._elseIfTasks.length = 0 ;\n        this._elseTask = null ;\n        this._thenTask = null ;\n        return this ;\n    }},\n\n    /**\n     * Removes the 'elseIf' action.\n     * @name deleteElseIf\n     * @memberof system.logics.IfTask\n     * @function\n     * @instance\n     * @return The current <code>IfTask</code> reference.\n     */\n    deleteElseIf : { value : function() /*IfTask*/\n    {\n        this._elseIfTasks.length = 0 ;\n        return this ;\n    }},\n\n    /**\n     * Removes the 'else' action.\n     * @name deleteElse\n     * @memberof system.logics.IfTask\n     * @function\n     * @instance\n     * @return The current <code>IfTask</code> reference.\n     */\n    deleteElse : { value : function() /*IfTask*/\n    {\n        this._elseTask = null ;\n        return this ;\n    }},\n\n    /**\n     * Removes the 'rule' of the task.\n     * @return The current <code>IfTask</code> reference.\n     * @name deleteRule\n     * @memberof system.logics.IfTask\n     * @function\n     * @instance\n     */\n    deleteRule : { value : function()\n    {\n        this._rule = null ;\n        return this ;\n    }},\n\n    /**\n     * Removes the 'then' action.\n     * @return The current IfTask reference.\n     * @name deleteThen\n     * @memberof system.logics.IfTask\n     * @function\n     * @instance\n     */\n    deleteThen : { value : function() /*IfTask*/\n    {\n        this._thenTask = null ;\n        return this ;\n    }},\n\n    /**\n     * Notify when the process is started.\n     * @name notifyError\n     * @memberof system.logics.IfTask\n     * @function\n     * @instance\n     */\n    notifyError : { value : function( message ) /*void*/\n    {\n        this._running = false ;\n        this._phase  = TaskPhase.ERROR ;\n        this.errorIt.emit( message , this ) ;\n        if( this.throwError )\n        {\n            throw new Error( message ) ;\n        }\n    }},\n\n    /**\n     * Run the process.\n     * @memberof system.logics.IfTask\n     * @function\n     * @instance\n     */\n    run : { value : function()\n    {\n        if ( this.running )\n        {\n            return ;\n        }\n\n        this._done = false ;\n\n        this.notifyStarted() ;\n\n        if ( !this._rule || !(this._rule instanceof Rule) )\n        {\n            this.notifyError( this + \" run failed, the 'conditional rule' of the task not must be null.\" ) ;\n            this.notifyFinished() ;\n            return ;\n        }\n\n        if ( this._rule.eval() )\n        {\n            if( this._thenTask instanceof Action )\n            {\n                this._execute( this._thenTask ) ;\n            }\n            else if ( this.throwError )\n            {\n                this.notifyError( this + \" run failed, the 'then' action not must be null.\") ;\n            }\n        }\n        else\n        {\n            if ( this._elseIfTasks.length > 0 )\n            {\n                var ei ;\n                var len = this._elseIfTasks.length ;\n                for (var i = 0 ; (i<len) && !this._done ; i++ )\n                {\n                    ei = this._elseIfTasks[i] ;\n                    if ( (ei instanceof ElseIf) && ei.eval() )\n                    {\n                        this._execute( ei.then ) ;\n                    }\n                }\n            }\n\n            if( !this._done && this._elseTask )\n            {\n                this._execute( this._elseTask ) ;\n            }\n        }\n\n        if( !this._done )\n        {\n            if ( this.throwError )\n            {\n                this.notifyError( this + \" run failed, the 'then' action not must be null.\") ;\n            }\n            else\n            {\n                this.notifyFinished() ;\n            }\n        }\n    }},\n\n    // ---------- private\n\n    /**\n     * @private\n     * @memberof system.logics.IfTask\n     * @function\n     * @instance\n     */\n    _execute : { value : function( action /*Action*/ )\n    {\n        if ( action instanceof Action )\n        {\n            this._done = true ;\n            action.finishIt.connect( this._finishTask.bind(this) , 1 , true ) ;\n            action.run() ;\n        }\n    }},\n\n    /**\n     * @private\n     * @memberof system.logics.IfTask\n     * @function\n     * @instance\n     */\n    _finishTask :\n    {\n        value : function()\n        {\n            this.notifyFinished() ;\n        }\n    }\n}) ;","\"use strict\" ;\n\nimport { EmptyString } from '../rules/EmptyString.js' ;\n\nimport { IfTask } from './IfTask.js' ;\n\n/**\n * Perform some tasks based on whether a given value is an empty string <code>\"\"</code>.\n * @name IfEmptyString\n * @memberof system.logics\n * @extends system.logics.IfTask\n * @class\n * @see system.rules.EmptyString\n * @param {Object} value - The value to evaluate.\n * @param {system.process.Action} thenTask - The action to execute if the main condition if <code>true</code>.\n * @param {system.process.Action} elseTask - The action invoked if all the conditions failed.\n * @param {array} elseTask - The optional collection of {@link system.logics.ElseIf} tasks.\n */\nexport function IfEmptyString( value , thenTask = null , elseTask = null , ...elseIfTasks ) // jshint ignore:line\n{\n    IfTask.call( this , new EmptyString(value) , thenTask , elseTask ) ;\n    if( elseIfTasks.length > 0 )\n    {\n        this.addElseIf.apply( this , elseIfTasks ) ;\n    }\n}\n\nIfEmptyString.prototype = Object.create( IfTask.prototype ,\n{\n    constructor : { writable : true , value : IfEmptyString }\n});","\"use strict\" ;\n\nimport { Equals } from '../rules/Equals.js' ;\n\nimport { IfTask } from './IfTask.js' ;\n\n/**\n * Perform some tasks based on whether a given condition holds equality of two values.\n * @name IfEquals\n * @memberof system.logics\n * @extends system.logics.IfTask\n * @class\n * @see system.rules.Equals\n * @param {Object} value1 - The first value to evaluate.\n * @param {Object} value2 - The second value to evaluate.\n * @param {system.process.Action} thenTask - The action to execute if the main condition if <code>true</code>.\n * @param {system.process.Action} elseTask - The action invoked if all the conditions failed.\n * @param {array} elseTask - The optional collection of {@link system.logics.ElseIf} tasks.\n */\nexport function IfEquals( value1 , value2 , thenTask = null , elseTask = null , ...elseIfTasks ) // jshint ignore:line\n{\n    IfTask.call( this , new Equals(value1,value2) , thenTask , elseTask ) ;\n    if( elseIfTasks.length > 0 )\n    {\n        this.addElseIf.apply( this , elseIfTasks ) ;\n    }\n}\n\nIfEquals.prototype = Object.create( IfTask.prototype ,\n{\n    constructor : { writable : true , value : IfEquals }\n});","\"use strict\" ;\n\nimport { False } from '../rules/False.js' ;\n\nimport { IfTask } from './IfTask.js' ;\n\n/**\n * Performs some tasks based on whether a given condition holds false.\n * @name IfFalse\n * @memberof system.logics\n * @extends system.logics.IfTask\n * @class\n * @see system.rules.False\n * @param {Object} condition - The object to evaluate.\n * @param {system.process.Action} thenTask - The action to execute if the main condition if <code>true</code>.\n * @param {system.process.Action} elseTask - The action invoked if all the conditions failed.\n * @param {array} elseTask - The optional collection of {@link system.logics.ElseIf} tasks.\n\n */\nexport function IfFalse( condition , thenTask = null , elseTask = null , ...elseIfTasks )  // jshint ignore:line\n{\n    IfTask.call( this , new False(condition) , thenTask , elseTask ) ;\n    if( elseIfTasks.length > 0 )\n    {\n        this.addElseIf.apply( this , elseIfTasks ) ;\n    }\n}\n\nIfFalse.prototype = Object.create( IfTask.prototype ,\n{\n    constructor : { writable : true , value : IfFalse }\n});","\"use strict\" ;\n\nimport { Null } from '../rules/Null.js' ;\n\nimport { IfTask } from './IfTask.js' ;\n\n/**\n * Perform some tasks based on whether a given value is <code>null</code>.\n * @name IfNull\n * @memberof system.logics\n * @extends system.logics.IfTask\n * @class\n * @see system.rules.Null\n * @param {Object} value - The value to evaluate.\n * @param {system.process.Action} thenTask - The action to execute if the main condition if <code>true</code>.\n * @param {system.process.Action} elseTask - The action invoked if all the conditions failed.\n * @param {array} elseTask - The optional collection of {@link system.logics.ElseIf} tasks.\n\n */\nexport function IfNull( value , strict = false , thenTask /*Action*/ = null , elseTask /*Action*/ = null , ...elseIfTasks ) // jshint ignore:line\n{\n    IfTask.call( this , new Null(value,strict) , thenTask , elseTask ) ;\n    if( elseIfTasks.length > 0 )\n    {\n        this.addElseIf.apply( this , elseIfTasks ) ;\n    }\n}\n\nIfNull.prototype = Object.create( IfTask.prototype ,\n{\n    constructor : { writable : true , value : IfNull }\n});","\"use strict\" ;\n\nimport { True } from '../rules/True.js' ;\n\nimport { IfTask } from './IfTask.js' ;\n\n/**\n * Perform some tasks based on whether a given condition holds true.\n * @name IfTrue\n * @memberof system.logics\n * @extends system.logics.IfTask\n * @class\n * @see system.rules.True\n * @param {Object} condition - The object to evaluate.\n * @param {system.process.Action} thenTask - The action to execute if the main condition if <code>true</code>.\n * @param {system.process.Action} elseTask - The action invoked if all the conditions failed.\n * @param {array} elseTask - The optional collection of {@link system.logics.ElseIf} tasks.\n\n */\nexport function IfTrue( condition , thenTask = null , elseTask = null , ...elseIfTasks ) // jshint ignore:line\n{\n    IfTask.call( this , new True(condition) , thenTask , elseTask ) ;\n    if( elseIfTasks.length > 0 )\n    {\n        this.addElseIf.apply( this , elseIfTasks ) ;\n    }\n}\n\nIfTrue.prototype = Object.create( IfTask.prototype ,\n{\n    constructor : { writable : true , value : IfTrue }\n});","\"use strict\" ;\n\nimport { Undefined } from '../rules/Undefined.js' ;\n\nimport { IfTask } from './IfTask.js' ;\n\n/**\n * Perform some tasks based on whether a given value is undefined.\n * @name IfUndefined\n * @memberof system.logics\n * @extends system.logics.IfTask\n * @class\n * @see system.rules.Undefined\n * @param {Object} condition - The object to evaluate.\n * @param {system.process.Action} thenTask - The action to execute if the main condition if <code>true</code>.\n * @param {system.process.Action} elseTask - The action invoked if all the conditions failed.\n * @param {array} elseTask - The optional collection of {@link system.logics.ElseIf} tasks.\n */\nexport function IfUndefined( value , thenTask = null , elseTask = null , ...elseIfTasks ) // jshint ignore:line\n{\n    IfTask.call( this , new Undefined(value) , thenTask , elseTask ) ;\n    if( elseIfTasks.length > 0 )\n    {\n        this.addElseIf.apply( this , elseIfTasks ) ;\n    }\n}\n\nIfUndefined.prototype = Object.create( IfTask.prototype ,\n{\n    constructor : { writable : true , value : IfUndefined }\n});","\"use strict\" ;\n\nimport { Zero } from '../rules/Zero.js' ;\n\nimport { IfTask } from './IfTask.js' ;\n\n/**\n * Perform some tasks based on whether a given value is <code>0</code>.\n * @name IfZero\n * @memberof system.logics\n * @extends system.logics.IfTask\n * @class\n * @see system.rules.Zero\n * @param {Object} value - The value to evaluate.\n * @param {system.process.Action} thenTask - The action to execute if the main condition if <code>true</code>.\n * @param {system.process.Action} elseTask - The action invoked if all the conditions failed.\n * @param {array} elseTask - The optional collection of {@link system.logics.ElseIf} tasks.\n */\nexport function IfZero( value , thenTask /*Action*/ = null , elseTask /*Action*/ = null , ...elseIfTasks ) // jshint ignore:line\n{\n    IfTask.call( this , new Zero(value) , thenTask , elseTask ) ;\n    if( elseIfTasks.length > 0 )\n    {\n        this.addElseIf.apply( this , elseIfTasks ) ;\n    }\n}\n\nIfZero.prototype = Object.create( IfTask.prototype ,\n{\n    constructor : { writable : true , value : IfZero }\n});","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { ElseIf } from './logics/ElseIf.js' ;\nimport { ElseIfEmptyString } from './logics/ElseIfEmptyString.js' ;\nimport { ElseIfEquals } from './logics/ElseIfEquals.js' ;\nimport { ElseIfFalse } from './logics/ElseIfFalse.js' ;\nimport { ElseIfNull } from './logics/ElseIfNull.js' ;\nimport { ElseIfTrue } from './logics/ElseIfTrue.js' ;\nimport { ElseIfUndefined } from './logics/ElseIfUndefined.js' ;\nimport { ElseIfZero } from './logics/ElseIfZero.js' ;\n\nimport { IfEmptyString } from './logics/IfEmptyString.js' ;\nimport { IfEquals } from './logics/IfEquals.js' ;\nimport { IfFalse } from './logics/IfFalse.js' ;\nimport { IfNull } from './logics/IfNull.js' ;\nimport { IfTask } from './logics/IfTask.js' ;\nimport { IfTrue } from './logics/IfTrue.js' ;\nimport { IfUndefined } from './logics/IfUndefined.js' ;\nimport { IfZero } from './logics/IfZero.js' ;\n\n/**\n * The {@link system.logics} library perform some tasks based on whether a given condition holds <code>true</code> or not.\n * <p>This task is heavily based on the Condition framework that can be found in the {@link system.rules} library.</p>\n * <p>In addition to the {@link system.rules.Rule|Rule} condition, you can specify three different child actions based on the {@link system.process.Action|Action} :  <code>elseif</code>, <code>then</code> and <code>else</code>. All three subelements are optional. Both <code>then</code> and <code>else</code> must not be used more than once inside the if task. Both are containers for tasks, just like {@link system.process.BatchTask|BatchTask} and {@link system.process.Chain|Chain} tasks.</p>\n * @summary The {@link system.logics} library perform some tasks based on whether a given condition holds <code>true</code> or not.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace system.logics\n * @memberof system\n * @example\n * // -------- Imports\n *\n * var IfTask      = system.logics.IfTask ;\n * var Do          = system.process.Do ;\n * var ElseIf      = system.logics.ElseIf ;\n * var EmptyString = system.rules.EmptyString ;\n * var Equals      = system.rules.Equals ;\n *\n * // -------- init\n *\n * var task ;\n *\n * var do1 = new Do() ;\n * var do2 = new Do() ;\n * var do3 = new Do() ;\n * var do4 = new Do() ;\n *\n * do1.something = function() { trace(\"do1 ###\") } ;\n * do2.something = function() { trace(\"do2 ###\") } ;\n * do3.something = function() { trace(\"do3 ###\") } ;\n * do4.something = function() { trace(\"do4 ###\") } ;\n *\n * // -------- behaviors\n *\n * var error = function( message , action  )\n * {\n *     trace( \"error:\" + action + \" message:\" + message ) ;\n * };\n *\n * var finish = function( action )\n * {\n *     trace( \"finish: \" + action ) ;\n * };\n *\n * var start = function( action )\n * {\n *     trace( \"start: \" + action ) ;\n * };\n *\n * trace(' -------- test 1');\n *\n * task = new IfTask( new EmptyString('') , do1 , do2 ) ;\n *\n * task.finishIt.connect(finish) ;\n * task.errorIt.connect(error) ;\n * task.startIt.connect(start) ;\n *\n * task.run() ;\n *\n * task.clear() ;\n *\n * trace(' -------- test 2');\n *\n * task.clear() ;\n *\n * task.rule = new Equals(1,2) ;\n *\n * task.addThen( do1 )\n *     .addElse( do2 )\n *     .run() ;\n *\n * trace(' -------- test 3 : <elseIf>');\n *\n * task.clear() ;\n *\n * task.addRule( new Equals(1,2) )\n *     .addThen( do1 )\n *     .addElseIf\n *     (\n *         new ElseIf( new Equals(2,1) , do3 ) ,\n *         new ElseIf( new Equals(2,2) , do4 )\n *     )\n *     .addElse( do2 )\n *     .run() ;\n *\n * trace(' -------- test 4 : <then> is already register');\n *\n * task.clear() ;\n * task.throwError = true ;\n *\n * try\n * {\n *     task.addThen( do1 )\n *         .addElse( do2 )\n *         .addThen( do3 )\n * }\n * catch (e)\n * {\n *     trace( e ) ;\n * }\n *\n * trace(' -------- test 5 : <rule> is not defined');\n *\n * try\n * {\n *     task.run() ;\n * }\n * catch (e)\n * {\n *     trace( e ) ;\n * }\n *\n * trace(' -------- test 6 : <rule> is not defined and throwError = false');\n *\n * task.throwError = false ;\n *\n * task.run() ;\n */\nexport var logics = Object.assign\n({\n    ElseIf : ElseIf ,\n    ElseIfEmptyString : ElseIfEmptyString ,\n    ElseIfEquals : ElseIfEquals ,\n    ElseIfFalse : ElseIfFalse ,\n    ElseIfNull : ElseIfNull ,\n    ElseIfTrue : ElseIfTrue ,\n    ElseIfUndefined : ElseIfUndefined ,\n    ElseIfZero : ElseIfZero ,\n\n    IfEmptyString : IfEmptyString,\n    IfEquals : IfEquals,\n    IfFalse : IfFalse,\n    IfNull : IfNull,\n    IfTask : IfTask,\n    IfTrue : IfTrue,\n    IfUndefined : IfUndefined,\n    IfZero : IfZero\n}) ;","\"use strict\" ;\n\nimport { Lockable } from \"../process/Lockable.js\" ;\n\n/**\n * The Model interface defines all models in the application.\n * @name Model\n * @memberof system.models\n * @interface\n * @extends system.process.Lockable\n * @extends system.data.Validator\n */\nexport function Model()\n{\n    Lockable.call( this );\n}\n\nModel.prototype = Object.create( Lockable.prototype ,\n{\n    constructor : { writable : true , value : Model } ,\n\n    /**\n     * Returns <code>true</code> if the specific value is valid.\n     * @param {*} value - The value to check.\n     * @return <code>true</code> if the specific value is valid.\n     * @name supports\n     * @memberof system.models.Model\n     * @function\n     * @instance\n     */\n    supports : { writable : true , value : function( value )\n    {\n        return value === value ;\n    }} ,\n\n    /**\n     * Returns the string representation of this instance.\n     * @return The string representation of this instance.\n     * @name toString\n     * @memberof system.models.Model\n     * @function\n     * @instance\n     */\n    toString : { writable : true , value : function()\n    {\n        return '[' + this.constructor.name + ']' ;\n    }},\n\n    /**\n     * Evaluates the specified value and throw an Error object if the value is not valid.\n     * @throws Error if the value is not valid.\n     * @name validate\n     * @memberof system.models.Model\n     * @function\n     * @instance\n     */\n    validate : { writable : true , value : function ( value ) /*void*/\n    {\n        if ( !this.supports( value ) )\n        {\n            throw new Error( this + \" validate(\" + value + \") is mismatch.\" ) ;\n        }\n    }}\n\n}) ;\n","\"use strict\" ;\n\nimport { Model }  from \"./Model.js\" ;\nimport { Signal } from \"../signals/Signal.js\" ;\n\n/**\n * This model can keep an object in memory and emit messages if this object is changing.\n * @name ChangeModel\n * @class\n * @memberof system.models\n * @implements system.models.Model\n * @example\n * var beforeChanged = function( value , model )\n * {\n *     trace( \"before:\" + value + \" current:\" + model.current ) ;\n * }\n *\n * var changed = function( value , model )\n * {\n *     trace( \"change:\" + value + \" current:\" + model.current ) ;\n * }\n *\n * var cleared = function( model )\n * {\n *     trace( \"clear current:\" + model.current ) ;\n * }\n *\n * var model = new ChangeModel() ;\n *\n * model.beforeChanged.connect( beforeChanged ) ;\n * model.changed.connect( changed ) ;\n * model.cleared.connect( cleared ) ;\n *\n * model.current = \"hello\" ;\n * model.current = \"world\" ;\n * model.current = null ;\n */\nexport function ChangeModel()\n{\n    Model.call( this );\n    \n    Object.defineProperties( this ,\n    {\n        /**\n         * Emits a message before the current object in the model is changed.\n         * @name beforeChanged\n         * @memberof system.models.ChangeModel\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        beforeChanged : { value : new Signal() } ,\n\n        /**\n         * Emits a message when the current object in the model is changed.\n         * @name changed\n         * @memberof system.models.ChangeModel\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        changed : { value : new Signal() } ,\n\n        /**\n         * Emits a message when the current object in the model is cleared.\n         * @name cleared\n         * @memberof system.models.ChangeModel\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        cleared : { value : new Signal() } ,\n\n        /**\n         * This property defined if the current property can accept the same object in argument as the current one.\n         * @name security\n         * @memberof system.models.ChangeModel\n         * @type boolean\n         * @instance\n         * @default true\n         */\n        security : { value : true , writable : true } ,\n\n        /**\n         * @private\n         */\n        _current : { value : null , writable : true }\n    });\n}\n\nChangeModel.prototype = Object.create( Model.prototype ,\n{\n    constructor : { writable : true , value : ChangeModel } ,\n\n    /**\n     * Determinates the current selected value in this model.\n     * @name current\n     * @memberof system.models.ChangeModel\n     * @instance\n     */\n    current :\n    {\n        get : function()\n        {\n            return this._current ;\n        },\n        set : function( o )\n        {\n            if ( o === this._current && this.security )\n            {\n                return ;\n            }\n\n            if( o )\n            {\n                this.validate( o ) ;\n            }\n\n            if ( this._current )\n            {\n                this.notifyBeforeChange( this._current ) ;\n            }\n\n            this._current = o ;\n\n            if( this._current )\n            {\n                this.notifyChange( this._current );\n            }\n        }\n    },\n\n    /**\n     * Clear the model.\n     * @name clear\n     * @memberof system.models.ChangeModel\n     * @instance\n     * @function\n     */\n    clear : { writable : true , value : function()\n    {\n        this._current = null;\n        this.notifyClear() ;\n    }},\n\n    /**\n     * Notify a signal before the specified value is changed.\n     * @name notifyBeforeChange\n     * @memberof system.models.ChangeModel\n     * @instance\n     * @function\n     */\n    notifyBeforeChange : { value : function( value )\n    {\n        if ( !this.isLocked() )\n        {\n            this.beforeChanged.emit( value , this ) ;\n        }\n    }},\n\n    /**\n     * Notify a signal when the model is changed.\n     * @name notifyChange\n     * @memberof system.models.ChangeModel\n     * @instance\n     * @function\n     */\n    notifyChange : { value : function( value )\n    {\n        if ( !this.isLocked() )\n        {\n            this.changed.emit( value , this ) ;\n        }\n    }},\n\n    /**\n     * Notify a signal when the model is cleared.\n     * @name notifyClear\n     * @memberof system.models.ChangeModel\n     * @instance\n     * @function\n     */\n    notifyClear : { value : function()\n    {\n        if ( !this.isLocked() )\n        {\n            this.cleared.emit( this ) ;\n        }\n    }}\n}) ;\n","\"use strict\" ;\n\nimport { ChangeModel } from \"./ChangeModel.js\" ;\nimport { NoSuchElementError }  from \"../errors/NoSuchElementError.js\" ;\n\n/**\n * This model can keep an object in memory and emit messages if this object is changing.\n * @name MemoryModel\n * @class\n * @memberof system.models\n * @extends system.models.ChangeModel\n * @example\n * var beforeChanged = function( value , model )\n * {\n *     trace( \"[-] before:\" + value + \" current:\" + model.current + \" size:\" + model.size ) ;\n * }\n *\n * var changed = function( value , model )\n * {\n *     trace( \"[+] change:\" + value + \" current:\" + model.current + \" size:\" + model.size ) ;\n * }\n *\n * var cleared = function( model )\n * {\n *     trace( \"[x] clear current:\" + model.current + \" size:\" + model.size ) ;\n * }\n *\n * var model = new MemoryModel();\n *\n * model.beforeChanged.connect( beforeChanged ) ;\n * model.changed.connect( changed ) ;\n * model.cleared.connect( cleared ) ;\n *\n * trace( \"-- history\" ) ;\n *\n * model.current = \"home\" ;\n * model.current = \"near\" ;\n * model.current = \"search\" ;\n * model.current = \"place\" ;\n * model.current = \"events\" ;\n * model.current = \"map\" ;\n * model.current = \"test\" ;\n *\n * trace( \"-- back\" ) ;\n *\n * trace( \"back() : \" + model.back() ) ;\n *\n * trace( \"-- backTo(3)\" ) ;\n *\n * trace( \"backTo(3) : \" + model.backTo( 3 ) ) ;\n *\n * trace( \"-- home\" ) ;\n *\n * trace( 'home() : ' + model.home() ) ;\n *\n * trace( \"--\" ) ;\n *\n * model.clear() ;\n */\nexport function MemoryModel()\n{\n    ChangeModel.call( this ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * Indicates if the model throws errors.\n         * @name enableErrorChecking\n         * @memberof system.models.MemoryModel\n         * @instance\n         * @type boolean\n         * @default false\n         */\n        enableErrorChecking : { writable : true , value : false } ,\n\n        /**\n         * @private\n         */\n        header : { value : new MemoryEntry() , writable : true } ,\n\n        /**\n         * @private\n         */\n        _reduced : { value : false , writable : true } ,\n\n        /**\n         * @private\n         */\n        size : { value : 0 , writable : true }\n    });\n\n    this.header.next = this.header.previous = this.header ;\n}\n\nMemoryModel.prototype = Object.create( ChangeModel.prototype ,\n{\n    constructor : { writable : true , value : MemoryModel } ,\n\n    /**\n     * Determinates the selected value in this model.\n     * @name current\n     * @memberof system.models.MemoryModel\n     * @instance\n     */\n    current :\n    {\n        get : function()\n        {\n            return this._current ;\n        },\n        set : function( o )\n        {\n            if ( o === this._current && this.security )\n            {\n                return ;\n            }\n\n            if( o )\n            {\n                this.validate( o ) ;\n            }\n\n            if ( this._current )\n            {\n                this.notifyBeforeChange( this._current ) ;\n            }\n\n            this._current = o ;\n\n            if( this._current )\n            {\n                this.add( this._current ) ;\n                this.notifyChange( this._current );\n            }\n        }\n    },\n\n    /**\n     * Indicates the number of elements in memory model.\n     * @name length\n     * @memberof system.models.MemoryModel\n     * @instance\n     * @readonly\n     */\n    length : { get : function() { return this.size ; } },\n\n    /**\n     * Indicates in the beforeChange signal if the model is reduced (use the back or the backTo method).\n     * This property is true only before the change of the new position in the model.\n     * @name reduced\n     * @memberof system.models.MemoryModel\n     * @instance\n     * @readonly\n     */\n    reduced : { get : function() { return this._reduced ; } } ,\n\n    /**\n     * Go back in the memory and removes the last element in the memory model.\n     * @return The last removed element in the memory.\n     * @name back\n     * @memberof system.models.MemoryModel\n     * @instance\n     * @function\n     */\n    back : { value : function()\n    {\n        const old = this.last() ;\n\n        if ( old )\n        {\n            this._reduced = true ;\n            this.notifyBeforeChange( old ) ;\n            this._reduced = false ;\n        }\n\n        this.removeLast() ;\n\n        this._current = this.last() ;\n\n        if( this._current )\n        {\n            this.notifyChange( this._current );\n        }\n\n        return old ;\n    }},\n\n    /**\n     * Go back in the memory and removes the all the element in the memory model to a specific position.\n     * @param {number} [pos=1] - The position to back in memory.\n     * @return The last removed element in the memory.\n     * @name backTo\n     * @memberof system.models.MemoryModel\n     * @instance\n     * @function\n     */\n    backTo : { value : function( pos = 1 )\n    {\n        if( pos < 1 )\n        {\n            pos = 1 ;\n        }\n        if( this.size > 1 )\n        {\n            if( pos < this.size )\n            {\n                this._reduced = true ;\n\n                var old = this.last() ;\n\n                if ( old )\n                {\n                    this.notifyBeforeChange( old ) ;\n                }\n\n                while( pos !== this.size )\n                {\n                    this.removeLast() ;\n                }\n\n                this._reduced = false ;\n\n                this._current = this.last() ;\n\n                if ( this._current )\n                {\n                    this.notifyChange( this._current );\n                }\n\n                return old ;\n            }\n            else\n            {\n                if( this.enableErrorChecking )\n                {\n                    throw new RangeError( this + \" backTo failed, the passed-in index '\" + pos + \"' is out of bounds (\" + this.size + \".\" ) ;\n                }\n                else\n                {\n                    return null ;\n                }\n            }\n        }\n        else\n        {\n            if( this.enableErrorChecking )\n            {\n                throw new NoSuchElementError( this + \" backTo failed, the length of the memory model must be greater than 1 element.\");\n            }\n            else\n            {\n                return null ;\n            }\n        }\n    }},\n\n    /**\n     * Clear the model.\n     * @name clear\n     * @memberof system.models.MemoryModel\n     * @instance\n     * @function\n     */\n    clear : { value : function()\n    {\n        if( this.size > 0 )\n        {\n            var e = this.header.next;\n            var next ;\n            while ( e !== this.header )\n            {\n                next = e.next ;\n                e.next = e.previous = null ;\n                e.element = null ;\n                e = next ;\n            }\n            this.header.next = this.header.previous = this.header ;\n            this.size = 0 ;\n        }\n        ChangeModel.prototype.clear.call(this) ;\n    }},\n\n    /**\n     * Returns the first element in memory.\n     * @return the first element in this list.\n     * @throws NoSuchElementError if this list is empty.\n     * @name first\n     * @memberof system.models.MemoryModel\n     * @instance\n     * @function\n     */\n    first : { value : function()\n    {\n        if( this.size > 0 )\n        {\n            return this.header.next.element ;\n        }\n        else\n        {\n            if( this.enableErrorChecking )\n            {\n                throw new NoSuchElementError( this + \" first method failed, the memory is empty.\") ;\n            }\n            else\n            {\n                return null ;\n            }\n        }\n    }},\n\n    /**\n     * Go home, select the first element in the memory and remove all other elements. This method work only if the memory length is greater than <code>1</code>.\n     * @return The last removed element in the memory.\n     * @name home\n     * @memberof system.models.MemoryModel\n     * @instance\n     * @function\n     */\n    home : { value : function()\n    {\n        if( this.size > 1 )\n        {\n            var old = this.header.previous.element ;\n\n            if ( old )\n            {\n                this.notifyBeforeChange( old ) ;\n            }\n\n            var top = this.header.next ;\n\n            while( this.header.previous !== top )\n            {\n                this.removeEntry( this.header.previous ) ;\n            }\n\n            this._current = this.last() ;\n\n            if ( this._current )\n            {\n                this.notifyChange( this._current );\n            }\n\n            return old ;\n        }\n        else\n        {\n            if( this.enableErrorChecking )\n            {\n                throw new NoSuchElementError( this + \" home failed, the length of the memory model must be greater than 1 element.\");\n            }\n            else\n            {\n                return null ;\n            }\n        }\n    }},\n\n    /**\n     * Returns <code>true</code> if this memory model is empty.\n     * @return <code>true</code> if this memory model is empty.\n     * @name isEmpty\n     * @memberof system.models.MemoryModel\n     * @instance\n     * @function\n     */\n    isEmpty : { value : function()\n    {\n        return this.size === 0 ;\n    }} ,\n\n    /**\n     * Returns the last element in memory.\n     * @return the last element in this list.\n     * @throws NoSuchElementError if this list is empty.\n     * @name last\n     * @memberof system.models.MemoryModel\n     * @instance\n     * @function\n     */\n    last : { value : function()\n    {\n        if ( this.size > 0 )\n        {\n            return this.header.previous.element ;\n        }\n        else\n        {\n            if( this.enableErrorChecking )\n            {\n                throw new NoSuchElementError( this + \" last method failed, the memory is empty.\" ) ;\n            }\n            else\n            {\n                return null ;\n            }\n        }\n    }},\n\n    // ------- protected\n\n    /**\n     * Appends the specified element to the end of this list.\n     * @param {*} element - The element to be appended to this list.\n     * @name add\n     * @memberof system.models.MemoryModel\n     * @instance\n     * @function\n     * @private\n     */\n    add : { value : function( element )\n    {\n        this.addBefore( element , this.header ) ;\n        return element ;\n    }} ,\n\n    /**\n     * Inserts the given element in the memory before the given entry.\n     * @name addBefore\n     * @memberof system.models.MemoryModel\n     * @instance\n     * @function\n     * @param {*} element - The element to insert.\n     * @param {*} entry - The entry to target.\n     * @private\n     */\n    addBefore : { value : function( element , entry )\n    {\n        var e = new MemoryEntry( element, entry, entry.previous ) ;\n        e.previous.next = e ;\n        e.next.previous = e ;\n        this.size++ ;\n        return e ;\n    }},\n\n    /**\n     * Removes a specific entry in memory.\n     * @private\n     * @name removeEntry\n     * @memberof system.models.MemoryModel\n     * @instance\n     * @function\n     */\n    removeEntry : { value : function( entry )\n    {\n        if ( entry === this.header )\n        {\n            if( this.enableErrorChecking )\n            {\n                throw new NoSuchElementError( this + \" removeEntry failed.\" );\n            }\n            else\n            {\n                return null ;\n            }\n        }\n\n        var result = entry.element ;\n\n        entry.previous.next = entry.next ;\n        entry.next.previous = entry.previous ;\n        entry.next = entry.previous = null ;\n        entry.element = null ;\n\n        this.size-- ;\n\n        return result ;\n    }},\n\n    /**\n     * Removes and returns the last element from this list.\n     * @return The last removed element from this list.\n     * @name removeLast\n     * @memberof system.models.MemoryModel\n     * @instance\n     * @function\n     * @private\n     */\n    removeLast : { value : function()\n    {\n        return this.removeEntry( this.header.previous );\n    }}\n}) ;\n\n// internal\n\n/**\n * Internal class in the <code>MemoryModel</code> class to defined all entries in the internal memory and the links betweens alls.\n * @name MemoryEntry\n * @class\n * @memberof system.models\n * @private\n */\nfunction MemoryEntry( element = null , next /*MemoryEntry*/ = null , previous /*MemoryEntry*/ = null )\n{\n    /**\n     * The element of this entry.\n     * @memberof system.models.MemoryModel\n     */\n    this.element = element ;\n\n    /**\n     * The next entry.\n     * @memberof system.models.MemoryModel\n     */\n    this.next = next ;\n\n    /**\n     * The previous entry.\n     * @memberof system.models.MemoryModel\n     */\n    this.previous = previous ;\n}\n","\"use strict\" ;\n\nimport { ChangeModel } from \"../ChangeModel.js\" ;\nimport { Signal }      from \"../../signals/Signal.js\" ;\n\n/**\n * This model use an internal <code>Array</code> to register objects.\n * @name ArrayModel\n * @extends system.models.ChangeModel\n * @implements system.data.Iterator\n * @memberof system.models.arrays\n * @class\n * @example\n * var o1 = { id : \"key1\" } ;\n * var o2 = { id : \"key2\" } ;\n * var o3 = { id : \"key3\" } ;\n * var o4 = { id : \"key4\" } ;\n * var o5 = { id : \"key5\" } ;\n * var o6 = { id : \"key6\" } ;\n *\n * var model = new ArrayModel();\n *\n * var added = function( index , value , model )\n * {\n *     trace( model + \" added(\" + index + \") value:\" + dump(value) ) ;\n * }\n *\n * var beforeChanged = function( value , model )\n * {\n *     trace( \"[-] before:\" + value + \" current:\" + dump(model.current) + \" size:\" + model.length ) ;\n * }\n *\n * var changed = function( value , model )\n * {\n *     trace( \"[+] change:\" + value + \" current:\" + dump(model.current) + \" size:\" + model.length ) ;\n * }\n *\n * var cleared = function( model )\n * {\n *     trace( \"[x] clear current:\" + dump(model.current) + \" size:\" + model.length ) ;\n * }\n *\n * var removed = function( index , old , model )\n * {\n *     trace( model + \" removed(\" + index + \") old:\" + dump(old) ) ;\n * }\n *\n * var updated = function( index , old , model )\n * {\n *     trace( model + \" updated(\" + index + \") old:\" + dump(old) ) ;\n * }\n *\n * model.added.connect( added ) ;\n * model.beforeChanged.connect( beforeChanged ) ;\n * model.changed.connect( changed ) ;\n * model.cleared.connect( cleared ) ;\n * model.removed.connect( removed ) ;\n * model.updated.connect( updated ) ;\n *\n * model.add( o1 ) ;\n * model.add( o2 ) ;\n * model.add( o3 ) ;\n * model.add( o4 ) ;\n * model.add( o5 ) ;\n * model.add( o6 ) ;\n *\n * trace( \"model length:\" + model.length ) ;\n *\n * trace( \"model.get(0) == o1 : \" + dump( model.get(0)) ) ;\n * trace( \"model.get(1) == o4 : \" + dump( model.get(1)) ) ;\n *\n * model.updateAt( 0 , o4 ) ;\n * trace( \"model.get(0) == o1 : \" + dump( model.get(0)) ) ;\n *\n * model.current = o1 ;\n * model.current = o2 ;\n *\n * model.removeAt( 0 ) ;\n * model.removeAt( 0 , 2 ) ;\n * model.remove( o6 ) ;\n *\n * trace( \"model length:\" + model.length ) ;\n *\n * model.clear() ;\n */\nexport function ArrayModel( factory = null )\n{\n    ChangeModel.call( this ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * Emits a message when an entry is added in the model.\n         * @name added\n         * @memberof system.models.arrays.ArrayModel\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        added : { value : new Signal() } ,\n\n        /**\n         * Emits a message when an entry is removed in the model.\n         * @name removed\n         * @memberof system.models.arrays.ArrayModel\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        removed : { value : new Signal() } ,\n\n        /**\n         * Emits a message when an entry is updated in the model.\n         * @name updated\n         * @memberof system.models.arrays.ArrayModel\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        updated : { value : new Signal() } ,\n\n        /**\n         * @private\n         */\n        _array : { writable : true , value : (factory instanceof Array) ? factory : [] }\n    });\n}\n\nArrayModel.prototype = Object.create( ChangeModel.prototype ,\n{\n    constructor : { writable : true , value : ArrayModel } ,\n\n    /**\n     * Indicates the number of elements register in the model.\n     * @name length\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @type number\n     * @readonly\n     */\n    length : { get : function() { return this._array.length ; } },\n\n    /**\n     * Inserts an entry in the model.\n     * @param {*} entry - The object to register in the model.\n     * @throws ReferenceError if the entry in argument is 'null' or 'undefined'.\n     * @name add\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     */\n    add : { value : function ( entry )\n    {\n        if ( entry === null || entry === undefined )\n        {\n            throw new ReferenceError( this + \" add method failed, the passed-in argument not must be 'null'.\") ;\n        }\n        this.validate( entry ) ;\n        this._array.push( entry ) ;\n        this.notifyAdd( this._array.length - 1 , entry ) ;\n    }},\n\n    /**\n     * Inserts an entry in the model at a specific position index.\n     * @throws ReferenceError if the entry in argument is 'null' or 'undefined'.\n     * @name addAt\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     * @param {number} index - The index position to register the object.\n     * @param {*} entry - The object to register in the model.\n     */\n    addAt : { value : function( index , entry )\n    {\n        if ( entry === null || entry === undefined )\n        {\n            throw new ReferenceError( this + \" add method failed, the passed-in argument not must be 'null'.\") ;\n        }\n        this.validate( entry ) ;\n        this._array.splice( index , 0 , entry ) ;\n        this.notifyAdd( index , entry ) ;\n    }},\n\n    /**\n     * Removes all entries register in the model.\n     * @name clear\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     */\n    clear : { value : function()\n    {\n        this._array.length = 0 ;\n        ChangeModel.prototype.clear.call(this) ;\n    }},\n\n    /**\n     * Returns the element from this model at the passed index.\n     * @param {number} index - The index of the element to return.\n     * @return The element from this model at the passed index.\n     * @name clear\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     */\n    get : { value : function( index )\n    {\n        return this._array[ index ] ;\n    }},\n\n    /**\n     * Returns <code>true</code> if the model contains the specified entry.\n     * @param {*} entry - The entry reference to check.\n     * @return <code>true</code> if the model contains the specified entry.\n     * @name has\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     */\n    has : { value : function( entry )\n    {\n        return this._array.indexOf( entry ) > -1 ;\n    }},\n\n    /**\n     * Returns <code>true</code> if this model is empty.\n     * @return <code>true</code> if this model is empty.\n     * @name isEmpty\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     */\n    isEmpty : { value : function()\n    {\n        return this._array.length === 0 ;\n    }},\n\n    /**\n     * Notify a signal when a new entry is inserted in the model.\n     * @name notifyAdd\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     */\n    notifyAdd : { value : function( index, entry )\n    {\n        if ( !this.isLocked() )\n        {\n            this.added.emit( index, entry , this ) ;\n        }\n    }},\n\n    /**\n     * Notify a signal when a new entry is removed in the model.\n     * @name notifyRemove\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     */\n    notifyRemove : { value : function( index, entry )\n    {\n        if ( !this.isLocked() )\n        {\n            this.removed.emit( index, entry , this ) ;\n        }\n    }},\n\n    /**\n     * Notify a signal when a new entry is updated in the model.\n     * @name notifyUpdate\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     */\n    notifyUpdate : { value : function( index, entry )\n    {\n        if ( !this.isLocked() )\n        {\n            this.updated.emit( index, entry , this ) ;\n        }\n    }},\n\n    /**\n     * Removes an entry in the model.\n     * @name remove\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     * @param {*} entry - The object to unregister in the model.\n     */\n    remove : { value : function( entry )\n    {\n        if ( entry === null || entry === undefined )\n        {\n            throw new ReferenceError( this + \" remove method failed, the entry passed in argument not must be null.\") ;\n        }\n        var index = this._array.indexOf( entry );\n        if ( index > -1 )\n        {\n            this.removeAt( index ) ;\n        }\n        else\n        {\n            throw new ReferenceError( this + \" remove method failed, the entry is not register in the model.\") ;\n        }\n    }},\n\n    /**\n     * Removes from this model all the elements that are contained between the specific <code>id</code> position and the end of this list (optional operation).\n     * @param {number} id - The index of the element or the first element to remove.\n     * @param {number} [count=1] The number of elements to remove (default 1).\n     * @return The Array representation of all elements removed in the original list.\n     * @name removeAt\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     */\n    removeAt : { value : function( index, count = 1 )\n    {\n        count = count > 1 ? count : 1 ;\n        var old = this._array.splice( index , count );\n        if( old )\n        {\n            this.notifyRemove( index, old ) ;\n        }\n    }},\n\n    /**\n     * Removes from this model all of the elements whose index is between <code>fromIndex</code>, inclusive and <code>toIndex</code>, exclusive.\n     * <p>Shifts any succeeding elements to the left (reduces their index).</p>\n     * <p>This call shortens the model by (toIndex - fromIndex) elements. (If toIndex==fromIndex, this operation has no effect.)</p>\n     * @param {number} fromIndex - The from index (inclusive) to remove elements in the list.\n     * @param {number} toIndex - The to index (exclusive) to remove elements in the list.\n     * @name removeRange\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     */\n    removeRange : { value : function( fromIndex , toIndex )\n    {\n        if ( fromIndex === toIndex )\n        {\n            return null ;\n        }\n        return this.removeAt( fromIndex , toIndex - fromIndex ) ;\n    }},\n\n    /**\n     * Enforce to set the internal array of this model (default use a new Array instance). This method change the model without notification.\n     * @name setArray\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     * @param {array} ar - The Array reference to fill the model.\n     */\n    setArray : { value : function( ar )\n    {\n        this._array = (ar instanceof Array) ? ar : [] ;\n    }},\n\n    /**\n     * Update an entry in the model with the specified index.\n     * @param {number} index - The index to update an entry.\n     * @param {*} entry - the new value to insert in the model at the specified index.\n     * @name updateAt\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     */\n    updateAt : { value : function( index , entry )\n    {\n        this.validate( entry ) ;\n        var old = this._array[ index ] ;\n        if( old )\n        {\n            this._array[ index ] = entry ;\n            this.notifyUpdate( index , old ) ;\n        }\n    }},\n\n    /**\n     * Returns the internal array representation of this model.\n     * @return The array representation of this model.\n     * @name toArray\n     * @memberof system.models.arrays.ArrayModel\n     * @instance\n     * @function\n     */\n    toArray : { value : function()\n    {\n        return this._array ;\n    }}\n}) ;\n","\"use strict\" ;\n\nimport { ArrayMap }     from \"../../data/maps/ArrayMap.js\" ;\nimport { ChangeModel }  from \"../ChangeModel.js\" ;\nimport { KeyValuePair } from \"../../data/KeyValuePair.js\" ;\nimport { Signal }       from \"../../signals/Signal.js\" ;\n\n/**\n * This model use an internal {@link system.data.KeyValuePair|KeyValuePair} map to register objects.\n * @name MapModel\n * @extends system.models.ChangeModel\n * @implements system.data.Iterator\n * @memberof system.models.maps\n * @class\n * @example\n * var o1 = { id : \"key1\" } ;\n * var o2 = { id : \"key2\" } ;\n * var o3 = { id : \"key3\" } ;\n * var o4 = { id : \"key1\" } ;\n *\n * var added = function( entry , model )\n * {\n *     trace( \"[+] added entry:\" + dump(entry) + \" size:\" + model.length ) ;\n * }\n *\n * var beforeChanged = function( entry , model )\n * {\n *     trace( \"[--] before:\" + dump(entry) + \" current:\" + model.current + \" size:\" + model.length ) ;\n * }\n *\n * var changed = function( entry , model )\n * {\n *     trace( \"[++] change:\" + dump(entry) + \" current:\" + model.current + \" size:\" + model.length ) ;\n * }\n *\n * var cleared = function( model )\n * {\n *     trace( \"[x] clear current:\" + model.current + \" size:\" + model.length ) ;\n * }\n *\n * var removed = function( entry , model )\n * {\n *     trace( \"[-] removed entry:\" + dump(entry) + \" size:\" + model.length ) ;\n * }\n *\n * var updated = function( entry , model )\n * {\n *     trace( \"[u] update entry:\" + dump(entry) + \" size:\" + model.length ) ;\n * }\n *\n * var model = new MapModel() ;\n *\n * model.added.connect( added ) ;\n * model.beforeChanged.connect( beforeChanged ) ;\n * model.changed.connect( changed ) ;\n * model.cleared.connect( cleared ) ;\n * model.removed.connect( removed ) ;\n * model.updated.connect( updated ) ;\n *\n * model.add( o1 ) ;\n * model.add( o2 ) ;\n * model.add( o3 ) ;\n *\n * trace( \"#  model.get('key1') == o1 : \" + ( model.get(\"key1\") === o1 ) ) ;\n * trace( \"#  model.get('key1') == o4 : \" + ( model.get(\"key1\") === o4 ) ) ;\n *\n * model.update( o4 ) ;\n *\n * model.current = o1 ;\n * model.current = o2 ;\n */\nexport function MapModel( factory = null , key = \"id\" )\n{\n    ChangeModel.call( this ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * Emits a message when an entry is added in the model.\n         * @name added\n         * @memberof system.models.maps.MapModel\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        added : { value : new Signal() } ,\n\n        /**\n         * Emits a message when an entry is removed in the model.\n         * @name removed\n         * @memberof system.models.maps.MapModel\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        removed : { value : new Signal() } ,\n\n        /**\n         * Emits a message when an entry is updated in the model.\n         * @name updated\n         * @memberof system.models.maps.MapModel\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        updated : { value : new Signal() } ,\n\n        /**\n         * @private\n         */\n        _map : { writable : true , value : (factory instanceof KeyValuePair) ? factory : new ArrayMap() } ,\n\n        /**\n         * @private\n         */\n        _primaryKey :\n        {\n            value    : ( !(key instanceof String || typeof(key) === 'string') || key === \"\" ) ? MapModel.DEFAULT_PRIMARY_KEY : key ,\n            writable : true\n        }\n    });\n}\n\n/**\n * Indicates the default primary key value (\"id\").\n * @name DEFAULT_PRIMARY_KEY\n * @memberof system.models.maps.MapModel\n * @type {string}\n * @default <code>\"id\"</code>\n * @const\n */\nObject.defineProperty( MapModel , 'DEFAULT_PRIMARY_KEY' , { value : \"id\" } ) ;\n\nMapModel.prototype = Object.create( ChangeModel.prototype ,\n{\n    constructor : { writable : true , value : MapModel } ,\n\n    /**\n     * Indicates the number of elements register in the model.\n     * @name length\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @type number\n     * @readonly\n     */\n    length : { get : function() { return this._map.length ; } },\n\n    /**\n     * Indicates the name of the primary key used to map all objects in the model and identifies each record in the table.\n     * By default the model use the \"id\" primary key in the objects.\n     * <p><b>Note:</b> If you use this property and if the model contains entries, all entries will be removing.</p>\n     * @see MapModel.DEFAULT_PRIMARY_KEY\n     * @name primaryKey\n     * @memberof system.models.maps.MapModel\n     * @instance\n     */\n    primaryKey :\n    {\n        get : function()\n        {\n            return this._primaryKey ;\n        },\n        set : function( key )\n        {\n            if( key === this._primaryKey )\n            {\n                return ;\n            }\n            this._primaryKey = ( !(key instanceof String || typeof(key) === 'string') || key === \"\" ) ? MapModel.DEFAULT_PRIMARY_KEY : key ;\n            if ( this._map.length > 0 )\n            {\n                this._map.clear() ;\n            }\n        }\n    },\n\n    /**\n     * Inserts an entry in the model, must be identifiable and contains an id property.\n     * @throws ReferenceError if the argument of this method is 'null' or 'undefined'.\n     * @throws ReferenceError if the passed-in entry is already register in the model.\n     * @name add\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     * @param {system.data.Identifiable} entry - The identifiable object to register in the model.\n     */\n    add : { value : function ( entry )\n    {\n        if ( entry === null || entry === undefined )\n        {\n            throw new ReferenceError( this + \" add method failed, the passed-in argument not must be 'null'.\") ;\n        }\n        this.validate( entry ) ;\n        if ( this._primaryKey in entry )\n        {\n            if ( !this._map.has( entry[ this._primaryKey ] ) )\n            {\n                this._map.set( entry[this._primaryKey] , entry ) ;\n                this.notifyAdd( entry ) ;\n            }\n            else\n            {\n                throw new ReferenceError( this + \" add method failed, the passed-in entry is already register in the model with the specified primary key, you must remove this entry before add a new entry.\") ;\n            }\n        }\n        else\n        {\n            throw new ReferenceError( this + \" add method failed, the entry is not identifiable and don't contains a primary key with the name '\" + this._primaryKey + \"'.\") ;\n        }\n    }},\n\n    /**\n     * Removes all entries register in the model.\n     * @name clear\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    clear : { value : function()\n    {\n        this._map.clear() ;\n        ChangeModel.prototype.clear.call(this) ;\n    }},\n\n    /**\n     * Returns the entry defined by the key passed-in argument.\n     * @return The entry defined by the key passed-in argument.\n     * @name add\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     * @param {*} key - The key to search a specific entry in the model.\n     */\n    get : { value : function( key )\n    {\n        return this._map.get( key );\n    }},\n\n    /**\n     * Returns an entry defines in the model with the specified member.\n     * @return an entry defines in the model with the specified member.\n     * @name getByProperty\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    getByProperty : { value : function( propName , value )\n    {\n        if ( propName === null || !(propName instanceof String || typeof(propName) === 'string') )\n        {\n            return null ;\n        }\n        var datas = this._map.values() ;\n        var size  = datas.length ;\n        try\n        {\n            if (size > 0)\n            {\n                while ( --size > -1 )\n                {\n                    if ( datas[size][propName] === value )\n                    {\n                        return datas[size] ;\n                    }\n                }\n            }\n        }\n        catch( er )\n        {\n            //\n        }\n        return null ;\n    }},\n\n    /**\n     * Returns <code>true</code> if the model contains the specified entry.\n     * @param {system.data.Identifiable} entry - The entry reference to verify.\n     * @return <code>true</code> if the model contains the specified entry.\n     * @name has\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    has : { value : function( entry )\n    {\n        return this._map.hasValue( entry ) ;\n    }},\n\n    /**\n     * Returns <code>true</code> if the model contains the specified attribute value.\n     * @return <code>true</code> if the model contains the specified key in argument\n     * @name hasByProperty\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    hasByProperty : { value : function( propName , value )\n    {\n        if ( propName === null || !(propName instanceof String || typeof(propName) === 'string') )\n        {\n            return false ;\n        }\n        var datas = this._map.values() ;\n        var size  = datas.length ;\n        if (size > 0)\n        {\n            while ( --size > -1 )\n            {\n                if ( datas[size][propName] === value )\n                {\n                    return true ;\n                }\n            }\n        }\n        return false ;\n    }},\n\n    /**\n     * Returns <code>true</code> if the model contains the specified id key in argument.\n     * @return <code>true</code> if the model contains the specified id key in argument\n     * @name hasKey\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    hasKey : { value : function( key )\n    {\n        return this._map.has( key ) ;\n    }},\n\n    /**\n     * Returns <code>true</code> if this model is empty.\n     * @return <code>true</code> if this model is empty.\n     * @name isEmpty\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    isEmpty : { value : function()\n    {\n        return this._map.isEmpty() ;\n    }},\n\n    /**\n     * Returns the iterator of this model.\n     * @return the iterator of this model.\n     * @name iterator\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    iterator : { value : function()\n    {\n        return this._map.iterator() ;\n    }},\n\n    /**\n     * Returns the keys iterator of this model.\n     * @return the keys iterator of this model.\n     * @name keyIterator\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    keyIterator : { value : function()\n    {\n        return this._map.keyIterator() ;\n    }},\n\n    /**\n     * Notify a signal when a new entry is inserted in the model.\n     * @name notifyAdd\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    notifyAdd : { value : function( entry )\n    {\n        if ( !this.isLocked() )\n        {\n            this.added.emit( entry , this ) ;\n        }\n    }},\n\n    /**\n     * Notify a signal when a new entry is removed in the model.\n     * @name notifyRemove\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    notifyRemove : { value : function( entry )\n    {\n        if ( !this.isLocked() )\n        {\n            this.removed.emit( entry , this ) ;\n        }\n    }},\n\n    /**\n     * Notify a signal when a new entry is updated in the model.\n     * @name notifyUpdate\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    notifyUpdate : { value : function( entry )\n    {\n        if ( !this.isLocked() )\n        {\n            this.updated.emit( entry , this ) ;\n        }\n    }},\n\n    /**\n     * Removes an entry in the model.\n     * @name remove\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    remove : { value : function( entry )\n    {\n        if ( entry === null || entry === undefined )\n        {\n            throw new ReferenceError( this + \" remove method failed, the entry passed in argument not must be null.\") ;\n        }\n        if ( this._primaryKey in entry )\n        {\n            if ( this._map.has( entry[this._primaryKey] ) )\n            {\n                this._map.delete( entry[this._primaryKey] ) ;\n                this.notifyRemove( entry ) ;\n            }\n            else\n            {\n                throw new ReferenceError( this + \" remove method failed, no entry register in the model with the specified primary key.\") ;\n            }\n        }\n        else\n        {\n            throw new ReferenceError( this + \" remove method failed, the entry is not identifiable and don't contains a primary key with the name '\" + this._primaryKey + \"'.\") ;\n        }\n    }},\n\n    /**\n     * Enforce to set the internal KeyValuePair collection of this model (default use a new Array instance). This method change the model without notification.\n     * @name setMap\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     * @param {system.data.KeyValuePair} map - The map reference to initialize this model.\n     */\n    setMap : { value : function( map )\n    {\n        this._map = (map instanceof KeyValuePair) ? map : new ArrayMap() ;\n    }},\n\n    /**\n     * Update an entry in the model.\n     * @param {system.data.Identifiable} entry - The new value to insert in the model with a specific id.\n     * @name update\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    update : { value : function( entry )\n    {\n        if ( this._primaryKey in entry )\n        {\n            if ( this._map.has( entry[this._primaryKey] ) )\n            {\n                this._map.set( entry[this._primaryKey] , entry ) ;\n                this.notifyUpdate( entry ) ;\n            }\n            else\n            {\n                throw new ReferenceError( this + \" update method failed, no entry register in the model with the specified primary key.\") ;\n            }\n        }\n        else\n        {\n            throw new ReferenceError( this + \" update method failed, the entry is not identifiable and don't contains a primary key with the name '\" + this._primaryKey + \"'.\") ;\n        }\n    }},\n\n    /**\n     * Returns the internal {@link system.data.KeyValuePair|KeyValuePair} (map) representation of this model.\n     * @return The internal  {@link system.data.KeyValuePair|KeyValuePair} (map) representation of this model.\n     * @name update\n     * @memberof system.models.maps.MapModel\n     * @instance\n     * @function\n     */\n    toMap : { value : function()\n    {\n        return this._map ;\n    }}\n}) ;","\"use strict\" ;\n\nimport { Action } from '../../process/Action.js' ;\n\nimport { MapModel } from './MapModel.js' ;\n\n/**\n * Initialize the map model with an Array of ValueObject objects.\n * @summary Initialize the map model with an Array of ValueObject objects.\n * @name InitMapModel\n * @class\n * @memberof system.models.maps\n * @extends system.process.Action\n * @param {system.models.maps.MapModel} [model=null] The model to initialize.\n * @param {Array} [datas=null] The collection of ValueObject to fill the model.\n * @param {Boolean} [autoClear=false] Indicates if the model is auto cleared when the process start.\n * @param {Boolean} [autoSelect=false] Indicates if the first item inserted in the model must be selected.\n * @param {Boolean} [autoDequeue=false] Indicates if the datas collection is auto dequeued when the model is filled.\n * @param {Boolean} [cleanFirst=false] Indicates if the 'first' attribute must be autocleared when the process is finished.\n * @example\n * let model = new MapModel() ;\n * let datas =\n * [\n *     { id:1 , name:\"test1\" } ,\n *     { id:2 , name:\"test2\" } ,\n *     { id:3 , name:\"test3\" } ,\n *     { id:4 , name:\"test4\" } ,\n *     { id:5 , name:\"test5\" } ,\n *     { id:6 , name:\"test6\" }\n * ] ;\n *\n * let init = new InitMapModel( model , datas ) ;\n *\n * init.first = 3 ; // id = 3\n *\n * init.autoSelect  = true ; // auto select the 'first' entry\n * init.autoDequeue = true ; // dequeue the datas array collection\n * init.autoClear   = false ; // auto clear the model when the process is started\n *\n * init.run() ;\n */\nexport function InitMapModel ( model = null , datas = null  , autoClear = false , autoSelect = false , autoDequeue = false , cleanFirst = false )\n{\n    Action.call( this ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * Indicates if the model is autocleared when the process start.\n         * @memberof system.models.maps.InitMapModel\n         * @type {Boolean}\n         * @instance\n         * @default <code>false</code>\n         */\n        autoClear : { value : autoClear === true , writable : true } ,\n\n        /**\n         * Indicates if the datas Array elements are dequeued during the process.\n         * @memberof system.models.maps.InitMapModel\n         * @type {Boolean}\n         * @instance\n         * @default <code>false</code>\n         */\n        autoDequeue : { value : autoDequeue === true , writable : true } ,\n\n        /**\n         * Indicates if the first item inserted in the model must be selected.\n         * @memberof system.models.maps.InitMapModel\n         * @type {Boolean}\n         * @instance\n         * @default <code>false</code>\n         */\n        autoSelect : { value : autoSelect === true , writable : true } ,\n\n        /**\n         * Indicates if the first attribute must be autocleared when the process is finished.\n         * @memberof system.models.maps.InitMapModel\n         * @type {Boolean}\n         * @instance\n         * @default <code>false</code>\n         */\n        cleanFirst : { value : cleanFirst === true , writable : true } ,\n\n        /**\n         * The Array representation of all ValueObject to insert in the map model.\n         * @memberof system.models.maps.InitMapModel\n         * @type {Array}\n         * @instance\n         * @default <code>null</code>\n         */\n        datas : { value : (datas instanceof Array) ? datas : null , writable : true } ,\n\n        /**\n         * Indicates if the first item inserted in the model must be selected.\n         * @memberof system.models.maps.InitMapModel\n         * @type {Object}\n         * @instance\n         * @default <code>null</code>\n         */\n        first : { value : null , writable : true } ,\n\n        /**\n         * The model reference to initialize.\n         * @memberof system.models.maps.InitMapModel\n         * @type {system.models.maps.MapModel}\n         * @instance\n         * @default <code>null</code>\n         */\n        model : { value : (model instanceof MapModel) ? model : null , writable : true }\n    }) ;\n}\n\nInitMapModel.prototype = Object.create( Action.prototype ,\n{\n    constructor : { writable : true , value : InitMapModel },\n\n    /**\n     * Creates a copy of the object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.models.maps.InitMapModel\n     * @function\n     * @instance\n     */\n    clone : { writable : true , value : function()\n    {\n        return new InitMapModel( this.models , this.datas , this.autoClear , this.autoSelect , this.autoDequeue , this.cleanFirst ) ;\n    }},\n\n    /**\n     * Transforms the passed-in value. This method is used in the run() method to filter all elements in the datas array.\n     * @memberof system.models.maps.InitMapModel\n     * @function\n     * @instance\n     */\n    filterEntry : { writable : true , value : function( value )\n    {\n        return value ; // override to filter the entries in the model before to add it.\n    }},\n\n    /**\n     * Reset the process.\n     * @memberof system.models.maps.InitMapModel\n     * @function\n     * @instance\n     */\n    reset : { writable : true , value : function()\n    {\n        this.datas = null ;\n    }},\n\n    /**\n     * Run the process.\n     * @memberof system.models.maps.InitMapModel\n     * @function\n     * @instance\n     */\n    run : { writable : true , value : function( ...args )\n    {\n        this.notifyStarted() ;\n\n        if( !(this.model instanceof MapModel) )\n        {\n            this.notifyFinished() ;\n            return ;\n        }\n\n        if( (this.autoClear === true) && !(this.model.isEmpty()) )\n        {\n            this.model.clear() ;\n        }\n\n        if ( args.length > 0 )\n        {\n            this.datas = args[0] instanceof Array ? args[0] : null ;\n        }\n\n        if( !(this.datas instanceof Array) || this.datas.length === 0 )\n        {\n            this.notifyFinished() ;\n            return ;\n        }\n\n        let entry ;\n        let size = this.datas.length ;\n\n        for( let i = 0 ; i < size ; i++ )\n        {\n            entry = this.filterEntry( this.datas[i] ) ;\n\n            this.model.add( entry ) ;\n\n            if ( this.first === null && entry !== null )\n            {\n                this.first = entry ;\n            }\n        }\n\n        if( this.datas && (this.datas instanceof Array) && (this.autoDequeue === true) )\n        {\n            this.datas.length = 0 ;\n        }\n\n        if ( this.first !== null && (this.autoSelect === true) )\n        {\n            if ( this.model.has( this.first ) )\n            {\n                this.model.current = this.model.get( this.first ) ;\n            }\n            else\n            {\n                this.model.current = this.first ;\n            }\n\n            if ( this.cleanFirst === true )\n            {\n                this.first = null ;\n            }\n        }\n        this.notifyFinished() ;\n    }}\n});","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { ChangeModel } from './models/ChangeModel.js' ;\nimport { MemoryModel } from './models/MemoryModel.js' ;\nimport { Model }       from './models/Model.js' ;\n\nimport { ArrayModel }   from './models/arrays/ArrayModel.js' ;\nimport { InitMapModel } from './models/maps/InitMapModel.js' ;\nimport { MapModel }     from './models/maps/MapModel.js' ;\n\n/**\n * The {@link system.models} library provides a simple <b>MVC</b> implementation with a collection of <code>Model</code> classes to manage your applications.\n * @summary The {@link system.models} library provides a simple <b>MVC</b> implementation with a collection of <code>Model</code> classes to manage your applications.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace system.models\n * @memberof system\n * @example\n * var beforeChanged = function( value , model )\n * {\n *     trace( \"before:\" + value + \" current:\" + model.current ) ;\n * }\n *\n * var changed = function( value , model )\n * {\n *     trace( \"change:\" + value + \" current:\" + model.current ) ;\n * }\n *\n * var cleared = function( model )\n * {\n *     trace( \"clear current:\" + model.current ) ;\n * }\n *\n * var model = new ChangeModel() ;\n *\n * model.beforeChanged.connect( beforeChanged ) ;\n * model.changed.connect( changed ) ;\n * model.cleared.connect( cleared ) ;\n *\n * model.current = \"hello\" ;\n * model.current = \"world\" ;\n * model.current = null ;\n */\nexport var models = Object.assign\n({\n    // classes\n\n    ChangeModel : ChangeModel,\n    MemoryModel : MemoryModel,\n    Model       : Model,\n\n    // packages\n\n    /**\n     * @namespace system.models.arrays\n     * @memberof system.models\n     */\n    arrays : Object.assign\n    ({\n        ArrayModel\n    }),\n\n    /**\n     * @namespace system.models.maps\n     * @memberof system.models\n     */\n    maps : Object.assign\n    ({\n        InitMapModel ,\n        MapModel\n    })\n}) ;","\"use strict\" ;\n\n/**\n * A pseudo random number generator (PRNG) is an algorithm for generating a sequence of numbers that approximates the properties of random numbers.\n * <p>Implementation of the <b>Park Miller</b> (1988) \"<i>minimal standard</i>\" linear congruential pseudo-random number generator.\n * For a full explanation visit: {@link http://www.firstpr.com.au/dsp/rand31/}</p>\n * <p>The generator uses a modulus constant <code>((m) of 2^31 - 1)</code> which is a <b>Mersenne Prime number</b> and a full-period-multiplier of <code>16807</code>.\n * Output is a 31 bit unsigned integer. The range of values output is <code>1</code> to <code>2147483646</code> (2^31-1) and the seed must be in this range too.</p>\n * @summary A pseudo random number generator (PRNG) is an algorithm for generating a sequence of numbers that approximates the properties of random numbers.\n * @name PRNG\n * @class\n * @memberof system.numeric\n * @param {number} [value=0] - The optional default value of the <code>PRNG</code> object, if the passed-in value is <code>>=1</code> a random value is generated with the <code>Math.random()</code> static method.\n */\nexport function PRNG( value = 1 )\n{\n    Object.defineProperties( this ,\n    {\n        _value : { value : 1 , writable : true }\n    }) ;\n\n    this.value = (value > 0) ? value : Math.random() * 0X7FFFFFFE ;\n}\n\nPRNG.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : PRNG } ,\n\n    /**\n     * Defines the current random value with a 31 bit unsigned integer between <code>1</code> and <code>0X7FFFFFFE</code> inclusive (don't use 0).\n     * @name value\n     * @memberof system.numeric.PRNG\n     * @instance\n     * @type number\n     */\n    value :\n    {\n        get : function() { return this._value ; } ,\n        set : function( value )\n        {\n            value = value > 1 ? value : 1 ;\n            value = value > 0X7FFFFFFE ? 0X7FFFFFFE : value ;\n            this._value = value ;\n        }\n    },\n\n    /**\n     * Provides the next pseudo random number as an unsigned integer (31 bits).\n     * @return The next pseudo random number as an unsigned integer (31 bits).\n     * @name randomInt\n     * @memberof system.numeric.PRNG\n     * @instance\n     * @function\n     */\n    randomInt : { value : function()\n    {\n        this._value = (this._value * 16807) % 2147483647 ;\n        return this._value ;\n    }},\n\n    /**\n     * Provides the next pseudo random number as an unsigned integer (31 bits) between a minimum value and maximum value.\n     * @param {number} [min=0] - The minimum range value to evaluates the pseudo random number.\n     * @param {number} [max=1] - The maximum range value to evaluates the pseudo random number.\n     * @return The next pseudo random number as an unsigned integer (31 bits) between a minimum value and maximum value.\n     * @name randomIntByMinMax\n     * @memberof system.numeric.PRNG\n     * @instance\n     * @function\n     */\n    randomIntByMinMax : { value : function( min = 0 , max = 1 )\n    {\n        if ( isNaN( min ) )\n        {\n            min = 0 ;\n        }\n        if ( isNaN( max ) )\n        {\n            max = 1 ;\n        }\n        min -= 0.4999;\n        max += 0.4999;\n        this._value = (this._value * 16807) % 2147483647 ;\n        return Math.round(min + ( ( max - min ) * this._value / 2147483647 ) );\n    }},\n\n    /**\n     * Provides the next pseudo random number as an unsigned integer (31 bits) between a given range.\n     * @param {system.numeric.Range} range - The range object to evaluate the pseudo random number.\n     * @return The next pseudo random number as an unsigned integer (31 bits) between a minimum value and maximum value.\n     * @name randomIntByRange\n     * @memberof system.numeric.PRNG\n     * @instance\n     * @function\n     */\n    randomIntByRange : { value : function( r ) \n    {\n        var min = r.min - 0.4999;\n        var max = r.max + 0.4999;\n        this._value = (this._value * 16807) % 2147483647 ;\n        return Math.round(min + ( ( max - min ) * this._value / 2147483647 ) );\n    }},\n\n    /**\n     * Provides the next pseudo random number as a float between nearly 0 and nearly 1.0.\n     * @return The next pseudo random number as a float between nearly 0 and nearly 1.0.\n     * @name randomNumber\n     * @memberof system.numeric.PRNG\n     * @instance\n     * @function\n     */\n    randomNumber : { value : function() /*Number*/\n    {\n        this._value = (this._value * 16807) % 2147483647 ;\n        return this._value / 2147483647 ;\n    }},\n\n    /**\n     * Provides the next pseudo random number as a float between a minimum value and maximum value.\n     * @return The next pseudo random number as a float between a minimum value and maximum value.\n     * @param {number} [min=0] - The minimum range value to evaluates the pseudo random number.\n     * @param {number} [max=1] - The maximum range value to evaluates the pseudo random number.\n     * @name randomNumberByMinMax\n     * @memberof system.numeric.PRNG\n     * @instance\n     * @function\n     */\n    randomNumberByMinMax : { value : function( min , max )\n    {\n        if ( isNaN( min ) )\n        {\n            min = 0 ;\n        }\n        if ( isNaN( max ) )\n        {\n            max = 1 ;\n        }\n        this._value = (this._value * 16807) % 2147483647 ;\n        return min + ((max - min) * this._value / 2147483647 ) ;\n    }},\n\n    /**\n     * Provides the next pseudo random number as a float between a given range.\n     * @return The next pseudo random number as a float in a specific range.\n     * @param {system.numeric.Range} range - The range to born the number.\n     * @name randomNumberByRange\n     * @memberof system.numeric.PRNG\n     * @instance\n     * @function\n     */\n    randomNumberByRange : { value : function( r /*Range*/ ) /*Number*/\n    {\n        this._value = (this._value * 16807) % 2147483647 ;\n        return r.min + ((r.max - r.min) * this._value / 2147483647 ) ;\n    }},\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @name toString\n     * @memberof system.numeric.PRNG\n     * @instance\n     * @function\n     */\n    toString : { value : function ()\n    {\n        return String( this._value ) ;\n    }},\n\n    /**\n     * Returns the string representation of this instance.\n     * @return the string representation of this instance.\n     * @name valueOf\n     * @memberof system.numeric.PRNG\n     * @instance\n     * @function\n     */\n    valueOf : { value : function () \n    {\n        return this._value ;\n    }}\n}) ;\n","\"use strict\" ;\n\n/**\n * Represents a range of numeric values. This range can be immutable.\n * @summary Represents a range of numeric values. This range can be immutable.\n * @name Range\n * @memberof system.numeric\n * @class\n * @implements system.Equatable\n * @param {number} [min=NaN] - The minimum range value.\n * @param {number} [max=NaN] - The maximum range value.\n * @param {boolean} [writable=true] - Indicates if the min and max values must be freezed. Prevents existing <code>min</code> and <code>max</code> properties from being removed or their enumerability, configurability, or writability, from being changed.\n * @example\n * var Range = system.numeric.Range ;\n *\n * var r1 = new Range(10, 120) ;\n * var r2 = new Range(100, 150) ;\n *\n * trace (\"r1 : \" + r1) ; // r1 : [Range min:10 max:120]\n * trace (\"r2 : \" + r2) ; // r2 : [Range min:100 max:150]\n *\n * trace (\"r1 contains 50    : \" + r1.contains(50)) ; // r1 contains 50 : true\n * trace (\"r1 isOutOfRange 5 : \" + r1.isOutOfRange(5)) ; // r1 isOutOfRange 5 : true\n * trace (\"r1 overlap r2     : \" + r1.overlap(r2)) ; // r1 overlap r2 : true\n * trace (\"r1 clamp 5        : \" + r1.clamp(5)) ; // r1 clamp 5 : 10\n * trace (\"r1 clamp 121      : \" + r1.clamp(121)) ; // r1 clamp 121 : 120\n */\nexport function Range( min = NaN , max = NaN , writable = true )\n{\n    if ( max < min )\n    {\n        throw new RangeError( \"The Range constructor failed, the 'max' argument is < of 'min' argument\" ) ;\n    }\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * The maximum range value.\n         * @memberof system.numeric.Range\n         * @type number\n         * @instance\n         */\n        max : { writable : writable , value : isNaN(max) ? NaN : max } ,\n\n        /**\n         * The minimum range value.\n         * @memberof system.numeric.Range\n         * @type number\n         * @instance\n         */\n        min : { writable : writable , value : isNaN(min) ? NaN : min }\n    });\n}\n\nRange.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Range } ,\n\n    /**\n     * Clamps a specific value in the current range.\n     * @name clamp\n     * @memberof system.numeric.Range\n     * @function\n     * @instance\n     * @param {number} value - The number to clamp between the minimum and maximum value of the current range.\n     * @return {number} The clamped value.\n     * @example\n     * var range = new Range(2,8) ;\n     * trace( range.clamp(1) ) ; // 2\n     * trace( range.clamp(2) ) ; // 2\n     * trace( range.clamp(5) ) ; // 5\n     * trace( range.clamp(8) ) ; // 8\n     * trace( range.clamp(9) ) ; // 8\n     */\n    clamp : { value : function( value )\n    {\n        if (isNaN( value ))\n        {\n            return NaN ;\n        }\n        let mi = this.min ;\n        let ma = this.max ;\n        if (isNaN( mi ))\n        {\n            mi = value ;\n        }\n        if (isNaN( ma ))\n        {\n            ma = value ;\n        }\n        return Math.max( Math.min( value, ma ), mi ) ;\n    }},\n\n    /**\n     * Returns a shallow copy of the object.\n     * @name clone\n     * @memberof system.numeric.Range\n     * @function\n     * @instance\n     * @return a shallow copy of the object.\n     */\n    clone : { writable : true , value : function()\n    {\n        return new Range( this.min , this.max ) ;\n    }},\n\n    /**\n     * Creates a new range by combining two existing ranges.\n     * @name combine\n     * @memberof system.numeric.Range\n     * @function\n     * @instance\n     * @param {system.numeric.Range} [range=null] - The range to combine, <code>null</code> permitted to create a clone of the current range.\n     * @return {system.numeric.Range} The new range combined between the curred and passed-in range.\n     * @example\n     * var range1 = new Range(2,8) ;\n     * var range2 = new Range(1,8) ;\n     * var range3 = new Range(5,10) ;\n     *\n     * trace( range1.combine( range2 ) ) ; // [Range min:1 max:8]\n     * trace( range1.combine( range3 ) ) ; // [Range min:2 max:10]\n     */\n    combine : { value : function( range = null )\n    {\n        if ( !(range instanceof Range) )\n        {\n            return this.clone() ;\n        }\n        else\n        {\n            return new Range( Math.min( this.min , range.min ) , Math.max( this.max , range.max ) ) ;\n        }\n    }},\n\n    /**\n     * Returns <code>true</code> if the {@link system.numeric.Range|Range} instance contains the value passed in argument.\n     * @name contains\n     * @param {number} value - The value to check.\n     * @return {boolean} <code>true</code> if the Range instance contains the value passed in argument.\n     * @memberof system.numeric.Range\n     * @function\n     * @instance\n     * @example\n     * var range = new Range(2,8) ;\n     * trace( range.contains(2) ) ; // true\n     * trace( range.contains(5) ) ; // true\n     * trace( range.contains(8) ) ; // true\n     * trace( range.contains(0) ) ; // false\n     * trace( range.contains(9) ) ; // false\n     */\n    contains : { value : function( value )\n    {\n        return !( (value > this.max ) || (value < this.min) ) ;\n    }},\n\n    /**\n     * Indicates whether some other object is <b>equal to</b> this one.\n     * @name equals\n     * @memberof system.numeric.Range\n     * @function\n     * @instance\n     * @param {*} object - The object to evaluates.\n     * @return {boolean} true if the the specified object is <b>equal to</b> this one.\n     * @example\n     * var range1 = new Range(2,8) ;\n     * var range2 = new Range(2,8) ;\n     * var range3 = new Range(5,10) ;\n     *\n     * trace( range1.equals(range2) ) ; // true\n     * trace( range1.equals(range3) ) ; // false\n     */\n    equals : { writable : true , value : function( o )\n    {\n        if ( o instanceof Range )\n        {\n            return  ( o.min === this.min ) && ( o.max === this.max ) ;\n        }\n        else\n        {\n            return false ;\n        }\n    }},\n\n    /**\n     * Creates a new range by adding margins to an existing range.\n     * @name expand\n     * @memberof system.numeric.Range\n     * @function\n     * @instance\n     * @param {number} [lowerMargin=0] - The lower margin expressed as a normalized value of the range length (between <code>0</code> and <code>1</code>).\n     * @param {number} [upperMargin=0] - The upper margin expressed as a normalized value of the range length (between <code>0</code> and <code>1</code>).\n     * @return {system.numeric.Range} The new expanded range.\n     * @example\n     * var range = new Range(4,8) ;\n     * trace( range.expand( 0.5 , 0.5 ) ) ; // [Range min:2 max:12]\n     */\n    expand : { value : function( lowerMargin = 0 , upperMargin = 0 )\n    {\n        if ( isNaN(lowerMargin) )\n        {\n            lowerMargin = 1 ;\n        }\n        if ( isNaN(upperMargin) )\n        {\n            upperMargin = 1 ;\n        }\n\n        let delta = this.max - this.min ;\n\n        return new Range\n        (\n            this.min - (delta * lowerMargin) ,\n            this.max + (delta * upperMargin)\n        ) ;\n    }},\n\n    /**\n     * Indicates the central value for the range.\n     * @name getCentralValue\n     * @memberof system.numeric.Range\n     * @function\n     * @instance\n     * @return {number} The central value of the current range.\n     * @example\n     * var range = new Range(4,8) ;\n     * trace( range.getCentralValue() ) ; //  6\n     */\n    getCentralValue : { value : function()\n    {\n        return (this.min + this.max) / 2 ;\n    }},\n\n    /**\n     * Returns a random floating-point number between two numbers.\n     * @name getRandomFloat\n     * @memberof system.numeric.Range\n     * @function\n     * @instance\n     * @return {number} A random floating-point number between two numbers.\n     * @example\n     * var range = new Range(2,8) ;\n     * trace( range.getRandomFloat() ) ; // a float between 2 and 8\n     */\n    getRandomFloat : { value : function()\n    {\n        return Math.random() * ( this.max - this.min ) + this.min ;\n    }},\n\n    /**\n     * Returns a random integer integet between two numbers.\n     * @name getRandomInteger\n     * @memberof system.numeric.Range\n     * @function\n     * @instance\n     * @return {number} A random integer number between two numbers.\n     * @example\n     * var range = new Range(2,8) ;\n     * trace( range.getRandomInteger() ) ; // an integer between 2 and 8\n     */\n    getRandomInteger : { value : function()\n    {\n        return Math.floor( Math.random() * ( this.max - this.min ) + this.min ) ;\n    }},\n\n    /**\n     * Indicates <code>true</code> if the specified value is out of the range.\n     * @name isOutOfRange\n     * @memberof system.numeric.Range\n     * @function\n     * @instance\n     * @param {number} value - The numeric value to evaluates.\n     * @return {boolean} <code>true</code> if the value is out of the range.\n     * @example\n     * var range = new Range(2,8) ;\n     * trace( range.isOutOfRange(1) ) ; // true\n     * trace( range.isOutOfRange(9) ) ; // true\n     * trace( range.isOutOfRange(2) ) ; // false\n     * trace( range.isOutOfRange(5) ) ; // false\n     * trace( range.isOutOfRange(8) ) ; // false\n     */\n    isOutOfRange : { value : function( value )\n    {\n        return (value > this.max ) || (value < this.min) ;\n    }},\n\n    /**\n     * Returns <code>true</code> if the range in argument overlap the current range.\n     * @name overlap\n     * @memberof system.numeric.Range\n     * @function\n     * @instance\n     * @param {system.numeric.Range} range - The range to evaluates.\n     * @return {boolean} <code>true</code> if the range in argument overlap the current range.\n     * @example\n     * var range = new Range(2,8) ;\n     * trace( range.overlap(new Range(1,2)) ) ; // true\n     * trace( range.overlap(new Range(3,5)) ) ; // true\n     * trace( range.overlap(new Range(5,9)) ) ; // true\n     * trace( range.overlap(new Range(8,9)) ) ; // true\n     * trace( range.overlap(new Range(0,1)) ) ; // false\n     * trace( range.overlap(new Range(9,10)) ) ; // false\n     */\n    overlap : { value : function( range )\n    {\n        return ( (this.max >= range.min) && (range.max >= this.min) ) ;\n    }},\n\n    /**\n     * Returns the length of the range.\n     * @name size\n     * @memberof system.numeric.Range\n     * @function\n     * @instance\n     * @return {number} the length of the range.\n     * @example\n     * var range = new Range(2,8) ;\n     * trace( range.size() ) ; // 6\n     */\n    size : { value : function()\n    {\n        return this.max - this.min ;\n    }},\n\n    /**\n     * Returns the string representation of this instance.\n     * @name toString\n     * @memberof system.numeric.Range\n     * @function\n     * @instance\n     * @return {string} the string representation of this instance.\n     * @example\n     * var range = new Range(4,8) ;\n     * trace( range ) ; [Range min:4 max:8]\n     */\n    toString : { writable : true , value : function()\n    {\n        return \"[Range min:\" + this.min + \" max:\" + this.max + \"]\";\n    }}\n}) ;\n\nObject.defineProperties( Range ,\r\n{\r\n    /**\r\n     * Range between <code>-255</code> and <code>255</code>.\r\n     * @memberof system.numeric.Range\r\n     * @type system.numeric.Range\r\n     */\r\n    COLOR : { value : new Range( -255, 255, false ) , enumerable : true } ,\r\n\r\n    /**\r\n     * Range between <code>0</code> and <code>360</code>.\r\n     * @memberof system.numeric.Range\r\n     * @type system.numeric.Range\r\n     */\r\n    DEGREE : { value : new Range( 0, 360, false ) , enumerable : true } ,\r\n\r\n    /**\r\n     * Range between <code>0</code> and <code>100</code>.\r\n     * @memberof system.numeric.Range\r\n     * @type system.numeric.Range\r\n     */\r\n    PERCENT : { value : new Range( 0, 100, false ) , enumerable : true }  ,\r\n\r\n    /**\r\n     * Range between <code>0</code> and <code>Math.PI*2</code>.\r\n     * @memberof system.numeric.Range\r\n     * @type system.numeric.Range\r\n     */\r\n    RADIAN : { value : new Range( 0, Math.PI*2, false ) , enumerable : true } ,\r\n\r\n    /**\r\n     * Range between <code>0</code> and <code>1</code>.\r\n     * @memberof system.numeric.Range\r\n     * @type system.numeric.Range\r\n     */\r\n    UNITY : { value : new Range( 0, 1, false ) , enumerable : true }\r\n}) ;","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { PRNG  } from './numeric/PRNG.js' ;\nimport { Range } from './numeric/Range.js' ;\nimport { RomanNumber } from './numeric/RomanNumber.js' ;\n\n/**\n * The {@link system.numeric} library contains classes and tools that provides extra <code>numeric</code> methods and implementations.\n * @summary The {@link system.numeric} library contains classes and tools that provides extra <code>numeric</code> methods and implementations.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace system.numeric\n * @memberof system\n */\nexport var numeric = Object.assign\n({\n    PRNG  : PRNG ,\n    Range : Range ,\n    RomanNumber : RomanNumber\n}) ;","\"use strict\" ;\n\n/**\n * The ActionEntry objects contains all informations about an Action in a {@link system.process.TaskGroup} object.\n * @name ActionEntry\n * @class\n * @private\n * @memberof system.process\n * @extends system.process.Action\n * @param {system.process.Action} action - The Action reference register in this entry.\n * @param {number} [priority=0] - The priority value of the entry.\n * @param {boolean} [auto=false] - This flag indicates if the receiver must be disconnected when handle the first time a signal.\n */\nexport function ActionEntry( action , priority = 0 , auto = false )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The Action reference register in this entry.\n         * @memberof system.process.ActionEntry\n         * @type {system.process.Action}\n         * @instance\n         */\n        action : { writable : true , value : action } ,\n\n        /**\n         * This flag indicates if the receiver must be disconnected when handle the first time a signal.\n         * @memberof system.process.ActionEntry\n         * @type {boolean}\n         * @instance\n         */\n        auto : { writable : true , value : auto === true } ,\n\n        /**\n         * The priority value of the entry.\n         * @memberof system.process.ActionEntry\n         * @type {number}\n         * @instance\n         */\n        priority : { writable : true , value : (priority > 0) ? Math.ceil( priority ) : 0 }\n    });\n}\n\nActionEntry.prototype = Object.create( Object.prototype ,\n{\n    constructor : { value : ActionEntry } ,\n\n    /**\n     * Returns the String representation of the object.\n     * @return the String representation of the object.\n     * @memberof system.process.ActionEntry\n     * @function\n     * @instance\n     */\n    toString : { value : function()\n    {\n        return \"[ActionEntry action:\" + this.action + \" priority:\" + this.priority + \" auto:\" + this.auto + \"]\" ;\n    }}\n});","\"use strict\" ;\n\nimport { Action } from './Action.js' ;\n\n/**\n * Calls a function with a given this value and arguments provided as an array (or an array-like object).\n * @summary Calls a function with a given this value and arguments provided as an array (or an array-like object).\n * @name Apply\n * @class\n * @memberof system.process\n * @extends system.process.Action\n * @param {Function} [func=null] The function to call.\n * @param {Array} [args=null] An array-like object, specifying the arguments with which fun should be called, or null or undefined.\n * @param {Object} [scope=null] The value of this provided for the call to a function.\n * @example\n * let va = 0 ;\n * let vb = 0 ;\n * let vc = 0 ;\n *\n * let scope =\n * {\n *     a : 1 , b : 1 , c : 1 ,\n *     toString : function() { return 'scope' }\n * };\n *\n * let func = function( a , b , c )\n * {\n *     va = this.a + a ;\n *     vb = this.b + b ;\n *     vc = this.c + c ;\n * } ;\n *\n * let finish = function( action )\n * {\n*     trace( 'finish va:' + va + ' vb:' + vb + ' vc:' + vc ) ;\n * };\n *\n * let start = function( action )\n * {\n *     trace( 'start va:' + va + ' vb:' + vb + ' vc:' + vc ) ;\n * };\n *\n * let action = new Apply( func , [1,2,3] , scope ) ;\n *\n * action.finishIt.connect(finish) ;\n * action.startIt.connect(start) ;\n *\n * action.run() ;\n */\nexport function Apply ( func = null , args = null , scope = null )\n{\n    Action.call( this ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * An array-like object, specifying the arguments with which fun should be called, or null or undefined.\n         * @memberof system.process.Call\n         * @type {Array}\n         * @instance\n         * @default <code>null</code>\n         */\n        args : { value : (args instanceof Array) ? args : null , writable : true } ,\n\n        /**\n         * The function to call.\n         * @memberof system.process.Call\n         * @type {Function}\n         * @instance\n         * @default <code>null</code>\n         */\n        func : { value : func instanceof Function ? func : null , writable : true } ,\n\n        /**\n         * The value of this provided for the call to a function.\n         * @memberof system.process.Call\n         * @type {Object}\n         * @instance\n         * @default <code>null</code>\n         */\n        scope : { value : scope , writable : true }\n    }) ;\n}\n\nApply.prototype = Object.create( Action.prototype ,\n{\n    constructor : { writable : true , value : Apply },\n\n    /**\n     * Creates a copy of the object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.process.Apply\n     * @function\n     * @instance\n     */\n    clone : { writable : true , value : function()\n    {\n        return new Apply( this.func , this.args , this.scope ) ;\n    }},\n\n    /**\n     * Run the process.\n     * @memberof system.process.Apply\n     * @function\n     * @instance\n     */\n    run : { writable : true , value : function()\n    {\n        this.notifyStarted() ;\n        if( this.func instanceof Function )\n        {\n            if( this.args && this.args.length > 0 )\n            {\n                this.func.apply( this.scope , this.args ) ;\n            }\n            else\n            {\n                this.func.apply( this.scope ) ;\n            }\n        }\n        else\n        {\n            throw new TypeError( '[Apply] run failed, the \\'func\\' property must be a Function.' ) ;\n        }\n        this.notifyFinished() ;\n    }}\n});","/*jshint laxbreak: true*/\n\"use strict\" ;\n\nimport { Runnable } from './Runnable.js' ;\n\n/**\n * Enables you to apply a common {@link system.process.Action|Action} to a group of {@link system.process.Action|Action} objects.\n * <p>All {@link system.process.Action|Action} objects are processed as a single unit.<p>\n * <p>This class use an internal typed Collection to register all {system.process.Runnable|Runnable} objects.</p>\n * @summary Enables you to apply a common {@link system.process.Action|Action} to a group of {@link system.process.Action|Action} objects.\n * @name Batch\n * @class\n * @memberof system.process\n * @augments system.process.Runnable\n * @implements system.process.Runnable\n * @param {array} [init=null] - The optional Array of Runnable objects to fill the batch.\n * @example\n * function Command( name )\n * {\n *     this.name = name ;\n * }\n *\n * Command.prototype = Object.create( system.process.Runnable.prototype ) ;\n * Command.constructor = Command ;\n *\n * Command.prototype.run = function()\n * {\n *     trace( this.name + \" run\") ;\n * }\n *\n * Command.prototype.toString = function()\n * {\n *     return '[Command ' + this.name + ']' ;\n * }\n *\n * var batch = new system.process.Batch() ;\n *\n * batch.add( new Command( \"command1\" ) ) ;\n * batch.add( new Command( \"command2\" ) ) ;\n *\n * console.info( batch.length ) ;\n *\n * batch.run() ;\n */\nexport function Batch( init = null )\n{\n    Object.defineProperties( this ,\n    {\n        _entries :\n        {\n            value        : [] ,\n            enumerable   : false ,\n            writable     : true ,\n            configurable : false\n        },\n    }) ;\n\n    if ( init && init instanceof Array && init.length > 0 )\n    {\n        init.forEach( ( element ) =>\n        {\n            if ( element instanceof Runnable )\n            {\n                this.add( element ) ;\n            }\n        }) ;\n    }\n}\n\nBatch.prototype = Object.create( Runnable.prototype ,\n{\n    constructor : { writable : true , value : Batch },\n\n    /**\n     * Retrieves the number of elements in this batch.\n     * @return the number of elements in this batch.\n     * @name length\n     * @memberof system.process.Batch\n     * @instance\n     * @readonly\n     */\n    length :\n    {\n        get : function ()\n        {\n            return this._entries.length ;\n        }\n    },\n\n    /**\n     * Adds the specified Runnable object in batch.\n     * @param {system.process.Runnable} command - The command to register in the batch.\n     * @return <code>true</code> if the command is registered.\n     * @name add\n     * @memberof system.process.Batch\n     * @function\n     * @instance\n     */\n    add : { writable : true , value : function( command )\n    {\n        if ( command && command instanceof Runnable )\n        {\n            this._entries.push( command ) ;\n            return true ;\n        }\n        return false ;\n    }},\n\n    /**\n     * Removes all of the elements from this batch.\n     * @name clear\n     * @memberof system.process.Batch\n     * @function\n     * @instance\n     */\n    clear : { writable : true , value : function()\n    {\n        this._entries.length = 0 ;\n    }},\n\n    /**\n     * Returns a shallow copy of the object.\n     * @return a shallow copy of the object.\n     * @name clone\n     * @memberof system.process.Batch\n     * @function\n     * @instance\n     */\n    clone : { writable : true , value : function()\n    {\n        var b = new Batch() ;\n        var l = this._entries.length ;\n        for( var i = 0 ; i < l ; i++ )\n        {\n            b.add( this._entries[i] ) ;\n        }\n        return b ;\n    }},\n\n    /**\n     * Returns {@code true} if this batch contains the specified element.\n     * @param {system.process.Runnable} command - The command to search in the batch.\n     * @return {@code true} if this batch contains the specified element.\n     * @name contains\n     * @memberof system.process.Batch\n     * @function\n     * @instance\n     */\n    contains : { writable : true , value : function( command )\n    {\n        if ( command instanceof Runnable )\n        {\n            var l = this._entries.length ;\n            while( --l > -1 )\n            {\n                if ( this._entries[l] === command )\n                {\n                    return true ;\n                }\n            }\n        }\n        return false ;\n    }},\n\n    /**\n     * Returns the command from this batch at the passed index.\n     * @param {*} key - The key to find a specific command in the batch.\n     * @return the command from this batch at the passed index.\n     * @name get\n     * @memberof system.process.Batch\n     * @function\n     * @instance\n     */\n    get : { writable : true , value : function( key )\n    {\n        return this._entries[ key ] ;\n    }},\n\n    /**\n     * Returns the position of the passed object in the batch.\n     * @param command the Runnable object to search in the collection.\n     * @param fromIndex the index to begin the search in the collection.\n     * @return the index of the object or -1 if the object isn't find in the batch.\n     * @name indexOf\n     * @memberof system.process.Batch\n     * @function\n     * @instance\n     */\n    indexOf : { writable : true , value : function( command , fromIndex /*uint*/ )\n    {\n        if ( isNaN( fromIndex ) )\n        {\n            fromIndex = 0 ;\n        }\n        fromIndex = ( fromIndex > 0 ) ? Math.round(fromIndex) : 0 ;\n        if ( command instanceof Runnable )\n        {\n            var l = this._entries.length ;\n            var i = fromIndex ;\n            for( i ; i < l ; i++ )\n            {\n                if ( this._entries[i] === command )\n                {\n                    return i ;\n                }\n            }\n        }\n        return -1 ;\n    }},\n\n    /**\n     * Returns {@code true} if this batch contains no elements.\n     * @return {@code true} if this batch is empty else {@code false}.\n     * @name isEmpty\n     * @memberof system.process.Batch\n     * @function\n     * @instance\n     */\n    isEmpty : { writable : true , value : function ()\n    {\n        return this._entries.length === 0 ;\n    }},\n\n    /**\n     * Removes a single instance of the specified element from this collection, if it is present (optional operation).\n     * @param {system.process.Runnable} command - The command to register in the batch.\n     * @return <code>true</code> if the command is removed.\n     * @name remove\n     * @memberof system.process.Batch\n     * @function\n     * @instance\n     */\n    remove : { writable : true , value : function ( command )\n    {\n        var index = this.indexOf( command ) ;\n        if ( index > -1 )\n        {\n            this._entries.splice( index , 1 ) ;\n            return true ;\n        }\n        return false ;\n    }},\n\n    /**\n     * Run the process.\n     * @name run\n     * @memberof system.process.Batch\n     * @function\n     * @instance\n     */\n    run : { writable : true , value : function()\n    {\n        var l = this._entries.length ;\n        if ( l > 0 )\n        {\n            var i = -1 ;\n            while ( ++i < l )\n            {\n                this._entries[i].run() ;\n            }\n        }\n    }},\n\n    /**\n     * Stops all commands in the batch.\n     * @name stop\n     * @memberof system.process.Batch\n     * @function\n     * @instance\n     */\n    stop : { writable : true , value : function()\n    {\n        var l = this._entries.length ;\n        if (l > 0)\n        {\n            this._entries.forEach( ( element ) =>\n            {\n                if ( element instanceof Runnable\n                     &&( 'stop' in element )\n                     && ( element.stop instanceof Function ) )\n                {\n                    element.stop() ;\n                }\n            }) ;\n        }\n    }},\n\n    /**\n     * Returns an array containing all of the elements in this batch.\n     * @name toArray\n     * @memberof system.process.Batch\n     * @function\n     * @instance\n     * @return an array containing all of the elements in this batch.\n     */\n    toArray : { writable : true , value : function ()\n    {\n        return this._entries.slice() ;\n    }},\n\n    /**\n     * Returns the source code string representation of the object.\n     * @name toString\n     * @memberof system.process.Batch\n     * @function\n     * @instance\n     * @return the source code string representation of the object.\n     */\n    toString : { writable : true , value : function ()\n    {\n        var r = \"[Batch\";\n        var l = this._entries.length ;\n        if( l > 0 )\n        {\n            r += '[' ;\n            this._entries.forEach( ( element , index ) =>\n            {\n                r += element ;\n                if (index < (l-1))\n                {\n                    r += \",\" ;\n                }\n            }) ;\n            r += ']' ;\n        }\n        r += \"]\";\n        return r ;\n    }}\n});","/* jshint unused: false*/\n\"use strict\" ;\n\nimport { Action }      from './Action.js' ;\nimport { ActionEntry } from './ActionEntry.js' ;\nimport { Task }        from './Task.js' ;\n\n/**\n * @description The abstract class to creates collections who group some {@link system.process.Action|Action} objects in one.\n * <p><b>Subclasses:</b> {@link system.process.BatchTask|BatchTask}, {@link system.process.Chain|Chain}</p>\n * @summary The abstract class to creates collections who group some {@link system.process.Action|Action} objects in one.\n * @name TaskGroup\n * @class\n * @memberof system.process\n * @extends system.process.Task\n * @param {string} [mode=normal] - Specifies the <code>mode</code> of the group. This <code>mode</code> can be <code>\"normal\"</code> (default), <code>\"transient\"</code> or <code>\"everlasting\"</code>.\n * @param {array} [actions=null] An optional array who contains Action references to initialize the chain.\n * @example\n * var do1 = new system.process.Do() ;\n * var do2 = new system.process.Do() ;\n *\n * do1.something = function()\n * {\n *     console.log( \"#1 something\" ) ;\n * }\n *\n * do2.something = function()\n * {\n *     console.log( \"#2 something\" ) ;\n * }\n *\n * var finish = function( action )\n * {\n *     trace( \"finish: \" + action ) ;\n * };\n *\n * var start = function( action )\n * {\n *     trace( \"start: \" + action ) ;\n * };\n *\n * var batch = new system.process.BatchTask() ;\n *\n * batch.add( do1 ) ;\n * batch.add( do2 ) ;\n *\n * batch.verbose = true ;\n *\n * trace( 'batch : ' + batch.toString(true) ) ; // batch : [TaskGroup[[Do],[Do]]]\n * trace( 'running : ' + batch.running ) ; // running : false\n * trace( 'length : ' + batch.length ) ; // length : 2\n *\n * batch.finishIt.connect(finish) ;\n * batch.startIt.connect(start) ;\n *\n * batch.run() ;\n *\n * // start: [TaskGroup[[Do],[Do]]]\n * // #1 something\n * // #2 something\n * // finish: [TaskGroup[[Do],[Do]]]\n */\nexport function TaskGroup( mode = 'normal' , actions = null )\n{\n    Task.call(this) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * Indicates if the toString method must be verbose or not.\n         * @memberof system.process.TaskGroup\n         * @type {boolean}\n         * @instance\n         * @default <code>false</code>\n         */\n        verbose : { value : false , writable : true },\n\n        /**\n         * @private\n         */\n        _actions : { value : [] , writable : true },\n\n        /**\n         * @private\n         */\n        _next : { value : null , writable : true , configurable : true },\n\n        /**\n         * @private\n         */\n        _stopped : { value : false , writable : true } ,\n\n        /**\n         * @private\n         */\n        _mode : { value : TaskGroup.NORMAL , writable : true }\n    }) ;\n\n    if( typeof(mode) === \"string\" || ( mode instanceof String ) )\n    {\n        this.mode = mode ;\n    }\n\n    if ( actions && ( actions instanceof Array ) && ( actions.length > 0 ) )\n    {\n        actions.forEach( ( action ) =>\n        {\n            if( action instanceof Action )\n            {\n                this.add( action ) ;\n            }\n        });\n    }\n}\n\nObject.defineProperties( TaskGroup ,\n{\n    /**\n     * Determinates the <code>\"everlasting\"</code> mode of the group.\n     * In this mode the action register in the task-group can't be auto-remove.\n     * @memberof system.process.TaskGroup\n     * @type {boolean}\n     */\n    EVERLASTING : { value : 'everlasting' , enumerable : true } ,\n\n    /**\n     * Determinates the <code>\"normal\"</code> mode of the group.\n     * In this mode the task-group has a normal life cycle.\n     * @memberof system.process.TaskGroup\n     * @type {boolean}\n     */\n    NORMAL : { value : 'normal' , enumerable : true } ,\n\n    /**\n     * Determinates the <code>\"transient\"</code> mode of the group.\n     * In this mode all actions are strictly auto-remove in the task-group when are invoked.\n     * @memberof system.process.TaskGroup\n     * @type {boolean}\n     */\n    TRANSIENT : { value : 'transient' , enumerable : true } ,\n}) ;\n\nTaskGroup.prototype = Object.create( Task.prototype ,\n{\n    constructor : { writable : true , value : TaskGroup },\n\n    /**\n     * Indicates the numbers of actions register in the group.\n     * @name length\n     * @memberof system.process.TaskGroup\n     * @instance\n     * @readonly\n     */\n    length :\n    {\n        get : function() { return this._actions.length ; },\n        set : function( value )\n        {\n            if ( this._running )\n            {\n                throw new Error( this + \" length property can't be changed, the batch process is in progress.\" ) ;\n            }\n            this.dispose() ;\n            var old /*uint*/  = this._actions.length ;\n            this._actions.length = value ;\n            var l  = this._actions.length ;\n            if ( l > 0 )\n            {\n                while( --l > -1 )\n                {\n                    let entry = this._actions[l] ;\n                    if ( entry && entry.action && this._next )\n                    {\n                        entry.action.finishIt.connect( this._next ) ;\n                    }\n                }\n            }\n            else if ( old > 0 )\n            {\n                this.notifyCleared() ;\n            }\n        }\n    },\n\n    /**\n     * Determinates the mode of the chain. The mode can be <code>\"normal\"</code>, <code>\"transient\"</code> or <code>\"everlasting\"</code>.\n     * @see {@link system.process.TaskGroup#NORMAL}, {@link system.process.TaskGroup#EVERLASTING}, {@link system.process.TaskGroup#TRANSIENT}\n     * @name mode\n     * @memberof system.process.TaskGroup\n     * @instance\n     */\n    mode :\n    {\n        get : function() { return this._mode ; },\n        set : function( value )\n        {\n            this._mode = ( value === TaskGroup.TRANSIENT || value === TaskGroup.EVERLASTING ) ? value : TaskGroup.NORMAL ;\n        }\n    },\n\n    /**\n     * Indicates if the chain is stopped.\n     * @name stopped\n     * @memberof system.process.TaskGroup\n     * @instance\n     * @readonly\n     */\n    stopped : { get : function() { return this._stopped ; } },\n\n    /**\n     * Adds an action in the chain.\n     * @name add\n     * @memberof system.process.TaskGroup\n     * @function\n     * @instance\n     * @param {system.process.Action} action - The <code>Action</code> to register in this collection.\n     * @param {number} [priority=0] - Determinates the priority level of the action in the chain.\n     * @param {boolean} [autoRemove=false] - Apply a remove after the first finish notification.\n     * @return <code>true</code> if the insert is success.\n     */\n    add : { value : function( action , priority = 0 , autoRemove = false )\n    {\n        if ( this._running )\n        {\n            throw new Error( this + \" add failed, the process is in progress.\" ) ;\n        }\n\n        if ( action && ( action instanceof Action ) )\n        {\n            autoRemove = autoRemove === true ;\n            priority = ( priority > 0 ) ? Math.round(priority) : 0 ;\n\n            if( this._next )\n            {\n                action.finishIt.connect( this._next ) ;\n            }\n\n            this._actions.push( new ActionEntry( action , priority , autoRemove ) ) ;\n\n            /////// bubble sorting\n\n            let i ;\n            let j ;\n\n            let a = this._actions ;\n\n            let swap = ( j , k ) =>\n            {\n                var temp = a[j] ;\n                a[j]     = a[k] ;\n                a[k]     = temp ;\n                return true ;\n            }\n\n            let swapped = false;\n\n            let l = a.length ;\n\n            for( i = 1 ; i < l ; i++ )\n            {\n                for( j = 0 ; j < ( l - i ) ; j++ )\n                {\n                    if ( a[j+1].priority > a[j].priority )\n                    {\n                        swapped = swap(j, j+1) ;\n                    }\n                }\n                if ( !swapped )\n                {\n                    break;\n                }\n            }\n\n            //////\n\n            return true ;\n        }\n        return false ;\n    }},\n\n    /**\n     * Creates a copy of the object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.process.TaskGroup\n     * @function\n     * @instance\n     */\n    clone : { writable : true , value : function()\n    {\n        return new TaskGroup( this._mode , ( this._actions.length > 0 ? this._actions : null ) ) ;\n    }},\n\n    /**\n     * Returns <code>true</code> if the specified Action is register in the group.\n     * @name contains\n     * @memberof system.process.TaskGroup\n     * @function\n     * @instance\n     * @return <code>true</code> if the specified Action is register in the group.\n     */\n    contains : { writable : true , value : function( action )\n    {\n        if ( action && action instanceof Action )\n        {\n            if ( this._actions.length > 0 )\n            {\n                var e /*ActionEntry*/ ;\n                var l  = this._actions.length ;\n                while( --l > -1 )\n                {\n                    e = this._actions[l] ;\n                    if ( e && e.action === action )\n                    {\n                        return true ;\n                    }\n                }\n            }\n        }\n        return false ;\n    }},\n\n    /**\n     * Dispose the chain and disconnect all actions but don't remove them.\n     * @name dispose\n     * @memberof system.process.TaskGroup\n     * @function\n     * @instance\n     */\n    dispose : { writable : true , value : function()\n    {\n        if ( this._actions.length > 0 )\n        {\n            this._actions.forEach( ( entry ) =>\n            {\n                if ( entry instanceof ActionEntry )\n                {\n                    entry.action.finishIt.disconnect( this._next ) ;\n                }\n            });\n        }\n    }},\n\n    /**\n     * Gets the <code>Action</code> register in the collection at the specified index value or <code>null</code>.\n     * @name get\n     * @memberof system.process.TaskGroup\n     * @function\n     * @instance\n     * @param {number} index - The index of the action element in the collection.\n     * @return the action register in the chain at the specified index value or <code>null</code>.\n     */\n    get : { writable : true , value : function( index )\n    {\n        if ( this._actions.length > 0 && index < this._actions.length )\n        {\n            var entry = this._actions[index] ;\n            if ( entry )\n            {\n                return entry.action ;\n            }\n        }\n        return null ;\n    }},\n\n    /**\n     * Returns <code>true</code> if the collection is empty.\n     * @name isEmpty\n     * @memberof system.process.TaskGroup\n     * @function\n     * @instance\n     * @return <code>true</code> if the chain is empty.\n     */\n    isEmpty : { writable : true , value : function()\n    {\n        return this._actions.length === 0 ;\n    }},\n\n    /**\n     * Invoked when a task is finished.\n     * @name toArray\n     * @memberof system.process.TaskGroup\n     * @function\n     * @instance\n     */\n    next : { writable : true , value : function( action /*Action*/ )\n    {\n        // overrides\n    }},\n\n    /**\n     * Removes a specific action register in the chain and if the passed-in argument is null all actions register in the chain are removed.\n     * If the chain is running the <code>stop()</code> method is called.\n     * @name remove\n     * @memberof system.process.TaskGroup\n     * @function\n     * @instance\n     * @param {system.process.Action} action - The action to remove in the collection.\n     * @return <code>true</code> if the method succeeded.\n     */\n    remove : { writable : true , value : function( action )\n    {\n        if ( this._running )\n        {\n            throw new Error( this + \" remove failed, the process is in progress.\" ) ;\n        }\n        this.stop() ;\n        if ( this._actions.length > 0 )\n        {\n            if ( action && action instanceof Action )\n            {\n                let e ;\n                let l = this._actions.length ;\n\n                this._actions.forEach( ( element ) =>\n                {\n                    if ( element && (element instanceof ActionEntry) && element.action === action )\n                    {\n                        if ( this._next )\n                        {\n                            e.action.finishIt.disconnect( this._next ) ;\n                        }\n                        this._actions.splice( l , 1 ) ;\n                        return true ;\n                    }\n                });\n            }\n            else\n            {\n                this.dispose() ;\n                this._actions.length = 0 ;\n                this.notifyCleared() ;\n                return true ;\n            }\n        }\n        return false ;\n    }},\n\n    /**\n     * Returns the Array representation of the chain.\n     * @name toArray\n     * @memberof system.process.TaskGroup\n     * @function\n     * @instance\n     * @return the <code>Array</code> representation of the chain.\n     */\n    toArray : { writable : true , value : function()\n    {\n        if ( this._actions.length > 0 )\n        {\n            var output  = [] ;\n            if( this._actions.length > 0 )\n            {\n                this._actions.forEach( ( element ) =>\n                {\n                    if ( element && element instanceof ActionEntry && element.action )\n                    {\n                        output.push( element.action ) ;\n                    }\n                });\n            }\n            return output ;\n        }\n        else\n        {\n            return [] ;\n        }\n    }},\n\n    /**\n     * Returns the String representation of the chain.\n     * @name toString\n     * @memberof system.process.TaskGroup\n     * @function\n     * @instance\n     * @return the String representation of the chain.\n     */\n    toString : { writable : true , value : function()\n    {\n        let s  = \"[\" + this.constructor.name ;\n        if ( this.verbose === true )\n        {\n            if ( this._actions.length > 0 )\n            {\n                s += \"[\" ;\n                let i  ;\n                let e /*ActionEntry*/ ;\n                let l  = this._actions.length ;\n                let r  = [] ;\n                for( i = 0 ; i < l ; i++ )\n                {\n                    e = this._actions[i] ;\n                    r.push( ( e && e.action ) ? e.action : null ) ;\n                }\n                s += r.toString() ;\n                s += \"]\" ;\n            }\n        }\n        s += \"]\" ;\n        return s ;\n    }}\n});","\"use strict\" ;\n\nimport { Receiver } from '../signals/Receiver.js' ;\n\nimport { TaskGroup } from './TaskGroup.js' ;\n\n/**\n * The internal BatchTaskNext Receiver.\n * @summary The internal class used in the <code>BatchTask</code> class.\n * @name BatchTaskNext\n * @memberof system.process\n * @class\n * @private\n * @implements system.signals.Receiver\n * @param {system.process.BatchTask} BatchTask - The <code>BatchTask</code> reference of this receiver.\n */\nexport function BatchTaskNext( batch )\n{\n    /**\n     * The batch to register in this helper.\n     * @memberof system.process.BatchTaskNext\n     * @type {system.process.BatchTask}\n     * @instance\n     */\n    this.batch = batch ;\n}\n\nBatchTaskNext.prototype = Object.create( Receiver.prototype ,\n{\n    constructor : { value : BatchTaskNext } ,\n\n    /**\n     * Receives the signal message.\n     * @name receive\n     * @memberof system.transitions.BatchTaskNext\n     * @function\n     * @instance\n     * @param {system.process.Action} action - The <code>Action</code> reference received in this slot.\n     */\n    receive : { value : function( action )\n    {\n        var batch    = this.batch ;\n        var mode     = batch.mode ;\n        var actions  = batch._actions ;\n        var currents = batch._currents ;\n\n        if ( action && currents.has( action ) )\n        {\n            var entry = currents.get( action ) ;\n\n            if ( mode !== TaskGroup.EVERLASTING )\n            {\n                if ( mode === TaskGroup.TRANSIENT || ( entry.auto && mode === TaskGroup.NORMAL ) )\n                {\n                    var e ;\n                    var l = actions.length ;\n                    while( --l > -1 )\n                    {\n                        e = actions[l] ;\n                        if( e && e.action === action )\n                        {\n                            action.finishIt.disconnect( this ) ;\n                            actions.splice( l , 1 ) ;\n                            break ;\n                        }\n                    }\n                }\n            }\n\n            currents.delete( action ) ;\n        }\n\n        if( batch._current !== null )\n        {\n            batch.notifyChanged() ;\n        }\n\n        batch._current = action ;\n\n        batch.notifyProgress() ;\n\n        if( currents.length === 0 )\n        {\n            batch._current = null ;\n            batch.notifyFinished();\n        }\n    }}\n}) ;","\"use strict\" ;\n\nimport { ArrayMap }      from '../data/maps/ArrayMap.js' ;\nimport { BatchTaskNext } from './BatchTaskNext.js' ;\nimport { TaskGroup }     from './TaskGroup.js' ;\n\n/**\n * Batchs a serie of actions and run it in the same time.\n * @summary Batchs a serie of actions and run it in the same time.\n * @param {string} [mode=normal] - Specifies the <code>mode</code> of the group. This <code>mode</code> can be <code>\"normal\"</code> (default), <code>\"transient\"</code> or <code>\"everlasting\"</code>.\n * @param {array} [actions=null] An optional array who contains Action references to initialize the chain.\n * @name BatchTask\n * @class\n * @memberof system.process\n * @extends system.process.TaskGroup\n * @example\n * var do1 = new system.process.Do() ;\n * var do2 = new system.process.Do() ;\n *\n * do1.something = function()\n * {\n *     console.log( \"do1 something\" ) ;\n * }\n *\n * do2.something = function()\n * {\n *     console.log( \"do2 something\" ) ;\n * }\n *\n * var finish = function( action )\n * {\n *     trace( \"finish: \" + action ) ;\n * };\n *\n * var start = function( action )\n * {\n *     trace( \"start: \" + action ) ;\n * };\n *\n * var batch = new system.process.BatchTask() ;\n *\n * batch.add( do1 ) ;\n * batch.add( do2 ) ;\n *\n * batch.verbose = true ;\n *\n * trace( 'batch   : ' + batch.toString(true) ) ;\n * trace( 'running : ' + batch.running ) ;\n * trace( 'length  : ' + batch.length ) ;\n *\n * batch.finishIt.connect(finish) ;\n * batch.startIt.connect(start) ;\n *\n * batch.run() ;\n */\nexport function BatchTask ( mode = 'normal' , actions = null )\n{\n    TaskGroup.call( this , mode , actions ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * @private\n         */\n        _current : { value : null , writable : true },\n\n        /**\n         * @private\n         */\n        _currents : { value : new ArrayMap() , writable : true },\n\n        /**\n         * @private\n         */\n        _next : { value : new BatchTaskNext(this) }\n    }) ;\n}\n\nBatchTask.prototype = Object.create( TaskGroup.prototype ,\n{\n    /**\n     * Indicates the current Action reference when the batch is in progress.\n     * @memberof system.process.BatchTask\n     * @type {system.process.Action}\n     * @instance\n     * @readonly\n     */\n    current : { get   : function() { return this._current ; } }\n}) ;\n\nBatchTask.prototype.constructor = BatchTask;\n\n/**\n * Returns a shallow copy of this object.\n * @return a shallow copy of this object.\n * @name clone\n * @memberof system.process.BatchTask\n * @function\n * @instance\n */\nBatchTask.prototype.clone = function()\n{\n    return new BatchTask( this._mode , ( this._actions.length > 0 ? this._actions : null ) ) ;\n}\n\n/**\n * Resume the chain.\n * @name resume\n * @memberof system.process.BatchTask\n * @function\n * @instance\n */\nBatchTask.prototype.resume = function() /*void*/\n{\n    if ( this._stopped )\n    {\n        this._running = true ;\n        this._stopped = false ;\n        this.notifyResumed() ;\n        if ( this._actions.length > 0 )\n        {\n            var a /*Action*/ ;\n            var e /*ActionEntry*/ ;\n            var l  = this._actions.length ;\n            while( --l > -1 )\n            {\n                e = this._actions[l] ;\n                if ( e )\n                {\n                    a = e.action ;\n                    if ( a )\n                    {\n                        if ( \"resume\" in a )\n                        {\n                            a.resume() ;\n                        }\n                        else\n                        {\n                            this.next( a ) ; // finalize the action to clean the batch\n                        }\n                    }\n                }\n            }\n        }\n    }\n    else\n    {\n        this.run() ;\n    }\n}\n\n/**\n * Launchs the chain process.\n * @name run\n * @memberof system.process.BatchTask\n * @function\n * @instance\n */\nBatchTask.prototype.run = function() /*void*/\n{\n    if ( !this._running )\n    {\n        this.notifyStarted() ;\n\n        this._currents.clear() ;\n        this._stopped = false ;\n        this._current  = null ;\n\n        if ( this._actions.length > 0 )\n        {\n            var actions = [] ;\n\n            this._actions.forEach( ( entry ) =>\n            {\n                if ( entry && entry.action )\n                {\n                    actions.push( entry.action ) ;\n                    this._currents.set( entry.action , entry ) ;\n                }\n            });\n\n            actions.forEach( ( action ) =>\n            {\n                action.run() ;\n            });\n        }\n        else\n        {\n            this.notifyFinished() ;\n        }\n    }\n}\n\n/**\n * Stops the task group.\n * @name stop\n * @memberof system.process.BatchTask\n * @function\n * @instance\n */\nBatchTask.prototype.stop = function() /*void*/\n{\n    if ( this._running )\n    {\n        if ( this._actions.length > 0 )\n        {\n            let a ;\n            let e ;\n            let l = this._actions.length ;\n            while( --l > -1 )\n            {\n                e = this._actions[l] ;\n                if ( e )\n                {\n                    a = e.action ;\n                    if ( a )\n                    {\n                        if ( \"stop\" in a )\n                        {\n                            a.stop() ;\n                        }\n                    }\n                }\n            }\n        }\n        this._running = false ;\n        this._stopped = true ;\n        this.notifyStopped() ;\n    }\n}","\"use strict\" ;\n\nimport { Property  } from '../data/Property.js' ;\nimport { Attribute } from '../data/Attribute.js' ;\nimport { Method    } from '../data/Method.js' ;\n\nimport { Action } from './Action.js' ;\n\n/**\n * Enqueue a collection of members definitions (commands) to apply or invoke with the specified target object.\n * @summary Enqueue a collection of members definitions (commands) to apply or invoke with the specified target object.\n * @name Cache\n * @class\n * @memberof system.process\n * @extends system.process.Action\n * @param {Object} target - The object to map with this cache process.\n * @param {Array} init - The <code>Array</code> of <code>Property</code> to map in the target reference when the process is running.\n * @example\n * var Cache = system.process.Cache ;\n *\n * var object = {} ;\n *\n * object.a = 1 ;\n * object.b = 2 ;\n * object.c = 3 ;\n * object.d = 4 ;\n *\n * Object.defineProperties( object ,\n * {\n *     method1 :\n *     {\n *         value : function( value )\n *         {\n *             this.c = value ;\n *         }\n *     },\n *     method2 :\n *     {\n *         value : function( value1 , value2 )\n *         {\n *             this.d = value1 + value2 ;\n *         }\n *     }\n * });\n *\n * trace( object ) ; // {a:1,b:2,c:3,d:4}\n *\n * var cache = new Cache() ;\n *\n * cache.addAttribute( \"a\" , 10 ) ;\n * cache.addAttribute( \"b\" , 20 ) ;\n *\n * cache.addMethod( \"method1\" , 30 ) ;\n * cache.addMethodWithArguments( \"method2\" , [ 40 , 50 ] ) ;\n *\n * cache.target = object ;\n *\n * cache.run() ; // flush the cache and initialize the target or invoked this methods.\n *\n * trace( object ) ; // {a:10,b:20,c:30,d:90}\n * @see system.data.Property\n * @see system.data.Attribute\n * @see system.data.Method\n */\nexport function Cache ( target = null , init = null )\n{\n    Action.call( this ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * The target reference.\n         * @memberof system.process.Cache\n         * @instance\n         * @type {object}\n         */\n        target : { value : target , writable : true } ,\n\n        /**\n         * @private\n         */\n        _queue : { value : [] , writable : true }\n    }) ;\n\n    if ( init && init instanceof Array && init.length > 0 )\n    {\n        init.forEach( function( prop )\n        {\n            if( prop instanceof Property )\n            {\n                this._queue.push( prop ) ;\n            }\n        }) ;\n    }\n}\n\nCache.prototype = Object.create( Action.prototype ,\n{\n    constructor : { writable : true , value : Cache },\n\n    /**\n     * Returns the number of properties.\n     * @name length\n     * @memberof system.process.Cache\n     * @instance\n     * @readonly\n     */\n    length :\n    {\n        get : function() { return this._queue.length ; }\n    }\n}) ;\n\n/**\n * Enqueues a specific Property definition.\n * @name add\n * @memberof system.process.Cache\n * @instance\n * @function\n * @param {system.data.Property} property - The property to register.\n * @return The current <code>Cache</code> reference.\n * @see system.data.Attribute\n * @see system.data.Method\n */\nCache.prototype.add = function( property )\n{\n    if ( property instanceof Property )\n    {\n        this._queue.push( property ) ;\n    }\n    return this ;\n}\n\n/**\n * Enqueues an attribute name/value entry.\n * @name addAttribute\n * @memberof system.process.Cache\n * @instance\n * @function\n * @param {string} name - The name of the attribute to register.\n * @param {*} value - The value of the attribute to register.\n * @return The current <code>Cache</code> reference.\n */\nCache.prototype.addAttribute = function( name , value ) /*Cache*/\n{\n    if ( name !== '' && ( typeof(name) === 'string' || name instanceof String )  )\n    {\n        this._queue.push( new Attribute( name , value ) ) ;\n    }\n    return this ;\n}\n\n/**\n * Enqueues a method definition.\n * @name addMethod\n * @memberof system.process.Cache\n * @instance\n * @function\n * @param {string} name - The name of the method to register.\n * @param {Array} args - The optional parameters to fill in the method.\n * @return The current <code>Cache</code> reference.\n */\nCache.prototype.addMethod = function ( name , ...args ) /*Cache*/\n{\n    if ( name !== '' && ( typeof(name) === 'string' || name instanceof String )  )\n    {\n        this._queue.push( new Method( name , args ) ) ;\n    }\n    return this ;\n}\n\n/**\n * Enqueues a method definition.\n * @name addMethodWithArguments\n * @memberof system.process.Cache\n * @instance\n * @function\n * @param {string} name - The name of the method to register.\n * @param {Array} args - The optional parameters to fill in the method.\n * @return The current <code>Cache</code> reference.\n */\nCache.prototype.addMethodWithArguments = function ( name , args )\n{\n    if ( name !== '' && ( typeof(name) === 'string' || name instanceof String )  )\n    {\n        this._queue.push( new Method( name , args ) ) ;\n    }\n    return this ;\n}\n\n/**\n * Removes all commands in memory.\n * @name clear\n * @memberof system.process.Cache\n * @function\n * @instance\n */\nCache.prototype.clear = function()\n{\n   this._queue.length = 0 ;\n}\n\n/**\n * Returns a shallow copy of this object.\n * @name clone\n * @memberof system.process.Cache\n * @function\n * @instance\n * @return a shallow copy of this object.\n */\nCache.prototype.clone = function()\n{\n    return new Cache( this.target , this._queue ) ;\n}\n\n/**\n * Indicates if the tracker cache is empty.\n * @name isEmpty\n * @memberof system.process.Cache\n * @function\n * @instance\n */\nCache.prototype.isEmpty = function()\n{\n   return this._queue.length === 0 ;\n}\n\n/**\n * Run the process.\n * @name run\n * @memberof system.process.Cache\n * @function\n * @instance\n */\nCache.prototype.run = function()\n{\n    this.notifyStarted() ;\n    if ( this.target )\n    {\n        var l = this._queue.length ;\n        if ( l > 0 )\n        {\n            var item ;\n            var name ;\n            for ( var i = 0 ; i<l ; i++ )\n            {\n                item = this._queue.shift() ;\n                if ( item instanceof Method )\n                {\n                    name = item.name ;\n                    if ( name && name in this.target )\n                    {\n                        if ( this.target[name] instanceof Function )\n                        {\n                            this.target[name].apply( this.target , item.args ) ;\n                        }\n                    }\n                }\n                else if ( item instanceof Attribute )\n                {\n                    name = item.name ;\n                    if ( name in this.target )\n                    {\n                        this.target[name] = item.value ;\n                    }\n                }\n            }\n        }\n    }\n    this.notifyFinished() ;\n}","\"use strict\" ;\n\nimport { Action } from './Action.js' ;\n\n/**\n * Calls a function with a given this value and arguments provided individually.\n * @summary Calls a function with a given this value and arguments provided individually.\n * @name Call\n * @class\n * @memberof system.process\n * @extends system.process.Action\n * @param {Function} [func=null] The function to call.\n * @param {Object} [scope=null] The value of this provided for the call to a function.\n * @example\n * let va = 0 ;\n * let vb = 0 ;\n * let vc = 0 ;\n *\n * let scope =\n * {\n *     a : 1 , b : 1 , c : 1 ,\n *     toString : function() { return 'scope' }\n * };\n *\n * let func = function( a , b , c )\n * {\n *     va = this.a + a ;\n *     vb = this.b + b ;\n *     vc = this.c + c ;\n * } ;\n *\n * let finish = function( action )\n * {\n*     trace( 'finish va:' + va + ' vb:' + vb + ' vc:' + vc ) ;\n * };\n *\n * let start = function( action )\n * {\n *     trace( 'start va:' + va + ' vb:' + vb + ' vc:' + vc ) ;\n * };\n *\n * let action = new Call( func , scope ) ;\n *\n * action.finishIt.connect(finish) ;\n * action.startIt.connect(start) ;\n *\n * action.run(1,2,3) ;\n */\nexport function Call ( func = null , scope = null )\n{\n    Action.call( this ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * The function to call.\n         * @memberof system.process.Call\n         * @type {Function}\n         * @instance\n         * @default <code>null</code>\n         */\n        func : { value : func instanceof Function ? func : null , writable : true } ,\n\n        /**\n         * The value of this provided for the call to a function.\n         * @memberof system.process.Call\n         * @type {Object}\n         * @instance\n         * @default <code>null</code>\n         */\n        scope : { value : scope , writable : true }\n    }) ;\n}\n\nCall.prototype = Object.create( Action.prototype ,\n{\n    constructor : { writable : true , value : Call },\n\n    /**\n     * Creates a copy of the object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.process.Call\n     * @function\n     * @instance\n     */\n    clone : { writable : true , value : function()\n    {\n        return new Call( this.func , this.scope ) ;\n    }},\n\n    /**\n     * Run the process.\n     * @memberof system.process.Call\n     * @function\n     * @instance\n     */\n    run : { writable : true , value : function( ...args )\n    {\n        this.notifyStarted() ;\n        if( this.func instanceof Function )\n        {\n            if( args && args.length > 0 )\n            {\n                this.func.apply( this.scope , args ) ;\n            }\n            else\n            {\n                this.func.call( this.scope ) ;\n            }\n        }\n        else\n        {\n            throw new TypeError( '[Call] run failed, the \\'func\\' property must be a Function.' ) ;\n        }\n        this.notifyFinished() ;\n    }}\n});","\"use strict\" ;\n\nimport { Receiver  } from '../signals/Receiver.js' ;\nimport { TaskGroup } from './TaskGroup.js' ;\n\n/**\n * An internal class used in the <code>Chain</code> class.\n * @summary The internal class used in the <code>Chain</code> class.\n * @name ChainNext\n * @class\n * @memberof system.process\n * @implements system.signals.Receiver\n * @private\n * @param {system.process.Chain} chain - The <code>Chain</code> reference of this receiver.\n */\nexport function ChainNext( chain = null )\n{\n    /**\n     * The chain to register in this helper.\n     * @memberof system.process.ChainNext\n     * @type {system.process.Chain}\n     * @instance\n     */\n    this.chain = chain ;\n}\n\nChainNext.prototype = Object.create( Receiver.prototype ,\n{\n    constructor : { value : ChainNext } ,\n\n    /**\n     * Receives the signal message.\n     * @name receive\n     * @memberof system.transitions.ChainNext\n     * @function\n     * @instance\n     */\n    receive : { value : function()\n    {\n        if( this.chain === null )\n        {\n            return ;\n        }\n\n        var chain = this.chain ;\n        var mode  = chain._mode ;\n\n        if ( chain._current )\n        {\n            if ( mode !== TaskGroup.EVERLASTING )\n            {\n                if ( mode === TaskGroup.TRANSIENT || ( mode === TaskGroup.NORMAL && chain._current.auto ) )\n                {\n                    chain._current.action.finishIt.disconnect( this ) ;\n                    chain._position-- ;\n                    chain._actions.splice( this._position , 1 ) ;\n                }\n            }\n            chain.notifyChanged() ;\n            chain._current = null ;\n        }\n\n        if ( chain._actions.length > 0 )\n        {\n            if ( chain.hasNext() )\n            {\n                chain._current = chain._actions[ chain._position++ ] ;\n\n                chain.notifyProgress() ;\n\n                if ( chain._current && chain._current.action )\n                {\n                    chain._current.action.run() ;\n                }\n                else\n                {\n                    this.receive() ;\n                }\n            }\n            else if ( this.looping )\n            {\n                chain._position = 0 ;\n                if( chain.numLoop === 0 )\n                {\n                    chain.notifyLooped() ;\n                    chain._currentLoop = 0  ;\n                    this.receive() ;\n                }\n                else if ( chain._currentLoop < chain.numLoop )\n                {\n                    chain._currentLoop ++ ;\n                    chain.notifyLooped() ;\n                    this.receive() ;\n                }\n                else\n                {\n                    chain._currentLoop = 0 ;\n                    chain.notifyFinished() ;\n                }\n            }\n            else\n            {\n                chain._currentLoop = 0 ;\n                chain._position    = 0 ;\n                chain.notifyFinished() ;\n            }\n        }\n        else\n        {\n            chain.notifyFinished() ;\n        }\n    }}\n}) ;","\"use strict\" ;\n\nimport { ChainNext } from './ChainNext.js' ;\nimport { TaskGroup } from './TaskGroup.js' ;\n\n/**\n * A chain is a sequence with a finite or infinite number of actions. All actions registered in the chain can be executed one by one with different strategies (loop, auto remove, etc).\n * @summary A chain is a sequence with a finite or infinite number of actions.\n * @name Chain\n * @class\n * @memberof system.process\n * @extends system.process.TaskGroup\n * @example\n * var do1 = new system.process.Do() ;\n * var do2 = new system.process.Do() ;\n *\n * do1.something = function()\n * {\n *     trace( \"do1 something\" ) ;\n * }\n *\n * do2.something = function()\n * {\n *     trace( \"do2 something\" ) ;\n * }\n *\n * var finish = function( action )\n * {\n *     trace( \"finish: \" + action ) ;\n * };\n *\n * var progress = function( action )\n * {\n *     trace( \"progress: \" + action ) ;\n * };\n *\n * var start = function( action )\n * {\n *     trace( \"start: \" + action ) ;\n * };\n *\n * var chain = new system.process.Chain() ;\n *\n * chain.finishIt.connect(finish) ;\n * chain.progressIt.connect(progress) ;\n * chain.startIt.connect(start) ;\n *\n * chain.add( do1 , 0 ) ;\n * chain.add( do2 , 2 , true) ;\n *\n * chain.verbose = true ;\n *\n * trace('---------') ;\n *\n * trace( 'chain   : ' + chain.toString(true) ) ;\n * trace( 'running : ' + chain.running ) ;\n * trace( 'length  : ' + chain.length ) ;\n *\n * trace('---------') ;\n *\n * chain.run() ;\n *\n * trace('---------') ;\n *\n * chain.run() ;\n * @param {boolean} [looping=false] Specifies whether playback of the clip should continue, or loop (default false).\n * @param {number} [numLoop=0] Specifies the number of the times the presentation should loop during playback.\n * @param {string} [mode=normal] - Specifies the <code>mode</code> of the group. This <code>mode</code> can be <code>\"normal\"</code> (default), <code>\"transient\"</code> or <code>\"everlasting\"</code>.\n * @param {array} [actions=null] An optional array who contains Action references to initialize the chain.\n */\nexport function Chain( looping = false , numLoop = 0 , mode = 'normal' , actions = null )\n{\n    TaskGroup.call( this , mode , actions ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * Indicates if the chain loop when is finished.\n         * @memberof system.process.Chain\n         * @type {boolean}\n         * @instance\n         * @default <code>false</code>\n         */\n        looping : { value : Boolean( looping ) , writable : true } ,\n\n        /**\n         * The number of loops.\n         * @memberof system.process.Chain\n         * @type {number}\n         * @instance\n         * @default 0\n         */\n        numLoop :\n        {\n            value    : ( numLoop > 0 ) ? Math.round( numLoop ) : 0 ,\n            writable : true\n        },\n\n        /**\n         * @private\n         */\n        _current     : { value : null , writable : true } ,\n        _currentLoop : { value : 0    , writable : true } ,\n        _position    : { value : 0    , writable : true } ,\n        _next        : { value : new ChainNext(this)    }\n    }) ;\n}\n\nChain.prototype = Object.create( TaskGroup.prototype ,\n{\n    constructor : { writable : true , value : Chain },\n\n    /**\n     * Indicates the current Action reference when the process is in progress.\n     * @memberof system.process.Chain\n     * @type {system.process.Action}\n     * @instance\n     * @readonly\n     */\n    current : { get : function() { return this._current ? this._current.action : null ; } } ,\n\n    /**\n     * Indicates the current countdown loop value.\n     * @memberof system.process.Chain\n     * @type {number}\n     * @instance\n     * @readonly\n     */\n    currentLoop : { get : function() { return this._currentLoop ; } } ,\n\n    /**\n     * Indicates the current numeric position of the chain when is running.\n     * @memberof system.process.Chain\n     * @type {number}\n     * @instance\n     * @readonly\n     */\n    position : { get: function() { return this._position ; } },\n\n    /**\n     * Creates a copy of the object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.process.Chain\n     * @function\n     * @instance\n     */\n    clone : { writable : true , value : function()\n    {\n        return new Chain( this.looping , this.numLoop , this._mode , ( this._actions.length > 0 ? this._actions : null ) ) ;\n    }},\n\n    /**\n     * Retrieves the next action reference in the chain with the current position.\n     * @name element\n     * @memberof system.process.Chain\n     * @function\n     * @instance\n     */\n    element : { writable : true , value : function()\n    {\n        return this.hasNext() ? ( this._actions[ this._position ] ).action : null ;\n    }},\n\n    /**\n     * Retrieves the next action reference in the chain with the current position.\n     * @name hasNext\n     * @memberof system.process.Chain\n     * @function\n     * @instance\n     */\n    hasNext : { writable : true , value : function()\n    {\n        return this._position < this._actions.length ;\n    }},\n\n    /**\n     * Resume the chain.\n     * @name resume\n     * @memberof system.process.Chain\n     * @function\n     * @instance\n     */\n    resume : { writable : true , value : function()\n    {\n        if ( this._stopped )\n        {\n            this._running = true ;\n            this._stopped = false ;\n\n            this.notifyResumed() ;\n\n            if ( this._current && this._current.action )\n            {\n                if ( \"resume\" in this._current.action )\n                {\n                    this._current.action.resume() ;\n                }\n            }\n            else\n            {\n                this._next.receive() ;\n            }\n        }\n        else\n        {\n            this.run() ;\n        }\n    }},\n\n    /**\n     * Launchs the chain process.\n     * @name run\n     * @memberof system.process.Chain\n     * @function\n     * @instance\n     */\n    run : { writable : true , value : function()\n    {\n        if ( !this._running )\n        {\n            this.notifyStarted() ;\n\n            this._current     = null  ;\n            this._stopped     = false ;\n            this._position    = 0 ;\n            this._currentLoop = 0 ;\n\n            this._next.receive() ;\n        }\n    }},\n\n    /**\n     * Stops the task group.\n     * @name stop\n     * @memberof system.process.Chain\n     * @function\n     * @instance\n     */\n    stop : { writable : true , value : function()\n    {\n        if ( this._running )\n        {\n            if ( this._current && this._current.action )\n            {\n                if ( 'stop' in this._current.action && this._current.action instanceof Function )\n                {\n                    this._current.action.stop() ;\n                    this._running = false ;\n                    this._stopped = true ;\n                    this.notifyStopped() ;\n                }\n            }\n        }\n    }}\n}) ;\n","\"use strict\" ;\n\nimport { Action } from './Action.js' ;\n\n/**\n * A simple command to do something. Very usefull to test something in a complex process.\n * @summary A simple command to do something.\n * @name Do\n * @class\n * @memberof system.process\n * @extends system.process.Action\n * @example\n * var action = new system.process.Do() ;\n *\n * action.something = function()\n * {\n *     trace( \"do something\" ) ;\n * }\n *\n * var finish = function( action )\n * {\n *     var message = \"finish: \" + action.toString() ;\n *     trace( message ) ;\n * };\n *\n * var start = function( action )\n * {\n *     var message = \"start: \" + action.toString() ;\n *     trace( message ) ;\n * };\n *\n * action.finishIt.connect(finish) ;\n * action.startIt.connect(start) ;\n *\n * action.run() ;\n */\nexport function Do ()\n{\n    Action.call( this ) ;\n}\n\nDo.prototype = Object.create( Action.prototype ,\n{\n    constructor : { writable : true , value : Do },\n\n    /**\n     * Creates a copy of the object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.process.Do\n     * @function\n     * @instance\n     */\n    clone : { writable : true , value : function()\n    {\n        return new Do() ;\n    }},\n\n    /**\n     * Do something in this method (override it).\n     * @name something\n     * @memberof system.process.Do\n     * @function\n     * @instance\n     */\n    something : { enumerable : true , writable : true , value : function()\n    {\n        //\n    }},\n\n    /**\n     * Run the process.\n     * @memberof system.process.Lock\n     * @function\n     * @instance\n     */\n    run : { writable : true , value : function()\n    {\n        this.notifyStarted() ;\n        if( 'something' in this && (this.something instanceof Function) )\n        {\n            this.something() ;\n        }\n        this.notifyFinished() ;\n    }}\n});","\"use strict\" ;\n\nimport { Task } from './Task.js' ;\n\nimport { cancelAnimationFrame }  from '../../core/cancelAnimationFrame.js' ;\nimport { requestAnimationFrame } from '../../core/requestAnimationFrame.js' ;\n\n/**\n * A FrameTimer let you run code on a specified time sequence and use the <code>requestAnimationFrame</code> method.\n * @summary A FrameTimer let you run code on a specified time sequence and use the <code>requestAnimationFrame</code> method.\n * @name FrameTimer\n * @memberof system.process\n * @class\n * @extends system.process.Task\n * @see {@link https://developer.mozilla.org/fr/docs/Web/API/Window/requestAnimationFrame|requestAnimationFrame} for further information.\n * @example\n * var finish = function( action )\n * {\n *     trace( action + \" finish\" ) ;\n * }\n *\n * var resume = function( action )\n * {\n *     trace( action + \" resume\" ) ;\n * }\n *\n * var start = function( action )\n * {\n *     trace( action + \" start\" ) ;\n * }\n *\n * var stop = function( action )\n * {\n *     trace( action + \" stop\" ) ;\n * }\n *\n * var progress = function( action )\n * {\n *     trace( action + \" progress\" ) ;\n *     if( count++ === 100 )\n *     {\n *         action.stop() ;\n *     }\n * }\n *\n * var count  = 0 ;\n * var action = new system.process.FrameTimer() ;\n *\n * action.finishIt.connect( finish ) ;\n * action.progressIt.connect( progress ) ;\n * action.resumeIt.connect( resume ) ;\n * action.startIt.connect( start ) ;\n * action.stopIt.connect( stop ) ;\n *\n * action.run() ;\n */\nexport function FrameTimer()\n{\n    Task.call(this) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * Scalar time value from last frame to this frame.\n         * This value is capped by setting minFPS and is scaled with \"speed\".\n         * @type {number}\n         * @default 1\n         * @name deltaTime\n         * @memberof system.process.FrameTimer\n         * @instance\n         */\n        deltaTime : { value : 1 , writable : true },\n\n        /**\n         * Time elapsed in milliseconds from last frame to this frame.\n         * Opposed to what the scalar {@link FrameTimer#deltaTime}\n         * is based, this value is neither capped nor scaled.\n         * If the platform supports DOMHighResTimeStamp,\n         * this value will have a precision of 1 s.\n         * @member {number}\n         * @default 1 / FPMS\n         * @name elapsedMS\n         * @memberof system.process.FrameTimer\n         * @instance\n         */\n        elapsedMS : { value : 1 / FPMS , writable : true } ,\n\n        /**\n         * The frames per second at which this timer is running.\n         * The default is approximately 60 in most modern browsers.\n         * **Note:** This does not factor in the value of {@link FrameTimer#speed}, which is specific to scaling {@link FrameTimer#deltaTime}.\n         * @readonly\n         * @name fps\n         * @memberof system.process.FrameTimer\n         * @instance\n         */\n        fps : { get : function()\n        {\n            return 1000 / this.elapsedMS;\n        }},\n\n        /**\n         * Manages the maximum amount of milliseconds allowed to elapse between invoking {@link FrameTimer#next}.\n         * This value is used to cap {@link FrameTimer#deltaTime}, but does not effect the measured value of {@link FrameTimer#fps}.\n         * When setting this property it is clamped to a value between `0` and `FPMS * 1000`.\n         * @type {number}\n         * @name minFPS\n         * @memberof system.process.FrameTimer\n         * @instance\n         */\n        minFPS :\n        {\n            get : function()\n            {\n                return 1000 / this._maxElapsedMS ;\n            },\n            set : function(fps)\n            {\n                this._maxElapsedMS = 1 / Math.min(Math.max(0, fps) / 1000, FPMS);\n            }\n        },\n\n        /**\n         * The last time the next method was invoked.\n         * This value is also reset internally outside of invoking update, but only when a new animation frame is requested.\n         * If the platform supports DOMHighResTimeStamp, this value will have a precision of 1 s.\n         * @type {number}\n         * @default 0\n         * @name lastTime\n         * @memberof system.process.FrameTimer\n         * @instance\n         */\n        lastTime : { value : 0 , writable : true } ,\n\n        /**\n         * Factor of current deltaTime.\n         * @type {number}\n         * @default 1\n         * @name speed\n         * @memberof system.process.FrameTimer\n         * @instance\n         * @example <caption>Scales <code>deltaTime</code> to what would be the equivalent of approximately <strong>120 FPS</strong></caption>\n         * var timer = new FrameTimer() ;\n         * timer.speed = 2;\n         */\n        speed : { value : 1 , writable : true } ,\n\n        /**\n         * @private\n         */\n        _requestID : { value : null , writable : true },\n\n        /**\n         * Internal value managed by minFPS property setter and getter.\n         * This is the maximum allowed milliseconds between updates.\n         * @private\n         */\n        _maxElapsedMS : { value : 100 , writable : true } ,\n\n        /**\n         * @private\n         */\n        _stopped : { value : false , writable : true }\n    }) ;\n}\n\nFrameTimer.prototype = Object.create( Task.prototype ,\n{\n    constructor : { value : FrameTimer , writable : true } ,\n\n    /**\n     * Indicates true if the timer is stopped.\n     * @name stopped\n     * @memberof system.process.FrameTimer\n     * @instance\n     * @readonly\n     */\n    stopped : { get : function () { return this._stopped ; } },\n\n    /**\n     * Returns a shallow copy of this object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.process.FrameTimer\n     * @instance\n     * @function\n     */\n    clone : { value : function()\n    {\n        return new FrameTimer() ;\n    }} ,\n\n    /**\n     * Restarts the timer. The timer is <code>stopped</code>, and then started.\n     * @name resume\n     * @memberof system.process.FrameTimer\n     * @instance\n     * @function\n     */\n    resume : { value : function()\n    {\n        if ( this._stopped )\n        {\n            this._running = true ;\n            this._stopped = false ;\n            this.notifyResumed() ;\n            this._requestID = requestAnimationFrame( this._next.bind(this) ) ;\n        }\n    }},\n\n    /**\n     * Reset the timer and stop it before if it's running.\n     * @name reset\n     * @memberof system.process.FrameTimer\n     * @instance\n     * @function\n     */\n    reset : { value : function()\n    {\n        this.stop() ;\n        this._stopped = false ;\n    }},\n\n    /**\n     * Run the timer.\n     * @name run\n     * @memberof system.process.FrameTimer\n     * @instance\n     * @function\n     */\n    run : { value : function ()\n    {\n        if( !this._running )\n        {\n            this._stopped = false ;\n            this.lastTime = performance.now();\n            this.notifyStarted() ;\n            this._requestID = requestAnimationFrame( this._next.bind(this) ) ;\n        }\n    }},\n\n    /**\n     * Stops the timer.\n     * @name stop\n     * @memberof system.process.FrameTimer\n     * @instance\n     * @function\n     */\n    stop : { value : function()\n    {\n        if ( this._running && !this._stopped )\n        {\n            this._running = false ;\n            this._stopped = true ;\n            cancelAnimationFrame( this._requestID ) ;\n            this._requestID = null ;\n            this.notifyStopped() ;\n        }\n    }},\n\n    /**\n     * Returns the string representation of this instance.\n     * @name toString\n     * @memberof system.process.FrameTimer\n     * @instance\n     * @function\n     * @return the string representation of this instance.\n     */\n    toString : { value : function ()\n    {\n        return '[FrameTimer]' ;\n    }},\n\n    /**\n     * @private\n     */\n    _next : { value : function( time = performance.now() )\n    {\n        if( this._requestID !== null && (this._stopped || !this._running) )\n        {\n            cancelAnimationFrame( this._requestID ) ;\n            this._requestID = null ;\n            return ;\n        }\n        let elapsedMS;\n\n        if ( time > this.lastTime )\n        {\n            elapsedMS = this.elapsedMS = time - this.lastTime ;\n\n            if ( elapsedMS > this._maxElapsedMS )\n            {\n                elapsedMS = this._maxElapsedMS;\n            }\n\n            this.deltaTime = elapsedMS * FPMS * this.speed ;\n\n            this.notifyProgress() ;\n        }\n        else\n        {\n            this.deltaTime = this.elapsedMS = 0;\n        }\n\n        this.lastTime = time ;\n\n        this._requestID = requestAnimationFrame( this._next.bind(this) ) ;\n    }}\n});\n\n/**\n * The target frames per millisecond used in the {@link system.process.FrameTimer} instances.\n * @name FPMS\n * @memberof system.process\n */\nexport var FPMS = 0.06 ;","\"use strict\" ;\n\nimport { isLockable } from './Lockable.js' ;\nimport { Action } from './Action.js' ;\n\n/**\n * Invoked to lock a specific {@link system.process.Lockable|Lockable} object.\n * @summary Invoked to lock a specific {@link system.process.Lockable|Lockable} object.\n * @name Lock\n * @class\n * @memberof system.process\n * @extends system.process.Action\n * @augments system.process.Action\n * @example\n * var chain = new system.process.Chain() ;\n * var lock  = new system.process.Lock( chain ) ;\n *\n * lock.run() ;\n *\n * trace( chain.isLocked() ) ;\n */\nexport function Lock( target )\n{\n    Action.call( this ) ;\n    this.target = target ;\n}\n\nLock.prototype = Object.create( Action.prototype ,\n{\n    constructor : { writable : true , value : Lock },\n\n    /**\n     * Creates a copy of the object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.process.Lock\n     * @function\n     * @instance\n     */\n    clone : { writable : true , value : function()\n    {\n        return new Lock( this.target ) ;\n    }},\n\n    /**\n     * Run the process.\n     * @memberof system.process.Lock\n     * @function\n     * @instance\n     */\n    run : { writable : true , value : function()\n    {\n        this.notifyStarted() ;\n        if( isLockable( this.target ) && !this.target.isLocked() )\n        {\n            this.target.lock() ;\n        }\n        this.notifyFinished() ;\n    }}\n});","\"use strict\" ;\n\n/**\n * Indicates if the specific objet implements the {@link system.process.Priority|Priority} interface or contains a <code>priority</code> attribute.\n * @name isPrioritizable\n * @function\n * @instance\n * @memberof system.process\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object implements the {@link system.process.Priority|Priority} interface.\n */\nexport function isPrioritizable( target )\n{\n    if( target )\n    {\n        /*jshint -W069 */\n        return (target instanceof Priority) || ( Boolean(target['priority']) && !(target.priority instanceof Function) ) ;\n        /*jshint +W069 */\n    }\n    return false ;\n}\n\n/**\n * This interface should be implemented by any class whose instances are intended to be prioritizable (Capable of being prioritized).\n * @summary This interface should be implemented by any class whose instances are intended to be prioritizable (Capable of being prioritized).\n * @name Priority\n * @memberof system.process\n * @interface\n */\nexport function Priority()\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * Determinates the priority value.\n         * @memberof system.process.Priority\n         * @type {number}\n         * @instance\n         * @default 0\n         */\n        priority :\n        {\n            get : function()\n            {\n                return this._priority ;\n            } ,\n            set : function( value )\n            {\n                this._priority = (value > 0 || value < 0) ? value : 0 ;\n            }\n        },\n\n        /**\n         * @private\n         */\n        _priority : { writable : true , value : 0 }\n    }) ;\n}\n\nPriority.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Priority } ,\n\n    /**\n     * The <code>toString()</code> method returns a string representing the object\n     * @return A string representing the object.\n     * @memberof system.transitions.Transition\n     * @instance\n     * @function\n     */\n    toString : { writable : true , value : function()\n    {\n        return '[' + this.constructor.name + ']' ;\n    }}\n});","\"use strict\" ;\n\n/**\n * Indicates if the specific objet is {@link system.process.Resetable|Resetable} and contains a <code>reset()</code> method.\n * @name isResetable\n * @function\n * @instance\n * @memberof system.process\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is {@link system.process.Resetable|Resetable}.\n */\nexport function isResetable( target )\n{\n    if( target )\n    {\n        if( target instanceof Resetable )\n        {\n            return true ;\n        }\n        /*jshint -W069 */\n        return Boolean( target['reset'] ) && ( target.reset instanceof Function )  ;\n        /*jshint +W069 */\n    }\n    return false ;\n}\n\n/**\n * This interface should be implemented by any class whose instances are intended to be reseted.\n * @name Resetable\n * @memberof system.process\n * @interface\n */\nexport function Resetable(){}\n\nResetable.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Resetable } ,\n\n    /**\n     * Resets the command process.\n     * @name reset\n     * @memberof system.process.Resetable\n     * @function\n     * @instance\n     */\n    reset : { writable : true , value : function(){} },\n\n    /**\n     * The <code>toString()</code> method returns a string representing the object\n     * @return A string representing the object.\n     * @memberof system.transitions.Transition\n     * @instance\n     * @function\n     */\n    toString : { writable : true , value : function()\n    {\n        return '[' + this.constructor.name + ']' ;\n    }}\n});","\"use strict\" ;\n\n/**\n * Indicates if the specific objet is {@link system.process.Resumable|Resumable} and contains a <code>resume()</code> method.\n * @name isResumable\n * @function\n * @instance\n * @memberof system.process\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is {@link system.process.Resumable|Resumable}.\n */\nexport function isResumable( target )\n{\n    if( target )\n    {\n        if( target instanceof Resumable )\n        {\n            return true ;\n        }\n        /*jshint -W069 */\n        return Boolean( target['resume'] ) && ( target.resume instanceof Function ) ;\n        /*jshint +W069 */\n    }\n    return false ;\n}\n\n/**\n * This interface should be implemented by any class whose instances are intended to be resumed.\n * @name Resumable\n * @memberof system.process\n * @interface\n */\nexport function Resumable() {}\n\nResumable.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Resumable } ,\n\n    /**\n     * Resumes the command process.\n     * @name resume\n     * @memberof system.process.Resumable\n     * @function\n     * @instance\n     */\n    resume : { writable : true , value : function(){} },\n\n    /**\n     * The <code>toString()</code> method returns a string representing the object\n     * @return A string representing the object.\n     * @memberof system.transitions.Transition\n     * @instance\n     * @function\n     */\n    toString : { writable : true , value : function()\n    {\n        return '[' + this.constructor.name + ']' ;\n    }}\n});","\"use strict\" ;\n\n/**\n * Indicates if the specific objet is {@link system.process.Startable|Startable} and contains a <code>start()</code> method.\n * @name isStartable\n * @function\n * @instance\n * @memberof system.process\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is {@link system.process.Startable|Startable}.\n */\nexport function isStartable( target )\n{\n    if( target )\n    {\n        if( target instanceof Startable )\n        {\n            return true ;\n        }\n        /*jshint -W069 */\n        return Boolean( target['start'] ) && ( target.start instanceof Function ) ;\n        /*jshint +W069 */\n    }\n    return false ;\n}\n\n/**\n * This interface should be implemented by any class whose instances are intended to be started.\n * @name Startable\n * @memberof system.process\n * @interface\n */\nexport function Startable() {}\n\nStartable.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Startable } ,\n\n    /**\n     * Starts the command process.\n     * @name start\n     * @memberof system.process.Startable\n     * @function\n     * @instance\n     */\n    start : { writable : true , value : function(){} },\n\n    /**\n     * The <code>toString()</code> method returns a string representing the object\n     * @return A string representing the object.\n     * @memberof system.transitions.Transition\n     * @instance\n     * @function\n     */\n    toString : { writable : true , value : function()\n    {\n        return '[' + this.constructor.name + ']' ;\n    }}\n});","\"use strict\" ;\n\n/**\n * Indicates if the specific objet is {@link system.process.Stoppable|Stoppable} and contains a <code>stop()</code> method.\n * @name isStoppable\n * @function\n * @instance\n * @memberof system.process\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is {@link system.process.Stoppable|Stoppable}.\n */\nexport function isStoppable( target )\n{\n    if( target )\n    {\n        if( target instanceof Stoppable )\n        {\n            return true ;\n        }\n        /*jshint -W069 */\n        return Boolean( target['stop'] ) && ( target.stop instanceof Function ) ;\n        /*jshint +W069 */\n    }\n    return false ;\n}\n\n/**\n * This interface should be implemented by any class whose instances are intended to be stopped.\n * @name Stoppable\n * @memberof system.process\n * @interface\n */\nexport function Stoppable() {}\n\nStoppable.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Stoppable } ,\n\n    /**\n     * Stops the command process.\n     * @name stop\n     * @memberof system.process.Stoppable\n     * @function\n     * @instance\n     */\n    stop : { writable : true , value : function(){} },\n\n    /**\n     * The <code>toString()</code> method returns a string representing the object\n     * @return A string representing the object.\n     * @memberof system.transitions.Transition\n     * @instance\n     * @function\n     */\n    toString : { writable : true , value : function()\n    {\n        return '[' + this.constructor.name + ']' ;\n    }}\n});","\"use strict\" ;\n\nimport { Enum } from '../Enum.js' ;\n\n/**\n * Defines the policy of the timeout states in your application.\n * @summary Defines the policies of the timeout states in your application.\n * @name TimeoutPolicy\n * @class\n * @memberof system.process\n * @extends system.Enum\n * @param {number} value - The value of the enumeration.\n * @param {string} name - The name key of the enumeration.\n * @example\n * var TimeoutPolicy = system.process.TimeoutPolicy  ;\n *\n * trace( TimeoutPolicy.INFINITY ) ;\n * trace( \"infinity : \" + TimeoutPolicy.INFINITY ) ;\n * trace( \"toString : \" + TimeoutPolicy.INFINITY.toString() ) ;\n * trace( \"valueOf  : \" + TimeoutPolicy.INFINITY.valueOf() ) ;\n *\n * trace( TimeoutPolicy.LIMIT ) ;\n * trace( \"limit : \" + TimeoutPolicy.LIMIT ) ;\n * trace( \"toString : \" + TimeoutPolicy.LIMIT.toString() ) ;\n * trace( \"valueOf  : \" + TimeoutPolicy.LIMIT.valueOf() ) ;\n */\nexport function TimeoutPolicy( value , name )\n{\n    Enum.call( this , value , name ) ;\n}\n\nTimeoutPolicy.prototype = Object.create( Enum.prototype );\nTimeoutPolicy.prototype.constructor = TimeoutPolicy;\n\nObject.defineProperties( TimeoutPolicy ,\n{\n    /**\n     * Designates the infinity timeout policy (0).\n     * @name INFINITY\n     * @memberof system.process.TimeoutPolicy\n     * @const\n     * @type {system.process.TimeoutPolicy}\n     */\n    INFINITY : { value : new TimeoutPolicy( 0 , 'infinity' ) , enumerable : true } ,\n\n    /**\n     * Designates the limited timeout policy (1).\n     * @name LIMIT\n     * @memberof system.process.TimeoutPolicy\n     * @const\n     * @type {system.process.TimeoutPolicy}\n     */\n    LIMIT : { value : new TimeoutPolicy( 1 , 'limit' ) , enumerable : true }\n});","\"use strict\" ;\n\nimport { Task } from './Task.js' ;\n\n/**\n * The <code>Timer</code> objects which let you run code on a specified time sequence.\n * This timer object use an internal <code>setInterval</code> function to calls or evaluates an expression at specified intervals\n * @summary The <code>Timer</code> objects which let you run code on a specified time sequence.\n * @name Timer\n * @memberof system.process\n * @extends system.process.Task\n * @class\n * @example\n * var finish = function( action )\n * {\n *     trace( action + \" finish\" ) ;\n * }\n *\n * var resume = function( action )\n * {\n *     trace( action + \" resume\" ) ;\n * }\n *\n * var start = function( action )\n * {\n *     trace( action + \" start\" ) ;\n * }\n *\n * var stop = function( action )\n * {\n *     trace( action + \" stop\" ) ;\n * }\n *\n * var time = function( action )\n * {\n *     trace( action + \" count: \" + action.currentCount + \" / \" + action.repeatCount ) ;\n *     if ( action.currentCount === 5 )\n *     {\n *         action.stop() ;\n *         trace( \"timer stopped:\" + action.stopped ) ;\n *         action.resume() ;\n *     }\n * }\n *\n * var action = new system.process.Timer( 1000 , 10 ) ;\n * //var action = new system.process.Timer( 1 , 10 , true ) ; // use the useSeconds flag\n *\n * action.finishIt.connect( finish ) ;\n * action.progressIt.connect( time ) ;\n * action.resumeIt.connect( resume ) ;\n * action.startIt.connect( start ) ;\n * action.stopIt.connect( stop ) ;\n *\n * action.run() ;\n * @param {number} [delay=0] The delay in <strong>ms</strong> or in seconds if the <code>useSeconds</code> property is <code>true</code>. If this value is 0, the timer emit with the minimum delay possible.\n * @param {number} [repeatCount=0] Indicates the number or repeat of the timer, if the <code>repeatCount</code> value is > <code>0/<code>.\n * @param {boolean} [useSeconds=false] Specifies if the timer use a delay in seconds or not.\n */\nexport function Timer( delay =  0 , repeatCount = 0, useSeconds = false )\n{\n    Task.call(this) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * @private\n         */\n        _count : { value : 0 , writable : true },\n\n        /**\n         * @private\n         */\n        _delay : { value : delay > 0 ? delay : 0 , writable : true },\n\n        /**\n         * @private\n         */\n        _itv : { value : 0 , writable : true },\n\n        /**\n         * @private\n         */\n        _repeatCount : { value : repeatCount > 0 ? repeatCount : 0 , writable : true },\n\n        /**\n         * @private\n         */\n        _stopped : { value : false , writable : true },\n\n        /**\n         * @private\n         */\n        _useSeconds : { value : Boolean(useSeconds) , writable : true }\n    }) ;\n}\n\nTimer.prototype = Object.create( Task.prototype ,\n{\n    constructor : { value : Timer , writable : true } ,\n\n    /**\n     * The current count value if the timer use the <code>repeatCount</code> option.\n     * @type {number}\n     * @name currentCount\n     * @memberof system.process.Timer\n     * @instance\n     * @readonly\n     */\n    currentCount : { get : function() { return this._count ; } } ,\n\n    /**\n     * Indicates the delay between timer events, in milliseconds (or seconds it the <code>useSeconds</code> is <code>true</code>).\n     * @type {number}\n     * @name delay\n     * @memberof system.process.Timer\n     * @instance\n     */\n    delay :\n    {\n        get : function () { return this._delay ; } ,\n        set : function( value )\n        {\n            if ( this._running )\n            {\n                throw new Error( this + \" the 'delay' property can't be changed during the running phase.\") ;\n            }\n            this._delay = ( value > 0 ) ? value : 0 ;\n        }\n    },\n\n    /**\n     * Indicates the number of repetitions. If zero, the timer repeats infinitely.\n     * If nonzero, the timer runs the specified number of times and then stops.\n     * @type {boolean}\n     * @name repeatCount\n     * @memberof system.process.Timer\n     * @instance\n     */\n    repeatCount :\n    {\n        get :function ()\n        {\n            return this._repeatCount ;\n        },\n        set : function( value )\n        {\n            this._repeatCount = (value > 0) ? value : 0 ;\n        }\n    },\n\n    /**\n     * Indicates true if the timer is stopped.\n     * @type {boolean}\n     * @name stopped\n     * @memberof system.process.Timer\n     * @instance\n     * @readonly\n     */\n    stopped : { get : function () { return this._stopped ; } },\n\n    /**\n     * Indicates if the timer delaty is in seconds or in milliseconds (default milliseconds).\n     * @type {boolean}\n     * @name useSeconds\n     * @memberof system.process.Timer\n     * @instance\n     */\n    useSeconds :\n    {\n        get : function() { return this._useSeconds ; } ,\n        set : function( flag  )\n        {\n            if ( this._running )\n            {\n                throw new Error( this + \" the 'useSeconds' property can't be changed during the running phase.\") ;\n            }\n            this._useSeconds = Boolean(flag) ;\n        }\n    },\n\n    /**\n     * Returns a shallow copy of this object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.process.Timer\n     * @instance\n     * @function\n     */\n    clone : { value : function()\n    {\n        return new Timer( this._delay , this._repeatCount ) ;\n    }} ,\n\n    /**\n     * Restarts the timer. The timer is stopped, and then started.\n     * @name resume\n     * @memberof system.process.Timer\n     * @instance\n     * @function\n     */\n    resume : { value : function()\n    {\n        if ( this._stopped )\n        {\n            this._running = true ;\n            this._stopped = false ;\n            this._itv = setInterval\n            (\n                this._next.bind(this) ,\n                this._useSeconds ? (this._delay*1000) : this._delay\n            ) ;\n            this.notifyResumed() ;\n        }\n    }},\n\n    /**\n     * Reset the timer and stop it before if it's running.\n     * @name reset\n     * @memberof system.process.Timer\n     * @instance\n     * @function\n     */\n    reset : { value : function()\n    {\n        if( this.running )\n        {\n            this.stop() ;\n        }\n        this._count = 0 ;\n    }},\n\n    /**\n     * Run the timer.\n     * @name run\n     * @memberof system.process.Timer\n     * @instance\n     * @function\n     */\n    run : { value : function ()\n    {\n        if( !this._running )\n        {\n            this._count   = 0 ;\n            this._stopped = false ;\n            this.notifyStarted() ;\n            this._itv = setInterval\n            (\n                this._next.bind(this) ,\n                this._useSeconds ? (this._delay*1000) : this._delay\n            ) ;\n        }\n    }},\n\n    /**\n     * Stops the timer.\n     * @name stop\n     * @memberof system.process.Timer\n     * @instance\n     * @function\n     */\n    stop : { value : function()\n    {\n        if ( this._running && !this._stopped )\n        {\n            this._running = false ;\n            this._stopped = true ;\n            clearInterval( this._itv ) ;\n            this.notifyStopped() ;\n        }\n    }},\n\n    /**\n     * @private\n     */\n    _next : { value : function()\n    {\n        this._count ++ ;\n        this.notifyProgress() ;\n        if ( (this._repeatCount > 0) && (this._repeatCount === this._count) )\n        {\n            clearInterval( this._itv ) ;\n            this.notifyFinished() ;\n        }\n    }}\n});","\"use strict\" ;\n\nimport { isLockable } from './Lockable.js' ;\nimport { Action } from './Action.js' ;\n\n/**\n * Invoked this action to unlock a specific {@link system.process.Lockable|Lockable} object.\n * @summary Invoked to unlock a specific {@link system.process.Lockable|Lockable} object.\n * @name Unlock\n * @class\n * @memberof system.process\n * @extends system.process.Action\n * @augments system.process.Action\n * @example\n * var chain  = new system.process.Chain() ;\n * var unlock = new system.process.Unlock( chain ) ;\n *\n * chain.lock() ;\n *\n * unlock.run() ;\n *\n * trace( chain.isLocked() ) ;\n */\nexport function Unlock( target )\n{\n    Action.call( this ) ;\n    this.target = target ;\n}\n\nUnlock.prototype = Object.create( Action.prototype ,\n{\n    constructor : { writable : true , value : Unlock },\n\n    /**\n     * Creates a copy of the object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.process.Unlock\n     * @function\n     * @instance\n     */\n    clone : { writable : true , value : function()\n    {\n        return new Unlock( this.target ) ;\n    }},\n\n    /**\n     * Run the process.\n     * @name run\n     * @memberof system.process.Unlock\n     * @function\n     * @instance\n     */\n    run : { writable : true , value : function()\n    {\n        this.notifyStarted() ;\n        if( isLockable( this.target ) && this.target.isLocked() )\n        {\n            this.target.unlock() ;\n        }\n        this.notifyFinished() ;\n    }}\n});\n","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { Action }        from './process/Action.js' ;\nimport { ActionEntry }   from './process/ActionEntry.js' ;\nimport { Apply }         from './process/Apply.js' ;\nimport { Batch }         from './process/Batch.js' ;\nimport { BatchTask }     from './process/BatchTask.js' ;\nimport { Cache }         from './process/Cache.js' ;\nimport { Call }          from './process/Call.js' ;\nimport { Chain }         from './process/Chain.js' ;\nimport { Do }            from './process/Do.js' ;\nimport { FrameTimer }    from './process/FrameTimer.js' ;\nimport { Lock }          from './process/Lock.js' ;\nimport { Lockable }      from './process/Lockable.js' ;\nimport { Priority }      from './process/Priority.js' ;\nimport { Resetable }     from './process/Resetable.js' ;\nimport { Resumable }     from './process/Resumable.js' ;\nimport { Runnable }      from './process/Runnable.js' ;\nimport { Startable }     from './process/Startable.js' ;\nimport { Stoppable }     from './process/Stoppable.js' ;\nimport { Task }          from './process/Task.js' ;\nimport { TaskGroup }     from './process/TaskGroup.js' ;\nimport { TaskPhase }     from './process/TaskPhase.js' ;\nimport { TimeoutPolicy } from './process/TimeoutPolicy.js' ;\nimport { Timer }         from './process/Timer.js' ;\nimport { Unlock }        from './process/Unlock.js' ;\n\nimport { isLockable  } from './process/Lockable.js' ;\nimport { isResetable } from './process/Resetable.js' ;\nimport { isResumable } from './process/Resumable.js' ;\nimport { isRunnable  } from './process/Runnable.js' ;\nimport { isStartable } from './process/Startable.js' ;\nimport { isStoppable } from './process/Stoppable.js' ;\n\n/**\n * The {@link system.process} library allow you to create and manage asynchronous operations in your applications.\n * @summary The {@link system.process} library allow you to create and manage asynchronous operations in your applications.\n * @namespace system.process\n * @memberof system\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n */\nexport var process = Object.assign\n({\n    isLockable    : isLockable ,\n    isResetable   : isResetable ,\n    isResumable   : isResumable ,\n    isRunnable    : isRunnable ,\n    isStartable   : isStartable ,\n    isStoppable   : isStoppable ,\n\n    Action        : Action ,\n    ActionEntry   : ActionEntry ,\n    Apply         : Apply ,\n    Batch         : Batch ,\n    BatchTask     : BatchTask ,\n    Cache         : Cache ,\n    Call          : Call ,\n    Chain         : Chain ,\n    Do            : Do,\n    FrameTimer    : FrameTimer,\n    Lock          : Lock ,\n    Lockable      : Lockable ,\n    Priority      : Priority ,\n    Resetable     : Resetable ,\n    Resumable     : Resumable ,\n    Runnable      : Runnable ,\n    Startable     : Startable ,\n    Stoppable     : Stoppable ,\n    Task          : Task ,\n    TaskGroup     : TaskGroup ,\n    TaskPhase     : TaskPhase ,\n    TimeoutPolicy : TimeoutPolicy,\n    Timer         : Timer,\n    Unlock        : Unlock\n}) ;","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates a type string expression and return the property value who corresponding in the target object specified in this evaluator.\n * @name And\n * @memberof system.rules\n * @class\n * @constructs\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @example\n * var And = system.rules.And ;\n * var BooleanRule = system.rules.BooleanRule ;\n *\n * var rule1 = new BooleanRule( true  ) ;\n * var rule2 = new BooleanRule( false ) ;\n * var rule3 = new BooleanRule( true  ) ;\n *\n * var a ;\n *\n * a = new And( rule1 , rule1 ) ;\n * trace( a.eval() ) ; // true\n *\n * a = new And( rule1 , rule1 , rule1 ) ;\n * trace( a.eval() ) ; // true\n *\n * a = new And( rule1 , rule2 ) ;\n * trace( a.eval() ) ; // false\n *\n * a = new And( rule2 , rule1 ) ;\n * trace( a.eval() ) ; // false\n *\n * a = new And( rule2 , rule2 ) ;\n * trace( a.eval() ) ; // false\n *\n * a = new And( rule1 , rule2 , rule3 ) ;\n * trace( a.eval() ) ; // false\n *\n * a = new And( rule1 , rule3 ) ;\n * a.add( rule2 ) ;\n * trace( a.length ) ; // 3\n * trace( a.eval() ) ; // false\n *\n * a.clear()\n * trace( a.length ) ; // 0\n * trace( a.eval() ) ; // false\n * a.add(rule1) ;\n * trace( a.eval() ) ; // true\n */\nexport function And( rule1 /*Rule*/ , rule2 /*Rule*/ , ...rules )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The collection of all rules to evaluate.\n         * @memberof system.rules.And\n         * @type {array}\n         * @instance\n         */\n        rules : { value : [] , enumerable : true },\n\n        /**\n         * The number of rules to evaluate.\n         * @memberof system.rules.And\n         * @type {number}\n         * @instance\n         * @readonly\n         */\n        length : { get : function() { return (this.rules instanceof Array) ? this.rules.length : 0 ; } }\n    });\n\n    if( !(rule1 instanceof Rule) || !(rule2 instanceof Rule)  )\n    {\n        throw new ReferenceError( this + ' constructor failed, the two rules in argument must be defined.' ) ;\n    }\n\n    this.add( rule1 ) ;\n    this.add( rule2 ) ;\n\n    if ( rules && rules.length > 0 )\n    {\n        var len = rules.length ;\n        for( var i = 0 ; i<len ; i++ )\n        {\n            if( rules[i] instanceof Rule )\n            {\n                this.add( rules[i] ) ;\n            }\n        }\n    }\n}\n\nAnd.prototype = Object.create( Rule.prototype );\nAnd.prototype.constructor = And ;\n\n/**\n * Insert a new Rule in the And condition.\n * @name add\n * @memberof system.rules.And\n * @function\n * @instance\n * @param {system.rules.Rule} rule The rule to register.\n * @return The current object reference.\n */\nAnd.prototype.add = function( rule )\n{\n    if( rule instanceof Rule )\n    {\n        this.rules.push(rule) ;\n    }\n    return this ;\n}\n\n/**\n * Clear all rules to evaluates.\n * @name clear\n * @memberof system.rules.And\n * @function\n * @instance\n * @return The current object reference.\n */\nAnd.prototype.clear = function()\n{\n    this.rules.length = 0 ;\n    return this ;\n}\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.And\n * @inheritdoc\n */\nAnd.prototype.eval = function ()\n{\n    if( this.rules.length > 0 )\n    {\n        var b = this.rules[0].eval() ;\n        var l = this.rules.length ;\n        for ( var i = 1 ; i<l ; i++ )\n        {\n            b = b && (this.rules[i].eval()) ;\n        }\n        return b ;\n    }\n    else\n    {\n        return false ;\n    }\n}","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates if the division of a value by another returns 0.\n * @name DivBy\n * @memberof system.rules\n * @class\n * @constructs\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @param {number} [value1=NaN] - The first value to evaluate.\n * @param {number} [value2=NaN] - The second value to evaluate.\n * @example\n * var DivBy = system.rules.DivBy ;\n *\n * var cond ;\n *\n * cond = new DivBy( 4 , 2 ) ;\n * trace( cond.eval() ) ; // true\n *\n * cond = new DivBy( 5 , 2 ) ;\n * trace( cond.eval() ) ; // false\n */\nexport function DivBy( value1 = NaN , value2 = NaN )\n{\n    /**\n     * The first value to evaluate.\n     * @memberof system.rules.DivBy\n     * @name value1\n     * @type {number}\n     * @instance\n     */\n    this.value1 = value1 ;\n\n    /**\n     * The second value to evaluate.\n     * @memberof system.rules.DivBy\n     * @name value2\n     * @type {number}\n     * @instance\n     */\n    this.value2 = value2 ;\n}\n\nDivBy.prototype = Object.create( Rule.prototype );\nDivBy.prototype.constructor = DivBy ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.DivBy\n * @inheritdoc\n */\nDivBy.prototype.eval = function ()\n{\n    return (this.value1 % this.value2) === 0 ;\n}","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates if the value is even.\n * @name Even\n * @memberof system.rules\n * @class\n * @constructs\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @param {number} [value=NaN] ) The value to evaluate.\n * @example\n * var cond ;\n * var Even = system.rules.Even ;\n *\n * cond = new Even( 0 ) ;\n * trace( cond.eval() ) ; // true\n *\n * cond = new Even( 1 ) ;\n * trace( cond.eval() ) ; // false\n *\n * cond = new Even( 2 ) ;\n * trace( cond.eval() ) ; // true\n *\n * cond = new Even( 3 ) ;\n * trace( cond.eval() ) ; // false\n */\nexport function Even( value = NaN )\n{\n    /**\n     * The value to evaluate.\n     * @memberof system.rules.Even\n     * @name value\n     * @type {number}\n     * @instance\n     * @default NaN\n     */\n    this.value = value ;\n}\n\nEven.prototype = Object.create( Rule.prototype );\nEven.prototype.constructor = Even ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.Even\n * @inheritdoc\n */\nEven.prototype.eval = function ()\n{\n    return this.value%2 === 0 ;\n}","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Used to indicates if a value is greater or equal than another value.\n * @name GreaterOrEqualsThan\n * @memberof system.rules\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @class\n * @constructs\n * @param {number} [value1=Nan] - The first value to evaluate.\n * @param {number} [value2=Nan] - The second value to evaluate.\n * @example\n * var GreaterOrEqualsThan = system.rules.GreaterOrEqualsThan ;\n *\n * var rule ;\n *\n * rule = new GreaterOrEqualsThan( 1 , 1 ) ;\n * trace( rule.eval() ) ; // true\n *\n * rule = new GreaterOrEqualsThan( 1 , 2 ) ;\n * trace( rule.eval() ) ; // false\n *\n * rule = new GreaterOrEqualsThan( 3 , 2 ) ;\n * trace( rule.eval() ) ; // true\n */\nexport function GreaterOrEqualsThan( value1 = NaN , value2 = NaN )\n{\n    /**\n     * The first value to evaluate.\n     * @memberof system.rules.GreaterOrEqualsThan\n     * @name value1\n     * @type {number}\n     * @instance\n     * @default NaN\n     */\n    this.value1 = value1 ;\n    /**\n     * The second value to evaluate.\n     * @memberof system.rules.GreaterOrEqualsThan\n     * @name value2\n     * @type {number}\n     * @instance\n     * @default NaN\n     */\n    this.value2 = value2 ;\n}\n\nGreaterOrEqualsThan.prototype = Object.create( Rule.prototype );\nGreaterOrEqualsThan.prototype.constructor = GreaterOrEqualsThan ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.GreaterOrEqualsThan\n * @inheritdoc\n */\nGreaterOrEqualsThan.prototype.eval = function ()\n{\n    return this.value1 >= this.value2 ;\n}","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Used to indicates if a value is greater than another value.\n * @name GreaterThan\n * @memberof system.rules\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @class\n * @constructs\n * @param {number} [value1=Nan] - The first value to evaluate.\n * @param {number} [value2=Nan] - The second value to evaluate.\n * @example\n * var GreaterThan = system.rules.GreaterThan ;\n *\n * var rule ;\n *\n * rule = new GreaterThan( 1 , 1 ) ;\n * trace( rule.eval() ) ; // false\n *\n * rule = new GreaterThan( 1 , 2 ) ;\n * trace( rule.eval() ) ; // false\n *\n * rule = new GreaterThan( 3 , 2 ) ;\n * trace( rule.eval() ) ; // true\n * </pre>\n */\nexport function GreaterThan( value1 = NaN , value2 = NaN )\n{\n    /**\n     * The first value to evaluate.\n     * @memberof system.rules.GreaterThan\n     * @name value1\n     * @type {number}\n     * @instance\n     * @default NaN\n     */\n    this.value1 = value1 ;\n    /**\n     * The second value to evaluate.\n     * @memberof system.rules.GreaterThan\n     * @name value2\n     * @type {number}\n     * @instance\n     * @default NaN\n     */\n    this.value2 = value2 ;\n}\n\nGreaterThan.prototype = Object.create( Rule.prototype );\nGreaterThan.prototype.constructor = GreaterThan ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.GreaterThan\n * @inheritdoc\n */\nGreaterThan.prototype.eval = function ()\n{\n    return this.value1 > this.value2 ;\n}","/* jshint eqnull: true */\n\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates if the condition is a boolean.\n * @name IsBoolean\n * @memberof system.rules\n * @augments system.rules.Rule\n * @implements {system.rules.Rule}\n * @class\n * @constructs\n * @param {Object} [value=null] The value to evaluate.\n * @example\n * var IsBoolean = system.rules.IsBoolean ;\n *\n * trace( (new IsBoolean( 0 )).eval() ) ; // false\n * trace( (new IsBoolean( 1 )).eval() ) ; // false\n *\n * trace( (new IsBoolean( true )).eval() ) ; // true\n * trace( (new IsBoolean( false )).eval() ) ; // true\n *\n * trace( (new IsBoolean( new Boolean(true) )).eval() ) ; // true\n * trace( (new IsBoolean( new Boolean(false) )).eval() ) ; // true\n */\nexport function IsBoolean( value = null )\n{\n    /**\n     * The value to evaluate.\n     * @memberof system.rules.IsBoolean\n     * @name value\n     * @type {Object}\n     * @instance\n     * @default null\n     */\n    this.value = value ;\n}\n\nIsBoolean.prototype = Object.create( Rule.prototype );\nIsBoolean.prototype.constructor = IsBoolean ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.IsBoolean\n * @inheritdoc\n */\nIsBoolean.prototype.eval = function ()\n{\n    return typeof(this.value) === 'boolean' || this.value instanceof Boolean ;\n}","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates if the condition is NaN.\n * @name IsNaN\n * @memberof system.rules\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @class\n * @constructs\n * @param {number} [value=NaN] - The value to evaluate.\n * @example\n * var IsNaN = system.rules.IsNaN ;\n * trace( (new IsNaN( 0 )).eval() ) ; // false\n * trace( (new IsNaN( 1 )).eval() ) ; // false\n * trace( (new IsNaN( 'foo' )).eval() ) ; // false\n * trace( (new IsNaN( NaN )).eval() ) ; // true\n *\n * trace( (new IsNaN( 0 , false )).eval() ) ; // false\n * trace( (new IsNaN( 1 , false )).eval() ) ; // false\n * trace( (new IsNaN( 'foo' , false )).eval() ) ; // true\n * trace( (new IsNaN( NaN , false)).eval() ) ; // true\n */\nexport function IsNaN( value = NaN , strict = true )\n{\n    /**\n     * The condition to evaluate.\n     * @memberof system.rules.True\n     * @name value\n     * @type {number}\n     * @instance\n     * @default NaN\n     */\n    this.value = value ;\n\n    /**\n     * The flag to indicates if the evaluation is strict (is <code>NaN</code> only) or not (test if the object is a <code>Number</code> and if not is <code>NaN</code>).\n     * @memberof system.rules.IsNaN\n     * @name strict\n     * @type {boolean}\n     * @instance\n     * @default true\n     */\n    this.strict = Boolean(strict) ;\n}\n\nIsNaN.prototype = Object.create( Rule.prototype );\nIsNaN.prototype.constructor = IsNaN ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.IsNaN\n * @inheritdoc\n */\nIsNaN.prototype.eval = function ()\n{\n    if( this.strict)\n    {\n        return isNaN(this.value) ;\n    }\n    else\n    {\n        return !(this.value instanceof Number || typeof(this.value) === 'number') || isNaN(this.value)\n    }\n}","/* jshint eqnull: true */\n\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates if the condition is a boolean.\n * @name IsNumber\n * @memberof system.rules\n * @augments system.rules.Rule\n * @class\n * @constructs\n * @implements {system.rules.Rule}\n * @param {Object} [value=null] The value to evaluate.\n * @example\n * var IsNumber = system.rules.IsNumber ;\n *\n * trace( (new IsNumber( 0 )).eval() ) ; // true\n * trace( (new IsNumber( 1 )).eval() ) ; // true\n * trace( (new IsNumber( NaN )).eval() ) ; // true\n *\n * trace( (new IsNumber( true )).eval() ) ; // false\n * trace( (new IsNumber( null )).eval() ) ; // false\n */\nexport function IsNumber( value = null )\n{\n    /**\n     * The value to evaluate.\n     * @memberof system.rules.IsNumber\n     * @name value\n     * @type {Object}\n     * @instance\n     * @default null\n     */\n    this.value  = value ;\n}\n\nIsNumber.prototype = Object.create( Rule.prototype );\nIsNumber.prototype.constructor = IsNumber ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.IsNumber\n * @inheritdoc\n */\nIsNumber.prototype.eval = function ()\n{\n    return typeof(this.value) === 'number' || this.value instanceof Number ;\n}","/* jshint eqnull: true */\n\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates if the condition is a string.\n * @name IsString\n * @memberof system.rules\n * @augments system.rules.Rule\n * @class\n * @constructs\n * @implements {system.rules.Rule}\n * @param {Object} [value=null] The value to evaluate.\n * @example\n * var IsString = system.rules.IsString ;\n *\n * trace( (new IsString( new String('hello') )).eval() ) ; // true\n * trace( (new IsString( 'hello' )).eval() ) ; // true\n * trace( (new IsString( '' )).eval() ) ; // true\n * trace( (new IsString( 1 )).eval() ) ; // false\n */\nexport function IsString( value = null )\n{\n    /**\n     * The value to evaluate.\n     * @memberof system.rules.IsString\n     * @name value\n     * @type {Object}\n     * @instance\n     * @default null\n     */\n    this.value  = value ;\n}\n\nIsString.prototype = Object.create( Rule.prototype );\nIsString.prototype.constructor = IsString ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.IsString\n * @inheritdoc\n */\nIsString.prototype.eval = function ()\n{\n    return typeof(this.value) === 'string' || this.value instanceof String ;\n}","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Used to indicates if a value is less or equal than another value.\n * @name LessOrEqualsThan\n * @memberof system.rules\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @class\n * @constructs\n * @param {number} [value1=Nan] - The first value to evaluate.\n * @param {number} [value2=Nan] - The second value to evaluate.\n * @example\n * var LessOrEqualsThan = system.rules.LessOrEqualsThan ;\n *\n * var rule ;\n *\n * rule = new LessOrEqualsThan( 1 , 1 ) ;\n * trace( rule.eval() ) ; // true\n *\n * rule = new LessOrEqualsThan( 1 , 2 ) ;\n * trace( rule.eval() ) ; // true\n *\n * rule = new LessOrEqualsThan( 3 , 2 ) ;\n * trace( rule.eval() ) ; // false\n */\nexport function LessOrEqualsThan( value1 = NaN , value2 = NaN )\n{\n    /**\n     * The first value to evaluate.\n     * @memberof system.rules.LessOrEqualsThan\n     * @name value1\n     * @type {number}\n     * @instance\n     * @default NaN\n     */\n    this.value1 = value1 ;\n    /**\n     * The second value to evaluate.\n     * @memberof system.rules.LessOrEqualsThan\n     * @name value2\n     * @type {number}\n     * @instance\n     * @default NaN\n     */\n    this.value2 = value2 ;\n}\n\nLessOrEqualsThan.prototype = Object.create( Rule.prototype );\nLessOrEqualsThan.prototype.constructor = LessOrEqualsThan ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.LessOrEqualsThan\n * @inheritdoc\n */\nLessOrEqualsThan.prototype.eval = function ()\n{\n    return this.value1 <= this.value2 ;\n}","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Used to indicates if a value is greater than another value.\n * @name LessThan\n * @memberof system.rules\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @class\n * @constructs\n * @param {number} [value1=Nan] - The first value to evaluate.\n * @param {number} [value2=Nan] - The second value to evaluate.\n * @example\n * var LessThan = system.rules.LessThan ;\n *\n * var rule ;\n *\n * rule = new LessThan( 1 , 1 ) ;\n * trace( rule.eval() ) ; // false\n *\n * rule = new LessThan( 1 , 2 ) ;\n * trace( rule.eval() ) ; // true\n *\n * rule = new LessThan( 3 , 2 ) ;\n * trace( rule.eval() ) ; // false\n */\nexport function LessThan( value1 = NaN , value2 = NaN )\n{\n    /**\n     * The first value to evaluate.\n     * @memberof system.rules.LessThan\n     * @name value1\n     * @type {number}\n     * @instance\n     * @default NaN\n     */\n    this.value1 = value1 ;\n    /**\n     * The second value to evaluate.\n     * @memberof system.rules.LessThan\n     * @name value2\n     * @type {number}\n     * @instance\n     * @default NaN\n     */\n    this.value2 = value2 ;\n}\n\nLessThan.prototype = Object.create( Rule.prototype );\nLessThan.prototype.constructor = LessThan ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.LessThan\n * @inheritdoc\n */\nLessThan.prototype.eval = function ()\n{\n    return this.value1 < this.value2 ;\n}","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Used to perform logical negation on a specific condition.\n * @name Not\n * @memberof system.rules\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @class\n * @constructs\n * @param {boolean|system.rules.Rule} [condition=false] - The condition to evaluate.\n * @example\n * var BooleanRule = system.rules.BooleanRule ;\n * var Not         = system.rules.Not ;\n *\n * var cond1 = new BooleanRule( true  ) ;\n * var cond2 = new BooleanRule( false ) ;\n *\n * var no1 = new Not( true ) ;\n * var no2 = new Not( false ) ;\n * var no3 = new Not( cond1 ) ;\n * var no4 = new Not( cond2 ) ;\n *\n * trace( no1.eval() ) ; // false\n * trace( no2.eval() ) ; // true\n * trace( no3.eval() ) ; // false\n * trace( no4.eval() ) ; // true\n */\nexport function Not( condition = false )\n{\n    /**\n     * The condition to evaluate.\n     * @memberof system.rules.Not\n     * @name value\n     * @type {boolean|system.rules.Rule}\n     * @instance\n     * @default false\n     */\n    this.condition = condition ;\n}\n\nNot.prototype = Object.create( Rule.prototype );\nNot.prototype.constructor = Not ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.Not\n * @inheritdoc\n */\nNot.prototype.eval = function ()\n{\n    return !( this.condition instanceof Rule ? this.condition.eval() : Boolean( this.condition ) ) ;\n}","\"use strict\" ;\n\nimport { isEquatable } from '../Equatable.js' ;\nimport { Rule } from './Rule.js' ;\n\n/**\n * Used to perform a logical conjunction on two conditions and more.\n * @name NotEquals\n * @memberof system.rules\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @class\n * @constructs\n * @param {Object|system.rules.Rule|system.Equatable} [value1=null] - The first value to evaluate.\n * @param {Object|system.rules.Rule|system.Equatable} [value2=null] - The second value to evaluate.\n * @example\n * var BooleanRule = system.rules.BooleanRule ;\n * var NotEquals      =  system.rules.NotEquals ;\n *\n * var e ;\n *\n * ///// Compares objects.\n *\n * e = new NotEquals( 1 , 1 ) ;\n * trace( e.eval() ) ; // false\n *\n * e = new NotEquals( 1 , 2 ) ;\n * trace( e.eval() ) ; // true\n *\n * ///// Compares Rule objects.\n *\n * var cond1 = new BooleanRule( true  ) ;\n * var cond2 = new BooleanRule( false ) ;\n * var cond3 = new BooleanRule( true  ) ;\n *\n * e = new NotEquals( cond1 , cond1 ) ;\n * trace( e.eval() ) ; // false\n *\n * e = new NotEquals( cond1 , cond2 ) ;\n * trace( e.eval() ) ; // true\n *\n * e = new NotEquals( cond1 , cond3 ) ;\n * trace( e.eval() ) ; // false\n *\n * ///// Compares Equatable objects.\n *\n * var equals = function( o )\n * {\n *     return this.id === o.id ;\n * }\n *\n * var o1 = { id:1 , equals:equals } ;\n * var o2 = { id:2 , equals:equals } ;\n * var o3 = { id:1 , equals:equals } ;\n *\n * e = new NotEquals( o1 , o1 ) ;\n * trace( e.eval() ) ; // false\n *\n * e = new NotEquals( o1 , o2 ) ;\n * trace( e.eval() ) ; // true\n *\n * e = new NotEquals( o1 , o3 ) ;\n * trace( e.eval() ) ; // false\n */\nexport function NotEquals( value1 = null , value2 = null )\n{\n    /**\n     * The first value to evaluate.\n     * @memberof system.rules.Equals\n     * @name value1\n     * @type {Object|system.rules.Rule|system.Equatable}\n     * @instance\n     * @default null\n     */\n    this.value1 = value1 ;\n    /**\n     * The second value to evaluate.\n     * @memberof system.rules.Equals\n     * @name value2\n     * @type {Object|system.rules.Rule|system.Equatable}\n     * @instance\n     * @default null\n     */\n    this.value2 = value2 ;\n}\n\nNotEquals.prototype = Object.create( Rule.prototype );\nNotEquals.prototype.constructor = NotEquals ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.NotEquals\n * @inheritdoc\n */\nNotEquals.prototype.eval = function ()\n{\n    if ( this.value1 === this.value2 )\n    {\n        return false ;\n    }\n    else if ( (this.value1 instanceof Rule) && (this.value2 instanceof Rule) )\n    {\n        return this.value1.eval() !== this.value2.eval() ;\n    }\n    else if ( isEquatable(this.value1) )\n    {\n        return !(this.value1.equals( this.value2 )) ;\n    }\n    else\n    {\n        return true ;\n    }\n}","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates if the value is odd.\n * @name Odd\n * @memberof system.rules\n * @class\n * @constructs\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @param {number} [value=NaN] ) The value to evaluate.\n * @example\n * var cond ;\n * var Odd = system.rules.Odd ;\n *\n * cond = new Odd( 0 ) ;\n * trace( cond.eval() ) ; // false\n *\n * cond = new Odd( 1 ) ;\n * trace( cond.eval() ) ; // true\n *\n * cond = new Odd( 2 ) ;\n * trace( cond.eval() ) ; // false\n *\n * cond = new Odd( 3 ) ;\n * trace( cond.eval() ) ; // true\n * </pre>\n */\nexport function Odd( value = NaN )\n{\n    /**\n     * The value to evaluate.\n     * @memberof system.rules.Even\n     * @name value\n     * @type {number}\n     * @instance\n     * @default NaN\n     */\n    this.value = value ;\n}\n\nOdd.prototype = Object.create( Rule.prototype );\nOdd.prototype.constructor = Odd ;\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.Odd\n * @inheritdoc\n */\nOdd.prototype.eval = function ()\n{\n    return this.value%2 !== 0 ;\n}","\"use strict\" ;\n\nimport { Rule } from './Rule.js' ;\n\n/**\n * Evaluates a type string expression and return the property value who corresponding in the target object specified in this evaluator.\n * @name Or\n * @memberof system.rules\n * @class\n * @constructs\n * @implements {system.rules.Rule}\n * @augments system.rules.Rule\n * @example\n * var Or = system.rules.Or ;\n * var BooleanRule = system.rules.BooleanRule ;\n *\n * var rule1 = new BooleanRule( true  ) ;\n * var rule2 = new BooleanRule( false ) ;\n * var rule3 = new BooleanRule( true  ) ;\n *\n * var o ;\n *\n * o = new Or( rule1 , rule1 ) ;\n * trace( o.eval() ) ; // true\n *\n * o = new Or( rule1 , rule1 , rule1 ) ;\n * trace( o.eval() ) ; // true\n *\n * o = new Or( rule1 , rule2 ) ;\n * trace( o.eval() ) ; // true\n *\n * o = new Or( rule2 , rule1 ) ;\n * trace( o.eval() ) ; // true\n *\n * o = new Or( rule2 , rule2 ) ;\n * trace( o.eval() ) ; // false\n *\n * o = new Or( rule1 , rule2 , rule3 ) ;\n * trace( o.eval() ) ; // true\n *\n * o = new Or( rule1 , rule3 ) ;\n * o.add( rule2 ) ;\n * trace( o.length ) ; // 3\n * trace( o.eval() ) ; // true\n *\n * o.clear()\n * trace( o.length ) ; // 0\n * trace( o.eval() ) ; // false\n * o.add(rule1) ;\n * trace( o.eval() ) ; // true\n */\nexport function Or( rule1 /*Rule*/ , rule2 /*Rule*/ , ...rules )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * The collection of all rules to evaluate.\n         * @memberof system.rules.Or\n         * @type {array}\n         * @instance\n         */\n        rules : { value : [] , enumerable : true },\n\n        /**\n         * The number of rules to evaluate.\n         * @memberof system.rules.Or\n         * @type {number}\n         * @instance\n         * @readonly\n         */\n        length : { get : function() { return (this.rules instanceof Array) ? this.rules.length : 0 ; } }\n    });\n\n    if( !(rule1 instanceof Rule) || !(rule2 instanceof Rule)  )\n    {\n        throw new ReferenceError( this + ' constructor failed, the two rules in argument must be defined.' ) ;\n    }\n\n    this.add( rule1 ) ;\n    this.add( rule2 ) ;\n\n    if ( rules && rules.length > 0 )\n    {\n        var len = rules.length ;\n        for( var i = 0 ; i<len ; i++ )\n        {\n            if( rules[i] instanceof Rule )\n            {\n                this.add( rules[i] ) ;\n            }\n        }\n    }\n}\n\nOr.prototype = Object.create( Rule.prototype );\nOr.prototype.constructor = Or ;\n\n/**\n * Insert a new Rule in the Or condition.\n * @name add\n * @memberof system.rules.Or\n * @function\n * @instance\n * @param {system.rules.Rule} rule The rule to register.\n * @return The current object reference.\n */\nOr.prototype.add = function( rule )\n{\n    if( rule instanceof Rule )\n    {\n        this.rules.push(rule) ;\n    }\n    return this ;\n}\n\n/**\n * Clear all rules to evaluates.\n * @name clear\n * @memberof system.rules.Or\n * @function\n * @instance\n * @return The current object reference.\n */\nOr.prototype.clear = function()\n{\n    this.rules.length = 0 ;\n    return this ;\n}\n\n/**\n * Evaluates the specified object.\n * @memberof system.rules.Or\n * @inheritdoc\n */\nOr.prototype.eval = function ()\n{\n    if( this.rules.length > 0 )\n    {\n        var b = this.rules[0].eval() ;\n        var l = this.rules.length ;\n        for ( var i = 1 ; i<l ; i++ )\n        {\n            b = b || (this.rules[i].eval()) ;\n        }\n        return b ;\n    }\n    else\n    {\n        return false ;\n    }\n}","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { And }                 from './rules/And.js' ;\nimport { BooleanRule }         from './rules/BooleanRule.js' ;\nimport { DivBy }               from './rules/DivBy.js' ;\nimport { EmptyString }         from './rules/EmptyString.js' ;\nimport { Equals }              from './rules/Equals.js' ;\nimport { Even }                from './rules/Even.js' ;\nimport { False }               from './rules/False.js' ;\nimport { GreaterOrEqualsThan } from './rules/GreaterOrEqualsThan.js' ;\nimport { GreaterThan }         from './rules/GreaterThan.js' ;\nimport { IsBoolean }           from './rules/IsBoolean.js' ;\nimport { IsNaN }               from './rules/IsNaN.js' ;\nimport { IsNumber }            from './rules/IsNumber.js' ;\nimport { IsString }            from './rules/IsString.js' ;\nimport { LessOrEqualsThan }    from './rules/LessOrEqualsThan.js' ;\nimport { LessThan }            from './rules/LessThan.js' ;\nimport { Not }                 from './rules/Not.js' ;\nimport { NotEquals }           from './rules/NotEquals.js' ;\nimport { Null }                from './rules/Null.js' ;\nimport { Odd }                 from './rules/Odd.js' ;\nimport { Or }                  from './rules/Or.js' ;\nimport { Rule }                from './rules/Rule.js' ;\nimport { True }                from './rules/True.js' ;\nimport { Undefined }           from './rules/Undefined.js' ;\nimport { Zero }                from './rules/Zero.js' ;\n\nimport { isRule } from './rules/Rule.js' ;\n\n/**\n * The {@link system.rules} library defines a set of functions and classes to evaluate some basic or complex conditions in your applications.\n * @summary The {@link system.rules} library defines a set of functions and classes to evaluate some basic or complex conditions in your applications.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace system.rules\n * @memberof system\n */\nexport var rules = Object.assign\n({\n    // singletons\n    isRule : isRule ,\n\n    // classes\n    And                 : And ,\n    BooleanRule         : BooleanRule ,\n    DivBy               : DivBy ,\n    EmptyString         : EmptyString ,\n    Equals              : Equals ,\n    Even                : Even ,\n    False               : False ,\n    GreaterOrEqualsThan : GreaterOrEqualsThan ,\n    GreaterThan         : GreaterThan ,\n    IsBoolean           : IsBoolean ,\n    IsNaN               : IsNaN ,\n    IsNumber            : IsNumber ,\n    IsString            : IsString ,\n    LessOrEqualsThan    : LessOrEqualsThan ,\n    LessThan            : LessThan ,\n    Odd                 : Odd ,\n    Not                 : Not ,\n    NotEquals           : NotEquals ,\n    Null                : Null ,\n    Or                  : Or ,\n    Rule                : Rule,\n    True                : True,\n    Undefined           : Undefined,\n    Zero                : Zero\n}) ;","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { Receiver    } from './signals/Receiver.js' ;\nimport { SignalEntry } from './signals/SignalEntry.js' ;\nimport { Signaler    } from './signals/Signaler.js' ;\nimport { Signal      } from './signals/Signal.js' ;\n\n/**\n * The {@link system.signals} library is light-weight, strongly-typed messaging tools. Wire your application with better APIs and less boilerplate than W3C DOMEvents..\n * <p><b>Concept: </b>\n * <ul>\n * <li>A Signal is essentially a minimal emiter specific to one event, with its own <code>array</code> of receivers/slots ({@link system.signals.Receiver|Receiver} or <code>Function</code>).</li>\n * <li>A Signal gives an event a concrete membership in a class.</li>\n * <li>Receivers subscribe to real objects, not to string-based channels.</li>\n * <li>Event string constants are no longer needed.</li>\n * <li>Signals are inspired by {@link https://en.wikipedia.org/wiki/Signals_and_slots|signals/slots in Qt}.</li>\n * <ul>\n * @summary The {@link system.signals} library is light-weight, strongly-typed messaging tools.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace system.signals\n * @memberof system\n * @example\n * function Slot( name )\n * {\n *     this.name = name ;\n * }\n *\n * Slot.prototype = Object.create( system.signals.Receiver.prototype );\n * Slot.prototype.constructor = Slot;\n *\n * Slot.prototype.receive = function ( message )\n * {\n *     trace( this + \" : \" + message ) ;\n * }\n *\n * Slot.prototype.toString = function ()\n * {\n *     return \"[Slot name:\" + this.name + \"]\" ;\n * }\n *\n * var slot1 = new Slot(\"slot1\") ;\n *\n * var slot2 = function( message )\n * {\n *     trace( this + \" : \" + message ) ;\n * }\n *\n * var signal = new system.signals.Signal() ;\n *\n * //signal.proxy = slot1 ;\n *\n * signal.connect( slot1 , 0 ) ;\n * signal.connect( slot2 , 2 ) ;\n *\n * signal.emit( \"hello world\" ) ;\n */\nexport var signals = Object.assign\n({\n    Receiver    : Receiver ,\n    SignalEntry : SignalEntry ,\n    Signaler    : Signaler,\n    Signal      : Signal\n}) ;","\"use strict\" ;\n\nimport { performance } from '../../polyfill/performance.js' ;\nimport { Receiver  } from '../signals/Receiver.js' ;\nimport { Motion }    from './Motion.js' ;\n\n/**\n * The internal MotionNextFrame Receiver.\n * @name MotionNextFrame\n * @memberof system.transitions\n * @constructs\n * @class\n * @private\n * @implements Receiver\n * @param {system.transitions.Motion} motion - The Motion reference who emit the messages.\n */\nexport function MotionNextFrame( motion )\n{\n    this.motion = motion instanceof Motion ? motion : null ;\n}\n\nMotionNextFrame.prototype = Object.create( Receiver.prototype ,\n{\n    constructor : { value : MotionNextFrame } ,\n\n    /**\n     * Receives the signal message.\n     * @name receive\n     * @memberof system.transitions.MotionNextFrame\n     * @function\n     * @instance\n     */\n    receive : { value : function()\n    {\n        if( this.motion )\n        {\n            this.motion.setTime( (this.motion.useSeconds) ? ( ( performance.now() - this.motion._startTime ) / 1000 ) : ( this.motion._time + 1 ) ) ;\n        }\n    }}\n}) ;","\"use strict\" ;\n\nimport { Task } from '../process/Task.js' ;\n\n/**\n * The basic implementation of all transitions classes.\n * @name Transition\n * @memberof system.transitions\n * @extends {system.process.Task}\n * @interface\n * @constructs\n */\nexport function Transition ( id = null )\n{\n    Task.call( this ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * @private\n         */\n        _id : { value : id , writable : true }\n    });\n}\n\nTransition.prototype = Object.create( Task.prototype ,\n{\n    constructor : { value : Transition , writable : true } ,\n\n    /**\n     * Indicates the id value of this object.\n     * @memberof system.transitions.Transition\n     * @default null\n     * @type {*}\n     * @instance\n     */\n    id :\n    {\n        get : function() { return this._id ; } ,\n        set : function( value ) { this._id = value ; } ,\n    },\n\n    /**\n     * Returns a shallow copy of this object.\n     * @return a shallow copy of this object.\n     * @memberof system.transitions.Transition\n     * @abstract\n     * @instance\n     * @function\n     */\n    clone : { writable : true , value : function()\n    {\n        return new Transition( this.id ) ;\n    }},\n\n    /**\n     * Compares the specified object with this object for equality. This method compares the ids of the objects with the <code>Identifiable.id</code> method.\n     * @param {system.transitions.Transition} o - The object to compare.\n     * @return a shallow copy of this object.\n     * @memberof system.transitions.Transition\n     * @instance\n     * @function\n     */\n    equals : { writable : true , value : function( o )\n    {\n        if ( o === this )\n        {\n            return true ;\n        }\n        else if ( o && (o instanceof Transition) )\n        {\n            return ( o.id === this.id) ;\n        }\n        else\n        {\n            return false ;\n        }\n    }},\n\n    /**\n     * Returns the String representation of the object.\n     * @return the String representation of the object.\n     * @memberof system.transitions.Transition\n     * @instance\n     * @function\n     */\n    toString : { value : function()\n    {\n        return '[' + this.constructor.name + ']' ;\n    }}\n});\n\n","\"use strict\" ;\n\nimport { performance } from '../../polyfill/performance.js' ;\n\nimport { MotionNextFrame as NextFrame }  from './MotionNextFrame.js' ;\nimport { Transition }                    from './Transition.js' ;\n\nimport { FrameTimer } from '../process/FrameTimer.js' ;\nimport { Task }       from '../process/Task.js' ;\nimport { Timer }      from '../process/Timer.js' ;\n\n/**\n * The abstract motion class.\n * @name Motion\n * @constructs\n * @memberof system.transitions\n * @implements {system.transitions.Transition}\n * @class\n * @param {number} [id=null] - The identfier of the object.\n */\nexport function Motion( id = null )\n{\n    Transition.call( this , id ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * Defined if the Motion used seconds or not.\n         * @memberof system.transitions.Motion\n         * @default false\n         * @type {boolean}\n         * @instance\n         */\n        useSeconds : { writable : true , value : false },\n\n        /**\n         * @private\n         */\n        _duration : { writable : true , value : 0 },\n\n        /**\n         * @private\n         */\n        _fps : { writable : true , value : NaN } ,\n\n        /**\n         * @private\n         */\n        _nextFrame : { value : new NextFrame(this) },\n\n        /**\n         * @private\n         */\n        _prevTime : { writable : true , value : NaN },\n\n        /**\n         * @private\n         */\n        _startTime : { writable : true , value : NaN },\n\n        /**\n         * @private\n         */\n        _stopped : { writable : true , value : false },\n\n        /**\n         * @private\n         */\n        _target : { writable : true , value : null },\n\n        /**\n         * @private\n         */\n        _time : { writable : true , value : NaN },\n\n        /**\n         * @private\n         */\n        _timer : { writable : true , value : null }\n    });\n\n    this.setTimer( new FrameTimer() ) ;\n}\n\nMotion.prototype = Object.create( Transition.prototype ,\n{\n    constructor : { value : Motion , writable : true } ,\n\n    // ------------- get/set\n\n    /**\n     * Indicates the duration of the tweened animation in frames or seconds (default 0).\n     * @memberof system.transitions.Motion\n     * @default false\n     * @type {number}\n     * @instance\n     */\n    duration :\n    {\n        get : function()\n        {\n            return this._duration ;\n        },\n        set : function( value )\n        {\n            this._duration = (isNaN(value) || value <= 0 ) ? 0 : value ;\n        }\n    },\n\n    /**\n     * Indicates the number of frames per second of the tweened animation.\n     * @memberof system.transitions.Motion\n     * @default NaN\n     * @type {number}\n     * @instance\n     */\n    fps :\n    {\n        get : function()\n        {\n            return this._fps ;\n        },\n        set : function( value )\n        {\n            if ( this._timer && this._timer._running )\n            {\n                this._timer.stop() ;\n            }\n            this._fps = value > 0 ? value : NaN ;\n            if ( isNaN(this._fps) )\n            {\n                this.setTimer( new FrameTimer() ) ;\n            }\n            else\n            {\n                this.setTimer( new Timer( 1000 / this._fps ) ) ;\n            }\n        }\n    },\n\n    /**\n     * Indicates the internal previous time value.\n     * @memberof system.transitions.Motion\n     * @type {number}\n     * @instance\n     */\n    prevTime :\n    {\n        get : function()\n        {\n            return this._prevTime ;\n        }\n    },\n\n    /**\n     * Indicates if the motion is stopped.\n     * @memberof system.transitions.Motion\n     * @default false\n     * @type {boolean}\n     * @instance\n     */\n    stopped :\n    {\n        get : function()\n        {\n            return this._stopped ;\n        }\n    },\n\n    /**\n     * Indicates the target reference of the object contrains by the Motion effect.\n     * @memberof system.transitions.Motion\n     * @type {Object}\n     * @instance\n     */\n    target :\n    {\n        get : function()\n        {\n            return this._target ;\n        },\n        set : function( value )\n        {\n            this._target = value ;\n        }\n    },\n\n    // ------------- public methods\n\n    /**\n     * Returns a shallow copy of this object.\n     * @return a shallow copy of this object.\n     * @memberof system.transitions.Motion\n     * @instance\n     * @function\n     */\n    clone : { writable : true , value : function()\n    {\n        return new Motion( this.id ) ;\n    }},\n\n    /**\n     * Forwards the tweened animation to the next frame.\n     * @memberof system.transitions.Motion\n     * @instance\n     * @function\n     */\n    nextFrame : { value : function()\n    {\n        this.setTime( (this.useSeconds) ? ( ( performance.now() - this._startTime ) / 1000 ) : ( this._time + 1 ) ) ;\n    }},\n\n    /**\n     * Directs the tweened animation to the frame previous to the current frame.\n     * @memberof system.transitions.Motion\n     * @instance\n     * @function\n     */\n    prevFrame : { value : function()\n    {\n        if (!this.useSeconds)\n        {\n            this.setTime( this._time - 1 )  ;\n        }\n    }},\n\n    /**\n     * Resumes a tweened animation from its stopped point in the animation.\n     * @memberof system.transitions.Motion\n     * @instance\n     * @function\n     */\n    resume : { writable : true , value : function()\n    {\n        if ( this._stopped && this._time !== this._duration )\n        {\n            this._stopped = false ;\n            this.fixTime() ;\n            this.startInterval() ;\n            this.notifyResumed() ;\n        }\n        else\n        {\n            this.run() ;\n        }\n    }},\n\n    /**\n     * Rewinds a tweened animation to the beginning of the tweened animation.\n     * @param {number} time - The time value to rewind the motion.\n     * @memberof system.transitions.Motion\n     * @instance\n     * @function\n     */\n    rewind : { value : function( time = 0 )\n    {\n        this._time = time > 0 ? time : 0 ;\n        this.fixTime() ;\n        this.update() ;\n    }} ,\n\n    /**\n     * Runs the object.\n     * @memberof system.transitions.Motion\n     * @instance\n     * @function\n     */\n    run : { writable : true , value : function()\n    {\n        this._stopped = false ;\n        this.notifyStarted() ;\n        this.rewind() ;\n        this.startInterval() ;\n    }},\n\n    /**\n     * Sets the current time within the duration of the animation.\n     * @param {number} time - The time value to rewind the motion.\n     * @memberof system.transitions.Motion\n     * @instance\n     * @function\n     */\n    setTime : { value : function( time )\n    {\n        this._prevTime = this._time ;\n        if (time > this._duration)\n        {\n            time = this._duration ;\n            if ( this.looping )\n            {\n                this.rewind( time - this._duration );\n                this.notifyLooped() ;\n            }\n            else\n            {\n                if ( this.useSeconds )\n                {\n                    this._time = this._duration ;\n                    this.update() ;\n                }\n                this.stop() ;\n                this.notifyFinished() ;\n            }\n        }\n        else if ( time < 0 )\n        {\n            this.rewind() ;\n        }\n        else\n        {\n            this._time = time ;\n            this.update() ;\n        }\n    }},\n\n    /**\n     * Starts the internal interval of the tweened animation.\n     * @memberof system.transitions.Motion\n     * @instance\n     * @function\n     */\n    startInterval : { value : function()\n    {\n        this._timer.start() ;\n        this._running = true ;\n    }},\n\n    /**\n     * Stops the tweened animation at its current position.\n     * @memberof system.transitions.Motion\n     * @instance\n     * @function\n     */\n    stop : { value : function()\n    {\n        if( this._running )\n        {\n            this.stopInterval() ;\n            this._stopped = true ;\n            this.notifyStopped() ;\n        }\n    }},\n\n    /**\n     * Stops the intenral interval of the tweened animation.\n     * @memberof system.transitions.Motion\n     * @instance\n     * @function\n     */\n    stopInterval : { value : function()\n    {\n        this._timer.stop() ;\n        this._running = false ;\n    }},\n\n    /**\n     * Update the current object.\n     * @memberof system.transitions.Motion\n     * @instance\n     * @function\n     * @abstract\n     */\n    update : { writable : true , value : function()\n    {\n        //\n    }} ,\n\n    // ------------- private\n\n    /**\n     * @memberof system.transitions.Motion\n     * @function\n     * @instance\n     * @private\n     */\n    fixTime : { value : function()\n    {\n        if ( this.useSeconds )\n        {\n            this._startTime = performance.now() - ( this._time * 1000 ) ;\n        }\n    }},\n\n    /**\n     * Sets the internal timer of the tweened animation.\n     * @memberof system.transitions.Motion\n     * @function\n     * @instance\n     * @private\n     */\n    setTimer : { value : function( value )\n    {\n        if ( this._timer )\n        {\n            if( this._timer instanceof Task )\n            {\n                if( this._timer._running )\n                {\n                    this._timer.stop();\n                }\n                this._timer.progressIt.disconnect( this._nextFrame ) ;\n            }\n            this._timer = null ;\n        }\n\n        this._timer = (value instanceof Task) ? value : new Timer() ;\n\n        if( this._timer )\n        {\n            this._timer.progressIt.connect( this._nextFrame ) ;\n        }\n    }}\n});\n\n","\"use strict\" ;\n\nimport { linear } from '../../core/easings/linear.js' ;\nimport { Motion } from './Motion.js' ;\n\n/**\n * The TweenUnit class interpolate in time a value between <code>0</code> and <code>1</code>.\n * @summary The TweenUnit class interpolate in time a value between <code>0</code> and <code>1</code>.\n * @name TweenUnit\n * @memberof system.transitions\n * @class\n * @constructs\n * @extends {system.transitions.Motion}\n * @tutorial system.transitions\n * @example\n * var change = function( tween )\n * {\n *     trace( 'progress ' + tween.position ) ;\n * }\n *\n * var finish = function()\n * {\n *     trace( 'finish' ) ;\n * }\n *\n * var start = function()\n * {\n *     trace( 'start' ) ;\n * }\n *\n * var tween = new TweenUnit( core.easings.backOut , 48 ) ;\n *\n * //tween.easing = core.easings.cubicOut ;\n * //tween.easing = core.easings.elasticOut ;\n * //tween.easing = core.easings.sineOut ;\n *\n * /tween.fps = 24  ; // use the system.process.Timer class\n * tween.fps = NaN ; // Use the system.process.FrameTimer\n *\n * //tween.looping = true ;\n *\n * tween.finishIt.connect( finish ) ;\n * tween.changeIt.connect( change ) ;\n * tween.startIt.connect( start ) ;\n *\n * tween.run() ;\n */\nexport function TweenUnit( easing = null , duration = 0 , useSeconds = false , auto = false , id = null )\n{\n    Motion.call( this , id ) ;\n\n    Object.defineProperties( this ,\n    {\n        /**\n         * The current position of this tween.\n         * @memberof system.transitions.TweenUnit\n         * @default 0\n         * @type {number}\n         * @instance\n         */\n        position : { writable : true , value : 0 },\n\n        /**\n         * @private\n         */\n        _change: { writable : true , value : 1 } , // max - min\n\n        /**\n         * @private\n         */\n        _easing : { writable : true , value : (easing instanceof Function) ? easing : linear }\n    });\n\n    this.duration   = duration ;\n    this.useSeconds = useSeconds ;\n\n    if ( auto )\n    {\n        this.run() ;\n    }\n}\n\nTweenUnit.prototype = Object.create( Motion.prototype ,\n{\n    constructor : { value : TweenUnit , writable : true } ,\n\n    /**\n     * Defines the easing method reference of this entry.\n     * @memberof system.transitions.TweenUnit\n     * @type {Function}\n     * @instance\n     * @see {core.easings}\n     */\n    easing :\n    {\n        get : function()\n        {\n            return this._easing ;\n        },\n        set : function( value )\n        {\n            this._easing = value instanceof Function ? value : linear ;\n        }\n    },\n\n    /**\n     * Returns a shallow copy of this object.\n     * @return a shallow copy of this object.\n     * @memberof system.transitions.TweenUnit\n     * @type {Function}\n     * @instance\n     */\n    clone : { writable : true , value : function()\n    {\n        return new TweenUnit( this.easing, this.duration, this.useSeconds ) ;\n    }},\n\n    /**\n     * Set the TweenUnit properties.\n     * @param {Function} easing - The easing function of the tween entry.\n     * @param {number} [duration=0] - The length of time or number of frames for the tween motion.\n     * @param {boolean} [useSeconds=false] - Indicates if the duration is in seconds.\n     * @memberof system.transitions.TweenUnit\n     * @type {Function}\n     * @instance\n     * @see {core.easings}\n     */\n    set : { value : function( easing , duration = 0 , useSeconds = false )\n    {\n        this.duration   = duration   ;\n        this.useSeconds = useSeconds ;\n        this.easing     = easing     ;\n    }},\n\n    /**\n     * Update the current tween.\n     * @memberof system.transitions.TweenUnit\n     * @type {Function}\n     * @instance\n     */\n    update : { writable : true , value : function()\n    {\n        if( this._easing )\n        {\n            this.position = this._easing( this._time, 0, this._change , this._duration ) ;\n            this.notifyChanged() ;\n        }\n        else\n        {\n            this.position = null ;\n        }\n    }}\n});","\"use strict\" ;\n\nimport { TaskPhase } from '../process/TaskPhase.js' ;\nimport { TweenUnit } from './TweenUnit.js' ;\n\n/**\n * The Tween class lets you use to move, resize, and fade visual elements easily on the stage of your applications by specifying a property of the target movieclips or sprites to be tween animated over a number of frames or seconds.\n * <p>The Tween class also lets you specify a variety of {@link core.easings|easing} methods.</p>\n * <p>Easing refers to gradual acceleration or deceleration during an animation, which helps your animations appear more realistic.</p>\n * @summary The Tween class lets you use to move, resize, and fade visual elements easily on your applications.\n * @name Tween\n * @memberof system.transitions\n * @class\n * @constructs\n * @extends {system.transitions.TweenUnit}\n * @tutorial system.transitions\n * @example\n * \"use strict\" ;\n *\n * window.onload = function()\n * {\n *     if( !vegas )\n *     {\n *         throw new Error( \"The VEGAS library is not found.\" ) ;\n *     }\n *\n *     // ----- imports\n *\n *     var global   = vegas.global ; // jshint ignore:line\n *     var trace    = vegas.trace  ; // jshint ignore:line\n *     var core     = vegas.core   ; // jshint ignore:line\n *     var system   = vegas.system ; // jshint ignore:line\n *\n *     var Tween = system.transitions.Tween ;\n *\n *     // ----- behaviors\n *\n *     var change = function( tween )\n *     {\n *         trace( 'progress ' + core.dump(tween.target) ) ;\n *         render() ;\n *     }\n *\n *     var finish = function()\n *     {\n *         trace( 'finish' ) ;\n *         // tween.duration = 120 ;\n *         // tween.from = null ;\n *         // tween.to   = tween.to === to ? from : to ;\n *         // tween.run() ;\n *     }\n *\n *     var start = function()\n *     {\n *         trace( 'start' ) ;\n *     }\n *\n *     // ----- initialize\n *\n *     var canvas  = document.getElementById('canvas') ;\n *     var context = canvas.getContext('2d');\n *\n *     canvas.width  = 800;\n *     canvas.height = 600;\n *\n *     var color   = '#FF0000' ;\n *     var radius  = 25;\n *\n *     var from    = { x : 100 , y : 100 } ;\n *     var to      = { x : 500 , y : 400 } ;\n *     var target  = { x : 0   , y : 0 } ;\n *\n *     var easings = null ;\n *\n *     easings = { x : core.easings.backOut , y : core.easings.sineOut } ;\n *\n *     var tween = new Tween\n *     ({\n *         auto       : false,\n *         duration   : 48 ,\n *         useSeconds : false ,\n *         easing     : core.easings.backOut,\n *         easings    : easings,\n *         from       : from ,\n *         target     : target ,\n *         to         : to\n *     }) ;\n *\n *     //tween.easing = core.easings.cubicOut ;\n *     //tween.easing = core.easings.elasticOut ;\n *     //tween.easing = core.easings.sineOut ;\n *\n *     // tween.fps = 60  ; // use an internal Timer instance or a FrameTimer instance if fps is NaN\n *\n *     tween.looping = true ;\n *\n *     tween.finishIt.connect( finish ) ;\n *     tween.changeIt.connect( change ) ;\n *     tween.startIt.connect( start ) ;\n *\n *     // ----- render\n *\n *     var render = function()\n *     {\n *         var width  = canvas.width ;\n *         var height = canvas.height ;\n *\n *         context.clearRect(0, 0, width, height);\n *\n *         context.fillStyle = '#333333' ;\n *         context.fillRect(0, 0, width, height );\n *\n *         context.beginPath();\n *         context.arc( target.x, target.y, radius, 0, Math.PI * 2, false );\n *         context.closePath();\n *         context.fillStyle = color ;\n *         context.fill();\n *     }\n *\n *     render() ;\n *\n *     tween.run() ;\n * }\n */\nexport function Tween( init )\n{\n    TweenUnit.call( this ) ;\n    this.position = null ;\n    Object.defineProperties( this ,\n    {\n        /**\n         * @private\n         */\n        _begin : { writable : true , value : null } ,\n\n        /**\n         * @private\n         */\n        _changed : { writable : true , value : false } ,\n\n        /**\n         * @private\n         */\n        _easings : { writable : true , value : null },\n\n        /**\n         * @private\n         */\n        _from : { writable : true , value : null } ,\n\n        /**\n         * @private\n         */\n        _target: { writable : true , value : null } ,\n\n        /**\n         * @private\n         */\n        _to : { writable : true , value : null }\n    });\n\n    if( init )\n    {\n        for( var prop in init )\n        {\n            if( prop in this )\n            {\n                this[prop] = init[prop];\n            }\n        }\n        if ( 'auto' in init && init.auto === true )\n        {\n            this.run() ;\n        }\n    }\n}\n\nTween.prototype = Object.create( TweenUnit.prototype ,\n{\n    constructor : { value : TweenUnit , writable : true } ,\n\n    /**\n     * Determinates the generic object with all custom easing functions to interpolate the transition of the specific component in time.\n     * If this object is null, the default numeric attributes of the target are used.\n     * @name easings\n     * @memberof system.transitions.Tween\n     * @type {Object}\n     * @instance\n     */\n    easings :\n    {\n        get : function()\n        {\n            return this._easings ;\n        },\n        set : function( value )\n        {\n            this._easings = value ;\n        }\n    },\n\n    /**\n     * Determinates the generic object with all numeric attributes to start the transition.\n     * If this object is null, the default numeric attributes of the target are used.\n     * @name from\n     * @memberof system.transitions.Tween\n     * @type {Object}\n     * @instance\n     */\n    from :\n    {\n        get : function()\n        {\n            return this._from ;\n        },\n        set : function( value )\n        {\n            this._from = value ;\n            this._changed = true ;\n        }\n    },\n\n    /**\n     * Indicates the target reference of the object contrains by the Motion effect.\n     * @name target\n     * @memberof system.transitions.Tween\n     * @type {Object}\n     * @instance\n     */\n    target :\n    {\n        get : function()\n        {\n            return this._target ;\n        },\n        set : function( value )\n        {\n            this._target  = value ;\n            this._changed = true ;\n        }\n    },\n\n    /**\n     * Determinates the generic object with all properties to change inside.\n     * @name to\n     * @memberof system.transitions.Tween\n     * @type {Object}\n     * @instance\n     */\n    to :\n    {\n        get : function()\n        {\n            return this._to ;\n        },\n        set : function( value )\n        {\n            this._to      = value ;\n            this._changed = true ;\n        }\n    },\n\n    /**\n     * Returns a shallow copy of this object.\n     * @return a shallow copy of this object.\n     * @name clone\n     * @memberof system.transitions.Tween\n     * @instance\n     * @function\n     */\n    clone : { writable : true , value : function()\n    {\n        return new Tween\n        ({\n            duration   : this.duration,\n            easing     : this.easing,\n            easings    : this.easings,\n            from       : this.from,\n            target     : this.target,\n            to         : this.to,\n            useSeconds : this.useSeconds\n        }) ;\n    }},\n\n    /**\n     * Notify when the process is finished.\n     * @name notifyFinished\n     * @memberof system.transitions.Tween\n     * @instance\n     * @function\n     */\n    notifyFinished : { value : function()\n    {\n        this._changed = true ;\n        this._running = false ;\n        this._phase = TaskPhase.FINISHED ;\n        this.finishIt.emit( this ) ;\n        this._phase = TaskPhase.INACTIVE ;\n    }},\n\n    /**\n     * Runs the process\n     * @name run\n     * @memberof system.transitions.Tween\n     * @instance\n     * @function\n     */\n    run : { writable : true , value : function( to = null )\n    {\n        if ( to )\n        {\n            this.to = to ;\n        }\n        this._changed  = true ;\n        this._stopped  = false ;\n        this.position  = null ;\n        this.notifyStarted() ;\n        this.rewind() ;\n        this.startInterval() ;\n    }},\n\n    /**\n      * Update the current object.\n     * @name update\n     * @memberof system.transitions.Tween\n     * @instance\n     * @function\n      */\n    update : { writable : true , value : function()\n    {\n        if ( this._changed )\n        {\n            this._changed = false ;\n            if ( !this._target )\n            {\n                throw new Error( this + \" update failed, the 'target' property not must be null.\") ;\n            }\n            if( !this._to )\n            {\n                throw new Error( this + \" update failed, the 'to' property not must be null.\") ;\n            }\n            if ( this._from )\n            {\n                this._begin = this._from ;\n            }\n            else\n            {\n                this._begin = {} ;\n\n                for( let prop in this._to )\n                {\n                    if( prop in this._target )\n                    {\n                        this._begin[prop] = this._target[prop] ;\n                    }\n                }\n            }\n        }\n\n        this.position = {} ;\n\n        for ( let prop in this._to )\n        {\n            if( prop in this._target )\n            {\n                let e = (this._easings && (prop in this._easings) && this.easings[prop] instanceof Function) ? this.easings[prop] : this._easing ;\n                this._target[prop] = this.position[prop] = e( this._time, this._begin[prop] , this._to[prop] - this._begin[prop] , this._duration ) ;\n            }\n        }\n\n        this.notifyChanged() ;\n    }}\n});","\"use strict\" ;\n\nimport { Motion }     from './transitions/Motion.js' ;\nimport { Transition } from './transitions/Transition.js' ;\nimport { Tween }      from './transitions/Tween.js' ;\nimport { TweenUnit }  from './transitions/TweenUnit.js' ;\n\n/**\n * The {@link system.transitions} library is a simple animations toolkit to use in your projects, your games, your websites.\n * @summary The {@link system.transitions} library is a simple animations toolkit to use in your projects, your games, your websites.\n * @namespace system.transitions\n * @memberof system\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @see For more usage, read the {@tutorial system.transitions} tutorial.\n * @example <caption>Javascript script</caption>\n * \"use strict\" ;\n *\n * window.onload = function()\n * {\n *     if( !vegas )\n *     {\n *         throw new Error( \"The VEGAS library is not found.\" ) ;\n *     }\n *\n *     // ----- imports\n *\n *     var global   = vegas.global ; // jshint ignore:line\n *     var trace    = vegas.trace  ; // jshint ignore:line\n *     var core     = vegas.core   ; // jshint ignore:line\n *     var system   = vegas.system ; // jshint ignore:line\n *\n *     var Tween = system.transitions.Tween ;\n *\n *     // ----- behaviors\n *\n *     var change = function( tween )\n *     {\n *         trace( 'progress ' + core.dump(tween.target) ) ;\n *         render() ;\n *     }\n *\n *     var finish = function()\n *     {\n *         trace( 'finish' ) ;\n *         // tween.duration = 120 ;\n *         // tween.from = null ;\n *         // tween.to   = tween.to === to ? from : to ;\n *         // tween.run() ;\n *     }\n *\n *     var start = function()\n *     {\n *         trace( 'start' ) ;\n *     }\n *\n *     // ----- initialize\n *\n *     var canvas  = document.getElementById('canvas') ;\n *     var context = canvas.getContext('2d');\n *\n *     canvas.width  = 800;\n *     canvas.height = 600;\n *\n *     var color   = '#FF0000' ;\n *     var radius  = 25;\n *\n *     var from    = { x : 100 , y : 100 } ;\n *     var to      = { x : 500 , y : 400 } ;\n *     var target  = { x : 0   , y : 0 } ;\n *\n *     var easings = null ;\n *\n *     easings = { x : core.easings.backOut , y : core.easings.sineOut } ;\n *\n *     var tween = new Tween\n *     ({\n *         auto       : false,\n *         duration   : 48 ,\n *         useSeconds : false ,\n *         easing     : core.easings.backOut,\n *         easings    : easings,\n *         from       : from ,\n *         target     : target ,\n *         to         : to\n *     }) ;\n *\n *     //tween.easing = core.easings.cubicOut ;\n *     //tween.easing = core.easings.elasticOut ;\n *     //tween.easing = core.easings.sineOut ;\n *\n *     // tween.fps = 60  ; // use an internal Timer instance or a FrameTimer instance if fps is NaN\n *\n *     tween.looping = true ;\n *\n *     tween.finishIt.connect( finish ) ;\n *     tween.changeIt.connect( change ) ;\n *     tween.startIt.connect( start ) ;\n *\n *     // ----- render\n *\n *     var render = function()\n *     {\n *         var width  = canvas.width ;\n *         var height = canvas.height ;\n *\n *         context.clearRect(0, 0, width, height);\n *\n *         context.fillStyle = '#333333' ;\n *         context.fillRect(0, 0, width, height );\n *\n *         context.beginPath();\n *         context.arc( target.x, target.y, radius, 0, Math.PI * 2, false );\n *         context.closePath();\n *         context.fillStyle = color ;\n *         context.fill();\n *     }\n *\n *     render() ;\n *\n *     tween.run() ;\n * }\n */\nexport var transitions = Object.assign\n({\n    Motion     : Motion,\n    Transition : Transition,\n    Tween      : Tween,\n    TweenUnit  : TweenUnit\n}) ;","\"use strict\" ;\n\nimport './polyfill/Object.js' ;\n\nimport { Enum }        from './system/Enum.js' ;\nimport { Equatable }   from './system/Equatable.js' ;\nimport { Evaluable }   from './system/Evaluable.js' ;\nimport { Formattable } from './system/Formattable.js' ;\n\nimport { isEvaluable   } from './system/Evaluable.js' ;\nimport { isFormattable } from './system/Formattable.js' ;\n\nimport { data }        from './system/data.js' ;\nimport { errors }      from './system/errors.js' ;\nimport { evaluators }  from './system/evaluators.js' ;\nimport { events }      from './system/events.js' ;\nimport { formatters }  from './system/formatters.js' ;\nimport { ioc }         from './system/ioc.js' ;\nimport { logging }     from './system/logging.js' ;\nimport { logics }      from './system/logics.js' ;\nimport { models }      from './system/models.js' ;\nimport { numeric }     from './system/numeric.js' ;\nimport { process }     from './system/process.js' ;\nimport { rules }       from './system/rules.js' ;\nimport { signals }     from './system/signals.js' ;\nimport { transitions } from './system/transitions.js' ;\n\n/**\n * The {@link system} library is the root package for the <strong>VEGAS JS</strong> framework. It is the starting point of our RIA framework structure : signals, data, IoC, logger, tasks, transitions, logics, rules, models, etc.\n * <p><b>Dependencies :</b> The {@link system} framework reuse the module and building blocks of the {@link core} library.</p>\n * @summary The {@link system} library is the root package for the <strong>VEGAS JS</strong> framework.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace system\n * @version 1.0.7\n * @since 1.0.0\n */\nexport var system = Object.assign\n({\n    // interfaces\n\n    Enum        : Enum ,\n    Equatable   : Equatable ,\n    Evaluable   : Evaluable ,\n    Formattable : Formattable ,\n\n    // functions\n\n    isEvaluable   : isEvaluable ,\n    isFormattable : isFormattable ,\n\n    // packages\n\n    data        : data ,\n    errors      : errors ,\n    evaluators  : evaluators ,\n    events      : events ,\n    formatters  : formatters ,\n    ioc         : ioc ,\n    logging     : logging ,\n    logics      : logics ,\n    models      : models ,\n    numeric     : numeric ,\n    process     : process ,\n    rules       : rules ,\n    signals     : signals,\n    transitions : transitions\n}) ;","\"use strict\" ;\n\n/**\n * Indicates if the specific objet is {@link graphics.Directionable} and contains the <code>direction</code> property.\n * @name isDirectionable\n * @function\n * @instance\n * @memberof graphics\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is {@link graphics.Directionable}.\n */\nexport function isDirectionable( target )\n{\n    if( target )\n    {\n        return (target instanceof Directionable) || ('direction' in target) ;\n    }\n    return false ;\n}\n\n/**\n * This interface defines a graphic object or component with a direction.\n * @summary This interface defines a graphic object or component with a direction.\n * @name Directionable\n * @memberof graphics\n * @interface\n */\nexport function Directionable()\n{\n    /**\n     * The direction of the object.\n     * @name direction\n     * @memberof graphics.Directionable\n     * @instance\n     * @default null\n     */\n    this.direction = null ;\n}\n\nDirectionable.prototype = Object.create( Object.prototype );\nDirectionable.prototype.constructor = Directionable;","/*jshint bitwise: false*/\r\n\"use strict\" ;\r\n\r\n/**\r\n * The {@link graphics.Align} enumeration provides constant values to align displays or components.\r\n * @summary The {@link graphics.Align} enumeration provides constant values to align displays or components.\r\n * @name Align\r\n * @namespace graphics.Align\r\n * @memberof graphics\r\n */\r\nexport var Align = Object.defineProperties( {} ,\r\n{\r\n    /**\r\n     * Defines the NONE value (0).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @default 0\r\n     */\r\n    NONE : { enumerable : true , value : 0 },\r\n\r\n    /**\r\n     * Defines the CENTER value (1).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @default 1\r\n     */\r\n    CENTER : { enumerable : true , value : 1 },\r\n\r\n    /**\r\n     * Defines the LEFT value (2).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default 2\r\n     */\r\n    LEFT : { enumerable : true , value : 2 },\r\n\r\n    /**\r\n     * Defines the RIGHT value (4).\r\n     * @type {number}\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default 4\r\n     */\r\n    RIGHT : { enumerable : true , value : 4 },\r\n\r\n    /**\r\n     * Defines the TOP value (8).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default 8\r\n     */\r\n    TOP : { enumerable : true , value : 8 },\r\n\r\n    /**\r\n     * Defines the BOTTOM value (16).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default 16\r\n     */\r\n    BOTTOM : { enumerable : true , value : 16 },\r\n\r\n    /**\r\n     * Defines the REVERSE value (32).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default 32\r\n     */\r\n    REVERSE : { enumerable : true , value : 32 },\r\n\r\n    /**\r\n     * Defines the BOTTOM_LEFT value (18).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default graphics.Align.BOTTOM | graphics.Align.LEFT\r\n     */\r\n    BOTTOM_LEFT : { enumerable : true , value : 16 | 2 } ,\r\n\r\n    /**\r\n     * Defines the BOTTOM_RIGHT value (20).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default graphics.Align.BOTTOM | graphics.Align.RIGHT\r\n     */\r\n    BOTTOM_RIGHT : { enumerable : true , value : 16 | 4 },\r\n\r\n    /**\r\n     * Defines the CENTER_LEFT value (3).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default 3\r\n     */\r\n    CENTER_LEFT : { enumerable : true , value : 3  },\r\n\r\n    /**\r\n     * Defines the CENTER_RIGHT value (5).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default 5\r\n     */\r\n    CENTER_RIGHT : { enumerable : true , value : 5  },\r\n\r\n    /**\r\n     * Defines the TOP_LEFT value (10).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default 10\r\n     */\r\n    TOP_LEFT : { enumerable : true , value : 10  },\r\n\r\n    /**\r\n     * Defines the TOP_RIGHT value (12).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default 12\r\n     */\r\n    TOP_RIGHT : { enumerable : true , value : 12 },\r\n\r\n    /**\r\n     * Defines the LEFT_BOTTOM value (50).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default 50\r\n     */\r\n    LEFT_BOTTOM : { enumerable : true , value : 50  },\r\n\r\n    /**\r\n     * Defines the RIGHT_BOTTOM value (52).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default 52\r\n     */\r\n    RIGHT_BOTTOM : { enumerable : true , value : 52  },\r\n\r\n    /**\r\n     * Defines the LEFT_TOP value (42).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default 42\r\n     */\r\n    LEFT_TOP : { enumerable : true , value : 8 | 2 | 32  },\r\n\r\n    /**\r\n     * Defines the RIGHT_TOP value (44).\r\n     * @memberof graphics.Align\r\n     * @type {number}\r\n     * @readonly\r\n     * @default 44\r\n     */\r\n    RIGHT_TOP : { enumerable : true , value : 8 | 4 | 32  },\r\n\r\n    /**\r\n     * Converts a string value in this Align value. If the String value isn't valid the Align.CENTER value is return.\r\n     * @memberof graphics.Align\r\n     * @function\r\n     * @example\r\n     * trace( Align.toNumber(\"l\") == Align.LEFT ) ; // true\r\n     */\r\n    toNumber : { value : function( str , none = 0 )\r\n    {\r\n        if ( str === null || !(str instanceof String || typeof(str) === 'string') )\r\n        {\r\n            return none ;\r\n        }\r\n        str = str.toLowerCase() ;\r\n        return (str in Align.stringToNumber) ? Align.stringToNumber[str] : none ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the string representation of the specified Align value passed in argument.\r\n     * @memberof graphics.Align\r\n     * @function\r\n     * @param {number} value - The valid numeric value to convert in a string expression.\r\n     * @return the string representation of the specified Align value passed in argument.\r\n     * @example\r\n     * trace( Align.toString(Align.LEFT)) ; // \"l\"\r\n     * trace( Align.toString(Align.TOP_LEFT)) ; // \"tl\"\r\n     * trace( Align.toString(Align.RIGHT_BOTTOM)) ; // \"rb\"\r\n     */\r\n    toString : { value : function( value )\r\n    {\r\n        switch (value)\r\n        {\r\n            case Align.NONE         : return \"none\" ;\r\n            case Align.BOTTOM       : return \"b\"  ;\r\n            case Align.BOTTOM_LEFT  : return \"bl\" ;\r\n            case Align.BOTTOM_RIGHT : return \"br\" ;\r\n            case Align.CENTER       : return \"c\"  ;\r\n            case Align.CENTER_LEFT  : return \"cl\" ;\r\n            case Align.CENTER_RIGHT : return \"cr\" ;\r\n            case Align.LEFT         : return \"l\"  ;\r\n            case Align.LEFT_BOTTOM  : return \"lb\" ;\r\n            case Align.LEFT_TOP     : return \"lt\" ;\r\n            case Align.RIGHT        : return \"r\"  ;\r\n            case Align.RIGHT_TOP    : return \"rt\" ;\r\n            case Align.RIGHT_BOTTOM : return \"rb\" ;\r\n            case Align.TOP          : return \"t\"  ;\r\n            case Align.TOP_LEFT     : return \"tl\" ;\r\n            case Align.TOP_RIGHT    : return \"tr\" ;\r\n            default                 : return \"\"   ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Returns <code>true</code> if the specified Align value in argument is a valid Align value else returns <code>false</code>.\r\n     * @memberof graphics.Align\r\n     * @function\r\n     * @example\r\n     * trace( Align.validate(Align.LEFT)) ; // true\r\n     * trace( Align.toString(1000)) ; // false\r\n     * @param {number} value - The numeric value to validate.\r\n     * @return <code>true</code> if the specified Align value in argument is a valid Align value else returns <code>false</code>.\r\n     */\r\n    validate : { value : function( value )\r\n    {\r\n        return Align.alignments.indexOf(value) > -1 ;\r\n    }}\r\n});\r\n\r\n/**\r\n * Defines the alignments collection of all valid aligment elements.\r\n * @memberof graphics.Align\r\n * @type {Array}\r\n * @readonly\r\n */\r\nObject.defineProperty( Align , 'alignments' , { value :\r\n[\r\n    Align.BOTTOM   , Align.BOTTOM_LEFT  , Align.BOTTOM_RIGHT ,\r\n    Align.CENTER   , Align.CENTER_LEFT  , Align.CENTER_RIGHT ,\r\n    Align.LEFT     , Align.LEFT_BOTTOM  , Align.LEFT_TOP     ,\r\n    Align.RIGHT    , Align.RIGHT_BOTTOM , Align.RIGHT_TOP    ,\r\n    Align.TOP      , Align.TOP_LEFT     , Align.TOP_RIGHT    ,\r\n    Align.NONE\r\n]});\r\n\r\n/**\r\n * Defines the key/value map to register all aligments by name (string).\r\n * @memberof graphics.Align\r\n * @type {Object}\r\n * @readonly\r\n */\r\nObject.defineProperty( Align , 'stringToNumber' , { value :\r\n{\r\n    \"b\"    : Align.BOTTOM ,\r\n    \"bl\"   : Align.BOTTOM_LEFT ,\r\n    \"br\"   : Align.BOTTOM_RIGHT ,\r\n    \"c\"    : Align.CENTER ,\r\n    \"cl\"   : Align.CENTER_LEFT ,\r\n    \"cr\"   : Align.CENTER_RIGHT ,\r\n    \"l\"    : Align.LEFT ,\r\n    \"lb\"   : Align.LEFT_BOTTOM ,\r\n    \"lt\"   : Align.LEFT_TOP ,\r\n    \"none\" : Align.NONE ,\r\n    \"r\"    : Align.RIGHT ,\r\n    \"rb\"   : Align.RIGHT_BOTTOM ,\r\n    \"rt\"   : Align.RIGHT_TOP ,\r\n    \"t\"    : Align.TOP ,\r\n    \"tl\"   : Align.TOP_LEFT ,\r\n    \"tr\"   : Align.TOP_RIGHT\r\n}}) ;\r\n","\"use strict\" ;\r\n\r\n/**\r\n * This {@link graphics.ArcType} enumeration of all types used to draw an Arc.\r\n * @summary This {@link graphics.ArcType} enumeration of all types used to draw an Arc.\r\n * @name ArcType\r\n * @namespace graphics.ArcType\r\n * @memberof graphics\r\n */\r\nexport var ArcType = Object.defineProperties( {} ,\r\n{\r\n    /**\r\n     * The 'chord' type.\r\n     * @memberof graphics.ArcType\r\n     * @static\r\n     * @type {string}\r\n     * @default 'chord'\r\n     */\r\n    CHORD : { enumerable : true , value : 'chord' } ,\r\n\r\n    /**\r\n     * The 'none' type.\r\n     * @memberof graphics.ArcType\r\n     * @static\r\n     * @type {string}\r\n     * @default 'none'\r\n     */\r\n    NONE : { enumerable : true , value : 'none' } ,\r\n\r\n    /**\r\n     * The 'pie' type.\r\n     * @memberof graphics.ArcType\r\n     * @static\r\n     * @type {string}\r\n     * @default 'pie'\r\n     */\r\n    PIE : { enumerable : true , value : 'pie' }\r\n}) ;","/*jshint bitwise: false*/\r\n\"use strict\" ;\r\n\r\n/**\r\n * Enables and disables the border on the specified sides. The border is specified as an integer bitwise combination of the constants: {@link graphics.Border.LEFT}, {@link graphics.Border.RIGHT}, {@link graphics.Border.TOP}, {@link graphics.Border.BOTTOM}.\r\n * @summary Enables and disables the border on the specified sides.\r\n * @name Border\r\n * @class\r\n * @memberof graphics\r\n * @param {number} [side=30] - The side setting value to define the border configuration. By default is {@link graphics.Border.ALL} (30).\r\n * @example\r\n * var Border = graphics.Border ;\r\n *\r\n * var border = new Border( Border.NO_BORDER ) ;\r\n *\r\n * trace( border ) ;\r\n * trace( border.hasBorders() ) ;\r\n *\r\n * border.enableBorderSide( Border.TOP ) ;\r\n * trace( border ) ;\r\n *\r\n * border.enableBorderSide( Border.BOTTOM ) ;\r\n * trace( border ) ;\r\n *\r\n * border.enableBorderSide( Border.LEFT ) ;\r\n * trace( border ) ;\r\n *\r\n * border.enableBorderSide( Border.RIGHT ) ;\r\n * trace( border ) ;\r\n */\r\nexport function Border( side = 30 )\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * The side value, an integer bitwise combination.\r\n         * @name value\r\n         * @memberof graphics.Border\r\n         * @instance\r\n         * @type number\r\n         */\r\n        value : { value : side , writable : true }\r\n    }) ;\r\n}\r\n\r\nObject.defineProperties( Border ,\r\n{\r\n    /**\r\n     * This represents the value to set all the sides of the Rectangle (<code>30</code>).\r\n     * @name ALL\r\n     * @memberof graphics.Border\r\n     */\r\n    ALL : { enumerable : true , value : 30 },\r\n\r\n    /**\r\n     * Defines the NONE value (<code>0</code>).\r\n     * @name NONE\r\n     * @memberof graphics.Border\r\n     */\r\n    NONE : { enumerable : true , value : 0 },\r\n\r\n    /**\r\n     * This represents the bottom side of the border of the Rectangle (<code>16</code>).\r\n     * @name BOTTOM\r\n     * @memberof graphics.Border\r\n     */\r\n    BOTTOM : { enumerable : true , value : 16 },\r\n\r\n    /**\r\n     * This represents the left side of the border of the Rectangle (<code>2</code>).\r\n     * @name LEFT\r\n     * @memberof graphics.Border\r\n     */\r\n    LEFT : { enumerable : true , value : 2 },\r\n\r\n    /**\r\n     * This represents a rectangle without borders (<code>0</code>).\r\n     * @name NO_BORDER\r\n     * @alias NONE\r\n     * @memberof graphics.Border\r\n     */\r\n    NO_BORDER : { enumerable : true , value : 0 },\r\n\r\n    /**\r\n     * This represents the right side of the border of the Rectangle (<code>4</code>).\r\n     * @name RIGHT\r\n     * @memberof graphics.Border\r\n     */\r\n    RIGHT : { enumerable : true , value : 4 },\r\n\r\n    /**\r\n     * This represents the top side of the border of the Rectangle (<code>8</code>).\r\n     * @name TOP\r\n     * @memberof graphics.Border\r\n     */\r\n    TOP : { enumerable : true , value : 8 }\r\n}) ;\r\n\r\nBorder.prototype = Object.create( Object.prototype ,\r\n{\r\n    /**\r\n     * Enables the border on the specified side.\r\n     * @param {number} side - The side to enable. One of {@link graphics.Border.LEFT}, {@link graphics.Border.RIGHT}, {@link graphics.Border.TOP}, {@link graphics.Border.BOTTOM}.\r\n     * @name enableBorderSide\r\n     * @memberof graphics.Border\r\n     * @instance\r\n     * @function\r\n     */\r\n    enableBorderSide : { value : function( side )\r\n    {\r\n        this.toggleBorder( side , true );\r\n    }},\r\n\r\n    /**\r\n     * Disables the border on the specified side.\r\n     * @param {number} side - The side to enable. One of {@link graphics.Border.LEFT}, {@link graphics.Border.RIGHT}, {@link graphics.Border.TOP}, {@link graphics.Border.BOTTOM}.\r\n     * @name disableBorderSide\r\n     * @memberof graphics.Border\r\n     * @instance\r\n     * @function\r\n     */\r\n    disableBorderSide : { value : function( side )\r\n    {\r\n        this.toggleBorder( side , false );\r\n    }},\r\n\r\n    /**\r\n     * Indicates whether the specified type of border is set.\r\n     * @name hasBorder\r\n     * @memberof graphics.Border\r\n     * @instance\r\n     * @function\r\n     * @param {number} type - The side to verify. One of {@link graphics.Border.LEFT}, {@link graphics.Border.RIGHT}, {@link graphics.Border.TOP}, {@link graphics.Border.BOTTOM}.\r\n     * @return <code>true</code> if the specified type of border is set.\r\n     */\r\n    hasBorder : { value : function( type )\r\n    {\r\n        return Boolean( type & this.value ) ;\r\n    }},\r\n\r\n    /**\r\n     * Indicates whether some type of border is set. One of {@link graphics.Border.LEFT}, {@link graphics.Border.RIGHT}, {@link graphics.Border.TOP}, {@link graphics.Border.BOTTOM}.\r\n     * @return <code>true</code> if some type of border is set.\r\n     * @name hasBorders\r\n     * @memberof graphics.Border\r\n     * @instance\r\n     * @function\r\n     */\r\n    hasBorders : { value : function()\r\n    {\r\n        return this.hasBorder(Border.TOP)    ||\r\n               this.hasBorder(Border.BOTTOM) ||\r\n               this.hasBorder(Border.LEFT)   ||\r\n               this.hasBorder(Border.RIGHT)  ;\r\n    }},\r\n\r\n    /**\r\n     * Toggle a side in this border object.\r\n     * @name toggleBorder\r\n     * @memberof graphics.Border\r\n     * @instance\r\n     * @function\r\n     * @param {number} side - The side to enable. One of {@link graphics.Border.LEFT}, {@link graphics.Border.RIGHT}, {@link graphics.Border.TOP}, {@link graphics.Border.BOTTOM}.\r\n     * @param {boolean} [side=false] - Indicates if the side element must be enabled or disabled.\r\n     * @return <code>true</code> if the function succeeded.\r\n     */\r\n    toggleBorder : { value : function( side , flag = false )\r\n    {\r\n        var old = this.value ;\r\n        this.value = flag ? ( this.value | side ) : ( this.value & ~side ) ;\r\n        return old !== this.value ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the String representation of the object.\r\n     * @return the String representation of the object.\r\n     * @name toString\r\n     * @memberof graphics.Border\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { value : function()\r\n    {\r\n        return \"[Border \" + this.value + \"]\" ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the value of the object.\r\n     * @name valueOf\r\n     * @memberof graphics.Border\r\n     * @instance\r\n     * @function\r\n     * @return the value of the object.\r\n     */\r\n    valueOf : { value : function()\r\n    {\r\n        return this.value ;\r\n    }}\r\n})\r\n","\"use strict\" ;\r\n\r\n/**\r\n * The four cardinal directions or cardinal points are the directions of north, south, east, and west, commonly denoted by their initials: N, S, E, W.\r\n * They are mostly used for geographic orientation on Earth but may be calculated anywhere on a rotating astronomical body.\r\n * @summary The enumeration of the four cardinal directions or cardinal points are the directions of north, south, east, and west, commonly denoted by their initials: N, S, E, W.\r\n * @name CardinalDirection\r\n * @memberof graphics\r\n * @extends Object\r\n * @class\r\n * @param {number} [value=0] - The numeric value who define the direction.\r\n * @param {string} [name] - The name of the direction.\r\n * @param {number} [azimut=0] - The azimut angle.\r\n */\r\nexport function CardinalDirection( value = 0 , name = \"\" , azimut = 0 )\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * @private\r\n         */\r\n        _value  : { value : value  , writable : true } ,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _name   : { value : name   , writable : true } ,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _azimut : { value : azimut , writable : true }\r\n    }) ;\r\n}\r\n\r\nCardinalDirection.prototype = Object.create( Object.prototype ,\r\n{\r\n    /**\r\n     * Indicates the angular measurement in a spherical coordinate system (in degrees).\r\n     * @memberof graphics.CardinalDirection\r\n     * @type {number}\r\n     * @instance\r\n     */\r\n    azimut : { value : function()\r\n    {\r\n        return this._azimut ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the String representation of the object.\r\n     * @memberof graphics.CardinalDirection\r\n     * @return {string} The String representation of the object.\r\n     * @instance\r\n     */\r\n    toString : { value : function()\r\n    {\r\n        return this._name ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the value of the object.\r\n     * @return the value of the object.\r\n     * @instance\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    valueOf : { value : function()\r\n    {\r\n        return this._value ;\r\n    }}\r\n});\r\n\r\nObject.defineProperties( CardinalDirection ,\r\n{\r\n    /**\r\n     * This represents the value to set all the sides of the Rectangle (30).\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    E : { enumerable : true , value : new CardinalDirection( Math.PI / 2 , \"E\" , 90 ) },\r\n\r\n    /**\r\n     * The East-North-East cardinal point \"ENE\" : Azimut:67.5 Radians:3/8\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    ENE : { enumerable : true , value : new CardinalDirection( 3 * Math.PI / 8 , \"ENE\" , 67.5 ) },\r\n\r\n    /**\r\n     * The East-South-East cardinal point \"ESE\" : Azimut:112,5 Radians:5/8\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    ESE : { enumerable : true , value : new CardinalDirection( 5 * Math.PI / 8 , \"ESE\" , 112.5 ) },\r\n\r\n    /**\r\n     * The North cardinal point \"N\" : Azimut:0 Radians:0\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    N : { enumerable : true , value : new CardinalDirection( 0 , \"N\" , 0) },\r\n\r\n    /**\r\n     * The North-East cardinal point \"NE\" : Azimut:45 Radians:/4\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    NE : { enumerable : true , value : new CardinalDirection( Math.PI / 4 , \"NE\" , 45 ) },\r\n\r\n    /**\r\n     * The North-North-East cardinal point \"NNE\" : Azimut:22.5 Radians:/8\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    NNE : { enumerable : true , value : new CardinalDirection( Math.PI / 8 , \"NNE\" , 22.5 ) },\r\n\r\n    /**\r\n     * The North-North-West cardinal point \"NNW\" : Azimut:337.5 Radians:15/8\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    NNW : { enumerable : true , value : new CardinalDirection( 15 * Math.PI / 8 , \"NNW\" , 337.5 ) },\r\n\r\n    /**\r\n     * The North-West cardinal point \"NW\" : Azimut:315 Radians:7/4\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    NW : { enumerable : true , value : new CardinalDirection( 7 * Math.PI / 4 , \"NW\" , 315 ) },\r\n\r\n    /**\r\n     * The South cardinal point \"S\" : Azimut:180 Radians:\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    S : { enumerable : true , value : new CardinalDirection( Math.PI , \"S\" , 180 ) },\r\n\r\n    /**\r\n     * The South-East cardinal point \"SE\" : Azimut:135 Radians:3/4\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    SE : { enumerable : true , value : new CardinalDirection( 3 * Math.PI / 4 , \"SE\" , 135 ) },\r\n\r\n    /**\r\n     * The South-South-East cardinal point \"SSE\" : Azimut:157.5 Radians:7/8\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    SSE : { enumerable : true , value : new CardinalDirection( 7 * Math.PI / 8 , \"SSE\" , 157.5 ) },\r\n\r\n    /**\r\n     * The South-South-West cardinal point \"SSW\" : Azimut:202.5 Radians:9/8\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    SSW : { enumerable : true , value : new CardinalDirection( 9 * Math.PI / 8 , \"SSW\" , 202.5 ) },\r\n\r\n    /**\r\n     * The South-West cardinal point \"SW\" : Azimut:225 Radians:5/4\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    SW : { enumerable : true , value : new CardinalDirection( 5 * Math.PI / 4 , \"SW\" , 225 ) },\r\n\r\n    /**\r\n     * The West cardinal point \"W\" : Azimut:270 Radians:3/2\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    W : { enumerable : true , value : new CardinalDirection( 3 * Math.PI / 2 , \"W\" , 270 ) },\r\n\r\n    /**\r\n     * The West-North-West cardinal point \"WNW\" : Azimut:292.5 Radians:13/8\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    WNW : { enumerable : true , value : new CardinalDirection( 13 * Math.PI / 8 , \"WNW\" , 292.5 ) },\r\n\r\n    /**\r\n     * The West-South-West cardinal point \"WSW\" : Azimut:247.5 Radians:11/8\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    WSW : { enumerable : true , value : new CardinalDirection( 11 * Math.PI / 8 , \"WSW\" , 247.5 ) }\r\n}) ;\r\n\r\n\r\nObject.defineProperties( CardinalDirection ,\r\n{\r\n    /**\r\n     * The set of all diagonal directions (northeast, southeast, southwest, northwest).\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    ALL : { enumerable : true , value :\r\n    [\r\n        CardinalDirection.N,\r\n        CardinalDirection.E,\r\n        CardinalDirection.S,\r\n        CardinalDirection.W,\r\n        CardinalDirection.NE,\r\n        CardinalDirection.SE,\r\n        CardinalDirection.NW,\r\n        CardinalDirection.SW,\r\n        CardinalDirection.NNE,\r\n        CardinalDirection.NNW,\r\n        CardinalDirection.SSE,\r\n        CardinalDirection.SSW,\r\n        CardinalDirection.ENE,\r\n        CardinalDirection.ESE,\r\n        CardinalDirection.WNW,\r\n        CardinalDirection.WSW\r\n    ]},\r\n\r\n    /**\r\n     * The set of all diagonal directions (northeast, southeast, southwest, northwest).\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    DIAGONALS : { value :\r\n    [\r\n        CardinalDirection.NE,\r\n        CardinalDirection.SE,\r\n        CardinalDirection.NW,\r\n        CardinalDirection.SW\r\n    ]} ,\r\n\r\n    /**\r\n     * The set of all orthogonals directions (north, south, south, north).\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    ORTHOGONALS : { value :\r\n    [\r\n        CardinalDirection.N,\r\n        CardinalDirection.E,\r\n        CardinalDirection.S,\r\n        CardinalDirection.W\r\n    ]},\r\n\r\n    /**\r\n     * Returns true if this is a diagonal direction (northeast, southeast, southwest, northwest).\r\n     * @param {graphics.CardinalDirection} direction - The direction to check.\r\n     * @return true if this is a diagonal direction.\r\n     * @function\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    isDiagonal : { value : function( direction )\r\n    {\r\n        return CardinalDirection.DIAGONALS.indexOf( direction ) > -1 ;\r\n    }},\r\n\r\n    /**\r\n     * Returns true if this is an orthogonal direction (north, east, south, west).\r\n     * @param {graphics.CardinalDirection} direction - The direction to check.\r\n     * @return true if this is an orthogonal direction.\r\n     * @function\r\n     * @memberof graphics.CardinalDirection\r\n     */\r\n    isOrthogonal : { value : function( direction )\r\n    {\r\n        return CardinalDirection.ORTHOGONALS.indexOf( direction ) > -1 ;\r\n    }}\r\n});\r\n","\"use strict\" ;\r\n\r\n/**\r\n * Determinates the corner settings to set a rectangular shape or a component, like rectangles, rounded rectangle, etc.\r\n * @summary Determinates the corner settings to set a rectangular shape or a component.\r\n * @name Corner\r\n * @class\r\n * @memberof graphics\r\n * @example\r\n * var corner = new Corner(true,true,false,false) ;\r\n * trace( corner ) ;\r\n */\r\nexport function Corner( tl = true , tr = true , br = true , bl = true )\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * The bottom left flag value.\r\n         * @name bl\r\n         * @memberof graphics.Corner\r\n         * @instance\r\n         * @type boolean\r\n         * @default true\r\n         */\r\n        bl : { value : bl === true , writable : true , enumerable : true } ,\r\n\r\n        /**\r\n         * The bottom right flag value.\r\n         * @name br\r\n         * @memberof graphics.Corner\r\n         * @instance\r\n         * @type boolean\r\n         * @default true\r\n         */\r\n        br : { value : br === true , writable : true , enumerable : true } ,\r\n\r\n        /**\r\n         * The top left flag value.\r\n         * @name tl\r\n         * @memberof graphics.Corner\r\n         * @instance\r\n         * @type boolean\r\n         * @default true\r\n         */\r\n        tl : { value : tl === true , writable : true , enumerable : true } ,\r\n\r\n        /**\r\n         * The top right flag value.\r\n         * @name tr\r\n         * @memberof graphics.Corner\r\n         * @instance\r\n         * @type boolean\r\n         * @default true\r\n         */\r\n        tr : { value : tr === true , writable : true , enumerable : true }\r\n    }) ;\r\n}\r\n\r\nCorner.prototype = Object.create( Object.prototype ,\r\n{\r\n    /**\r\n     * Creates and returns a shallow copy of the object.\r\n     * @return A new object that is a shallow copy of this instance.\r\n     * @name clone\r\n     * @memberof graphics.Corner\r\n     * @instance\r\n     * @function\r\n     */\r\n    clone : { value : function()\r\n    {\r\n        return new Corner( this.tl , this.tr , this.br , this.bl ) ;\r\n    }},\r\n\r\n    /**\r\n     * Compares the specified object with this object for equality.\r\n     * @param {object} o - The object to evaluates.\r\n     * @return <code>true</code> if the the specified object is equal with this object.\r\n     * @name equals\r\n     * @memberof graphics.Corner\r\n     * @instance\r\n     * @function\r\n     */\r\n    equals : { value : function( o )\r\n    {\r\n        if ( o === this )\r\n        {\r\n            return true ;\r\n        }\r\n        else if ( o instanceof Corner )\r\n        {\r\n            return this.tl === o.tl && o.tr === this.tr && o.bl === this.bl && o.br === this.br ;\r\n        }\r\n        else\r\n        {\r\n            return false ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Returns the String representation of the object.\r\n     * @return the String representation of the object.\r\n     * @name toString\r\n     * @memberof graphics.Corner\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { value : function()\r\n    {\r\n        return \"[Corner tl:\" + this.tl + \" tr:\" + this.tr + \" br:\" + this.br  + \" bl:\" + this.bl + \"]\" ;\r\n    }}\r\n})\r\n","\"use strict\" ;\r\n\r\n/**\r\n * The {@link graphics.Direction} enumeration defines most common relative directions : <code>horizontal</code>, <code>vertical</code>, <code>both</code>, <code>left</code>, <code>right</code>, <code>forward</code>, <code>backward</code>, <code>none</code>, <code>up</code>, and <code>down</code>.\r\n * @summary The {@link graphics.Direction} enumeration defines most common relative directions.\r\n * @name Direction\r\n * @namespace graphics.Direction\r\n * @memberof graphics\r\n */\r\nexport var Direction = Object.defineProperties( {} ,\r\n{\r\n    /**\r\n     * Specifies the \"backward\" value to change the orientation of a Display or a component.\r\n     * @memberof graphics.Direction\r\n     * @type {string}\r\n     * @default backward\r\n     */\r\n    BACKWARD : { enumerable : true , value : 'backward' } ,\r\n\r\n    /**\r\n     * Specifies the \"both\" value to represent both horizontal and vertical scrolling.\r\n     * @memberof graphics.Direction\r\n     * @type {string}\r\n     * @default both\r\n     */\r\n    BOTH : { enumerable : true , value : 'both' } ,\r\n\r\n    /**\r\n     * Specifies the \"down\" value to change the orientation of a Display or a component.\r\n     * @memberof graphics.Direction\r\n     * @type {string}\r\n     * @default down\r\n     */\r\n    DOWN : { enumerable : true , value : 'down' } ,\r\n\r\n    /**\r\n     * Specifies the \"forward\" value to change the direction or scrolling of a Display or a component.\r\n     * @memberof graphics.Direction\r\n     * @type {string}\r\n     * @default forward\r\n     */\r\n    FORWARD : { enumerable : true , value : 'forward' } ,\r\n\r\n    /**\r\n      * Specifies the \"horizontal\" value to change the orientation of a Display or a component.\r\n     * @memberof graphics.Direction\r\n     * @type {string}\r\n     * @default horizontal\r\n      */\r\n    HORIZONTAL : { enumerable : true , value : 'horizontal' } ,\r\n\r\n    /**\r\n     * Specifies the \"left\" value to change the orientation of a Display or a component.\r\n     * @memberof graphics.Direction\r\n     * @type {string}\r\n     * @default left\r\n     */\r\n    LEFT : { enumerable : true , value : 'left' } ,\r\n\r\n    /**\r\n     * Specifies the \"none\" value to represent no scrolling or an object without direction.\r\n     * @memberof graphics.Direction\r\n     * @type {string}\r\n     * @default none\r\n     */\r\n    NONE : { enumerable : true , value : 'none' } ,\r\n\r\n    /**\r\n     * Specifies the \"right\" value to change the orientation of a Display or a component.\r\n     * @memberof graphics.Direction\r\n     * @type {string}\r\n     * @default right\r\n     */\r\n    RIGHT : { enumerable : true , value : 'right' } ,\r\n\r\n    /**\r\n     * Specifies the \"up\" value to change the orientation of a Display or a component.\r\n     * @memberof graphics.Direction\r\n     * @type {string}\r\n     * @default up\r\n     */\r\n    UP : { enumerable : true , value : 'up' } ,\r\n\r\n    /**\r\n     * Specifies the \"vertical\" value to change the orientation of a Display or a component.\r\n     * @memberof graphics.Direction\r\n     * @type {string}\r\n     * @default vertical\r\n     */\r\n    VERTICAL : { enumerable : true , value : 'vertical' }\r\n}) ;\r\n","\"use strict\" ;\r\n\r\n/**\r\n * Defines the order to display all children in a specific horizontal or vertical container.\r\n * Children within a horizontally oriented box are, by default, displayed from left to right in the same order as they appear in the source document.\r\n * Children within a vertically oriented box are displayed top to bottom in the same order.\r\n * @summary Defines the order to display all children in a specific horizontal or vertical container.\r\n * @name DirectionOrder\r\n * @namespace graphics.DirectionOrder\r\n * @memberof graphics\r\n */\r\nexport var DirectionOrder = Object.defineProperties( {} ,\r\n{\r\n    /**\r\n     * Specifies the <code>\"normal\"</code> direction order.\r\n     * <p>The horizontal containers displays its children from left to right and the vertical containers displays its children from top to bottom.</p>\r\n     * @memberof graphics.DirectionOrder\r\n     * @type {string}\r\n     * @default normal\r\n     */\r\n    NORMAL : { enumerable : true , value : 'normal' } ,\r\n\r\n    /**\r\n     * Specifies the <code>\"reverse\"</code> direction order.\r\n     * <p>The horizontal containers displays its children from right to left and the vertical containers displays its children from bottom to top.</p>\r\n     * @memberof graphics.DirectionOrder\r\n     * @type {string}\r\n     * @default reverse\r\n     */\r\n    REVERSE : { enumerable : true , value : 'reverse' }\r\n}) ;\r\n","\"use strict\" ;\n\nimport { clamp } from '../core/maths/clamp.js' ;\n\n/**\n * Defines the fill style of the vector shapes.\n * @summary The fill style of the vector shapes.\n * @name FillStyle\n * @memberof graphics\n * @class\n * @param {number} [color=0] - An hexadecimal color value of the fill.\n * @param {number} [alpha=1] - A number that indicates the alpha value of the color of the fill; valid values are 0 to 1.\n */\nexport function FillStyle( color = 0 , alpha = 1 )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * @private\n         */\n        _alpha : { writable : true , value : clamp(isNaN(alpha)?0:alpha,0,1) } ,\n        _color : { writable : true , value : clamp(isNaN(color)?0:color,0,0xFFFFFF) }\n    });\n}\n\nFillStyle.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : FillStyle } ,\n\n    /**\n     * A number that indicates the alpha value of the color of the fill; valid values are 0 to 1.\n     * If a value is not indicated, the default is 1 (solid). If the value is less than 0, the default is 0. If the value is greater than 1, the default is 1.\n     * @name alpha\n     * @memberof graphics.FillStyle\n     * @default 1\n     * @type {number}\n     * @instance\n     */\n    alpha :\n    {\n        get : function() { return this._alpha ; },\n        set : function( value ) { this._alpha = clamp(isNaN(value)?0:value,0,1) ; }\n    },\n\n    /**\n     * An hexadecimal color value of the fill; for example, red is 0xFF0000, blue is 0x0000FF, and so on.\n     * If a value is not indicated, the default is 0x000000 (black).\n     * @name alpha\n     * @memberof graphics.FillStyle\n     * @default 0x000000\n     * @type {number}\n     * @instance\n     */\n    color :\n    {\n        get : function() { return this._color ; },\n        set : function( value ) { this._color = clamp(isNaN(value)?0:value,0,0xFFFFFF) ; }\n    },\n\n    /**\n     * Returns a shallow copy of the object.\n     * @return a shallow copy of the object.\n     * @name clone\n     * @memberof graphics.FillStyle\n     * @instance\n     * @function\n     */\n    clone : { writable : true , value : function()\n    {\n        return new FillStyle( this._color, this._alpha ) ;\n    }},\n\n    /**\n     * Copies all of vector data from the source Vector2D object into the calling Vector2D object.\n     * @param {graphics.geom.Vector2D} source - The Vector2D object from which to copy the data.\n     * @return The current {@link graphics.geom.Vector2D} reference.\n     * @name copyFrom\n     * @memberof graphics.geom.Vector2D\n     * @instance\n     * @function\n     */\n    copyFrom : { writable : true , value : function( source )\n    {\n        if( !(source instanceof FillStyle) )\n        {\n            throw TypeError( this + ' copyFrom failed, the passed-in source argument must be an FillStyle object.' ) ;\n        }\n        this._color = source._color ;\n        this._alpha = source._alpha ;\n        return this ;\n    }},\n\n    /**\n     * Compares the passed-in object with this object for equality.\n     * @return {boolean} <code>true</code> if the the specified object is equal with this object.\n     * @name equals\n     * @memberof graphics.FillStyle\n     * @instance\n     * @function\n     */\n    equals : { writable : true , value : function( o )\n    {\n        if ( o instanceof FillStyle )\n        {\n            return o._color === this._color && o._alpha === this._alpha ;\n        }\n        else\n        {\n            return false ;\n        }\n    }},\n\n    /**\n     * Sets the horizontal and vertical coordinates of this object. If the <code>x</code> and the <code>y</code> parameters are <code>NaN</code> or <code>null</code> the <b>x</b> and <b>y</b> value are <code>0</code>.\n     * @name setTo\n     * @instance\n     * @function\n     * @memberof graphics.FillStyle\n     * @param {number} [color=0] - An hexadecimal color value of the line\n     * @param {number} [alpha=1] - A number that indicates the alpha value of the color of the line; valid values are 0 to 1.\n     */\n    setTo : { writable : true , value : function( color = 0 , alpha = 1 )\n    {\n        this.alpha = alpha ;\n        this.color = color ;\n    }},\n\n    /**\n     * Returns the Object representation of this object.\n     * @return the Object representation of this object.\n     * @name toObject\n     * @memberof graphics.FillStyle\n     * @instance\n     * @function\n     */\n    toObject : { writable : true , value : function()\n    {\n        return { alpha:this._alpha , color:this._color } ;\n    }},\n\n    /**\n     * Returns the string representation of this instance.\n     * @return {string} The string representation of this instance.\n     * @memberof graphics.FillStyle\n     * @name toString\n     * @instance\n     * @function\n     */\n    toString : { writable : true , value : function()\n    {\n        return \"[FillStyle color:\" + this._color + \" alpha:\" + this._alpha + \"]\" ;\n    }}\n});\n\nObject.defineProperties( FillStyle ,\n{\n    /**\n     * The empty FillStyle singleton.\n     * @name EMPTY\n     * @memberof graphics.FillStyle\n     * @static\n     * @type {graphics.FillStyle}\n     */\n    EMPTY : { value : new FillStyle(0,0) }\n});","/*jshint unused: false*/\n\"use strict\" ;\n\nimport { isNumber }  from '../core/isNumber.js' ;\n\n/**\n * Indicates if the specific objet is a Measurable object.\n * @function\n * @memberof graphics\n * @param {object} target - The object to evaluate.\n * @return <code>true</code> if the object is a Measurable object.\n */\nexport function isMeasurable( target )\n{\n    if( target )\n    {\n        return (( 'h' in target ) && isNumber(target.h) ) &&\n               (( 'w' in target ) && isNumber(target.w) ) &&\n               (( 'maxHeight' in target ) && isNumber(target.maxHeight) ) &&\n               (( 'maxWidth' in target ) && isNumber(target.maxWidth) ) &&\n               (( 'minHeight' in target ) && isNumber(target.minHeight) ) &&\n               (( 'minWidth' in target ) && isNumber(target.minWidth) ) &&\n               (( 'setPreferredSize' in target ) && (target.setPreferredSize instanceof Function)) &&\n               (( 'setSize' in target ) && (target.setSize instanceof Function));\n    }\n    return false ;\n}","\"use strict\" ;\r\n\r\n/**\r\n * The enumeration of the {@link graphics.Layout} buffering modes.\r\n * @summary The enumeration of the {@link graphics.Layout} buffering modes.\r\n * @name LayoutBufferMode\r\n * @namespace graphics.LayoutBufferMode\r\n * @memberof graphics\r\n */\r\nexport var LayoutBufferMode = Object.defineProperties( {} ,\r\n{\r\n    /**\r\n     * The <code>\"auto\"</code> buffering mode is used when the layout initialize this internal buffer with all childs registered in the container of the layout.\r\n     * @memberof graphics.LayoutBufferMode\r\n     * @type {string}\r\n     * @default auto\r\n     */\r\n    AUTO : { enumerable : true , value : 'auto' } ,\r\n\r\n    /**\r\n     * The <code>\"normal\"</code> buffering mode use the natural internal buffer of the layout, the user must fill the layout manually.\r\n     * @memberof graphics.LayoutBufferMode\r\n     * @type {string}\r\n     * @default normal\r\n     */\r\n    NORMAL : { enumerable : true , value : 'normal' }\r\n}) ;\r\n","\"use strict\" ;\r\n\r\n/**\r\n * The Dimension object encapsulates the width and height components of an object.\r\n * @summary The Dimension object encapsulates the width and height components of an object.\r\n * @name Dimension\r\n * @memberof graphics.geom\r\n * @class\r\n * @constructs\r\n * @extends Object\r\n * @param {number} [width=0] the width value.\r\n * @param {number} [height=0] The height value.\r\n */\r\nexport function Dimension( width = 0 , height = 0 )\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * The height of the rectangle, in pixels.\r\n         * @memberof graphics.geom.Dimension\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        height : { value : isNaN(height) ? 0 : height , writable : true } ,\r\n\r\n        /**\r\n         * The width of the rectangle, in pixels.\r\n         * @memberof graphics.geom.Dimension\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        width : { value : isNaN(width) ? 0 : width  , writable : true }\r\n    });\r\n}\r\n\r\nDimension.prototype = Object.create( Object.prototype ,\r\n{\r\n    constructor : { writable : true , value : Dimension },\r\n\r\n    /**\r\n     * Returns a shallow copy of the object.\r\n     * @return a shallow copy of the object.\r\n     * @memberof graphics.geom.Dimension\r\n     * @instance\r\n     * @function\r\n     */\r\n    clone : { writable : true , value : function()\r\n    {\r\n        return new Dimension( this.width , this.height ) ;\r\n    }},\r\n\r\n    /**\r\n     * Copies all of data from the source Dimension object into the calling Dimension object.\r\n     * @memberof graphics.geom.Dimension\r\n     * @instance\r\n     * @function\r\n     */\r\n    copyFrom : { value : function( source )\r\n    {\r\n        this.width  = source.width ;\r\n        this.height = source.height ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Decreases the size by a specific width/height values and return its self(this).\r\n     * @param {number} [dWidth=0] - A number value to descrease the width component of the object (default 0).\r\n     * @param {number} [dHeight=0] - A number value to descrease the height component of the object (default 0).\r\n     * @memberof graphics.geom.Dimension\r\n     * @instance\r\n     * @function\r\n     */\r\n    decrease : { value : function( dWidth = 0 , dHeight = 0 )\r\n    {\r\n        this.width  -= isNaN(dWidth) ? 0 : dWidth ;\r\n        this.height -= isNaN(dHeight) ? 0 : dHeight ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Compares the passed-in object with this object for equality.\r\n     * @return <code>true</code> if the the specified object is equal with this object.\r\n     * @memberof graphics.geom.Dimension\r\n     * @instance\r\n     * @function\r\n     */\r\n    equals : { writable : true , value : function( o )\r\n    {\r\n        if ( o instanceof Dimension )\r\n        {\r\n            return o.width === this.width && o.height=== this.height ;\r\n        }\r\n        else\r\n        {\r\n            return false ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Increases the size by a specific width/height values and return its self(this).\r\n     * @param {number} [dWidth=0] - A number value to increase the width component of the object (default 0).\r\n     * @param {number} [dHeight=0] - A number value to inscrease the height component of the object (default 0).\r\n     * @return the current reference of this object.\r\n     * @memberof graphics.geom.Dimension\r\n     * @instance\r\n     * @function\r\n     */\r\n    increase : { value : function( dWidth = 0 , dHeight = 0 )\r\n    {\r\n        this.width  += isNaN(dWidth) ? 0 : dWidth ;\r\n        this.height += isNaN(dHeight) ? 0 : dHeight ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Determines whether or not this Rectangle object is empty.\r\n     * @return {boolean} A value of true if the Rectangle object's width or height is less than or equal to 0; otherwise false.\r\n     * @memberof graphics.geom.Dimension\r\n     * @instance\r\n     * @function\r\n     */\r\n    isEmpty : { writable : true , value : function()\r\n    {\r\n        return this.width <= 0 || this.height <= 0;\r\n    }},\r\n\r\n    /**\r\n     * Sets the members of Dimension to the specified values.\r\n     * @param {number} width - The width component value to change (default 0).\r\n     * @param {number} height - The height component value to change (default 0).\r\n     * @return {graphics.geom.Dimension} The object reference.\r\n     * @memberof graphics.geom.Dimension\r\n     * @instance\r\n     * @function\r\n     */\r\n    setTo : { writable : true , value : function( width = 0 , height = 0 )\r\n    {\r\n        this.width = width ;\r\n        this.height = height ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the Object representation of this object.\r\n     * @return the Object representation of this object.\r\n     * @memberof graphics.geom.Dimension\r\n     * @instance\r\n     * @function\r\n     */\r\n    toObject : { writable : true , value : function()\r\n    {\r\n        return { width:this.width , height:this.height } ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the string representation of this object.\r\n     * @return the string representation of this object.\r\n     * @memberof graphics.geom.Dimension\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { writable : true , value : function()\r\n    {\r\n        return \"[Dimension width:\" + this.width + \" height:\" + this.height + \"]\" ;\r\n    }}\r\n});","\"use strict\" ;\r\n\r\n/**\r\n * The Vector2D class represents a simple location in a two-dimensional coordinate system, where x represents the horizontal axis and y represents the vertical axis.\r\n * @summary A simple location in a two-dimensional coordinate system, where x represents the horizontal axis and y represents the vertical axis.\r\n * @name Vector2D\r\n * @memberof graphics.geom\r\n * @class\r\n * @param {number} x - The x value of the object.\r\n * @param {number} y - The y value of the object.\r\n * @see graphics.geom.Point\r\n */\r\nexport function Vector2D( x = 0 , y = 0 )\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * The horizontal coordinate of the point.\r\n         * @name x\r\n         * @memberof graphics.geom.Vector2D\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        x : { value : isNaN(x) ? 0 : x , writable : true } ,\r\n\r\n        /**\r\n         * The vertical coordinate of the point.\r\n         * @name y\r\n         * @memberof graphics.geom.Vector2D\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        y : { value : isNaN(y) ? 0 : y , writable : true }\r\n    });\r\n}\r\n\r\nVector2D.prototype = Object.create( Object.prototype ,\r\n{\r\n    constructor : { writable : true , value : Vector2D },\r\n\r\n    /**\r\n     * Returns a shallow copy of the object.\r\n     * @return a shallow copy of the object.\r\n     * @name clone\r\n     * @memberof graphics.geom.Vector2D\r\n     * @instance\r\n     * @function\r\n     */\r\n    clone : { writable : true , value : function()\r\n    {\r\n        return new Vector2D( this.x , this.y ) ;\r\n    }},\r\n\r\n    /**\r\n     * Copies all of vector data from the source Vector2D object into the calling Vector2D object.\r\n     * @param {graphics.geom.Vector2D} source - The Vector2D object from which to copy the data.\r\n     * @return The current {@link graphics.geom.Vector2D} reference.\r\n     * @name copyFrom\r\n     * @memberof graphics.geom.Vector2D\r\n     * @instance\r\n     * @function\r\n     */\r\n    copyFrom : { writable : true , value : function( source )\r\n    {\r\n        if( !(source instanceof Vector2D) )\r\n        {\r\n            throw TypeError( this + ' copyFrom failed, the passed-in source argument must be an Vector2D object.' ) ;\r\n        }\r\n        this.x = source.x ;\r\n        this.y = source.y ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Compares the passed-in object with this object for equality.\r\n     * @return {boolean} <code>true</code> if the the specified object is equal with this object.\r\n     * @name equals\r\n     * @memberof graphics.geom.Vector2D\r\n     * @instance\r\n     * @function\r\n     */\r\n    equals : { writable : true , value : function( o )\r\n    {\r\n        if ( o instanceof Vector2D )\r\n        {\r\n            return o.x === this.x && o.y === this.y ;\r\n        }\r\n        else\r\n        {\r\n            return false ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Sets the horizontal and vertical coordinates of this object. If the <code>x</code> and the <code>y</code> parameters are <code>NaN</code> or <code>null</code> the <b>x</b> and <b>y</b> value are <code>0</code>.\r\n     * @param {number} [x=0] - The horizontal coordinate of the point.\r\n     * @param {number} [y=0] - The vertical coordinate of the point.\r\n     * @name setTo\r\n     * @instance\r\n     * @function\r\n     * @memberof graphics.geom.Vector2D\r\n     */\r\n    setTo : { writable : true , value : function( x = 0 , y = 0 )\r\n    {\r\n        this.x = isNaN(x) ? 0 : x ;\r\n        this.y = isNaN(y) ? 0 : y ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the Object representation of this object.\r\n     * @return the Object representation of this object.\r\n     * @name toObject\r\n     * @memberof graphics.geom.Vector2D\r\n     * @instance\r\n     * @function\r\n     */\r\n    toObject : { writable : true , value : function()\r\n    {\r\n        return { x:this.x , y:this.y } ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the string representation of this instance.\r\n     * @return {string} The string representation of this instance.\r\n     * @memberof graphics.geom.Vector2D\r\n     * @name toString\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { writable : true , value : function()\r\n    {\r\n        return \"[Vector2D x:\" + this.x + \" y:\" + this.y + \"]\" ;\r\n    }}\r\n});","\"use strict\" ;\r\n\r\nimport { acosD  } from '../../core/maths/acosD.js' ;\r\nimport { atan2D } from '../../core/maths/atan2D.js' ;\r\nimport { cosD } from '../../core/maths/cosD.js' ;\r\nimport { sinD } from '../../core/maths/sinD.js' ;\r\n\r\nimport { Vector2D } from './Vector2D.js' ;\r\n\r\n/**\r\n * The Point class represents a location in a two-dimensional coordinate system, where x represents the horizontal axis and y represents the vertical axis.\r\n * @summary The Point class represents a location in a two-dimensional coordinate system, where x represents the horizontal axis and y represents the vertical axis.\r\n * @name Point\r\n * @memberof graphics.geom\r\n * @extends graphics.geom.Vector2D\r\n * @class\r\n * @param {number} [x=0] - The horizontal coordinate of the point.\r\n * @param {number} [y=0] - The vertical coordinate of the point.\r\n */\r\nexport function Point( x = 0 , y = 0 )\r\n{\r\n    Vector2D.call( this , x , y ) ;\r\n}\r\n\r\nPoint.prototype = Object.create( Vector2D.prototype ,\r\n{\r\n    constructor : { writable : true , value : Point },\r\n\r\n    /**\r\n     * The angle value of this Point object.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @example\r\n     * var p1 = new Point(0,10) ;\r\n     * var p2 = new Point(10,10) ;\r\n     * trace(p1.angle) ; // 90\r\n     * trace(p2.angle) ; // 45\r\n     */\r\n    angle :\r\n    {\r\n        get : function()\r\n        {\r\n            return atan2D(this.y, this.x) ;\r\n        },\r\n        set : function( value )\r\n        {\r\n            let len = Math.sqrt(this.x * this.x + this.y * this.y) ; // length\r\n            this.x = len * cosD(value) ;\r\n            this.y = len * sinD(value) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Indicates the length of the line segment from (0,0) to this point.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @readonly\r\n     */\r\n    length :\r\n    {\r\n        get : function()\r\n        {\r\n            return Math.sqrt(this.x * this.x + this.y * this.y) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Transform the coordinates of this point to used absolute value for the x and y properties.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @example\r\n     * var p = new Point(-10, -20) ;\r\n     * p.abs() ;\r\n     * trace(p) ; // [Point x:10 y:20]\r\n     */\r\n    abs : { writable : true , value : function()\r\n    {\r\n        this.x = Math.abs(this.x) ;\r\n        this.y = Math.abs(this.y) ;\r\n    }},\r\n\r\n    /**\r\n     * Adds the coordinates of another point to the coordinates of this point.\r\n     * @param {graphics.geom.Point} point - the point to be added. You can use an object with the properties x and y.\r\n     * @instance\r\n     * @function\r\n     * @memberof graphics.geom.Point\r\n     */\r\n    add : { writable : true , value : function( point )\r\n    {\r\n        this.x += point.x ;\r\n        this.y += point.y ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the angle value between this Point object and the specified Point passed in arguments.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @example\r\n     * var p1 = new Point(10, 20) ;\r\n     * var p2 = new Point(50, 200) ;\r\n     * var angle = p1.angleBetween(p2) ;\r\n     * @param {graphics.geom.Point} point - The point reference.\r\n     * @return the angle value between this Point object and the specified Point passed in arguments.\r\n     */\r\n    angleBetween : { value : function( point )\r\n    {\r\n        return acosD\r\n        (\r\n            this.dot(point) /\r\n            ( (Math.sqrt(this.x*this.x+this.y*this.y)) * (Math.sqrt(point.x*point.x+point.y*point.y)) )\r\n        ) ;\r\n    }},\r\n\r\n    /**\r\n     * Returns a shallow copy of the object.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @return a shallow copy of the object.\r\n     */\r\n    clone : { writable : true , value : function()\r\n    {\r\n        return new Point( this.x , this.y ) ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the cross value of the current Point object with the Point passed in argument.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @example\r\n     * var p1 = new Point(10,20) ;\r\n     * var p2 = new Point(40,60) ;\r\n     * trace(p1.cross(p2)) ; // -200\r\n     * @param {graphics.geom.Point} point - The Point object use to calculate the cross value.\r\n     * @return The cross value of the current Point object with the Point passed in argument.\r\n     */\r\n    cross : { writable : true , value : function( point )\r\n    {\r\n        return (this.x*point.y) - (this.y*point.x) ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the dot value of the current Point and the specified Point passed in argument.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @example\r\n     * var p1 = new Point(10,20) ;\r\n     * var p2 = new Point(40,60) ;\r\n     * trace(p1.dot(p2)) ; // 1600\r\n     * @param {graphics.geom.Point} point - The Point to calculate the dot value of the current Point.\r\n     * @return the dot value of the current Point and the specified Point passed in argument.\r\n     */\r\n    dot : { writable : true , value : function( point )\r\n    {\r\n        return (this.x * point.x) + (this.y * point.y) ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the normal value of this Point.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @example\r\n     * var p = new Point(10,10) ;\r\n     * var n = p.getNormal() ; // [Point x:-10 y:10]\r\n     * trace(n) ;\r\n     * @return the normal value of this Point.\r\n     */\r\n    getNormal : { value : function()\r\n    {\r\n        return new Point(-this.y , this.x) ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the size of the projection of this Point with an other Point.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @example\r\n     * var p1 = new Point(10,10) ;\r\n     * var p2 = new Point(100,200) ;\r\n     * var size = p1.getProjectionLength(p2) ;\r\n     * trace(size) ; // 0.06\r\n     * @param point the Point use to calculate the length of the projection.\r\n     * @return the size of the projection of this Point with an other Point.\r\n     */\r\n    getProjectionLength : { value : function( point )\r\n    {\r\n        let len = point.dot(point) ;\r\n        return (len === 0 ) ? 0 : Math.abs( this.dot(point) / len ) ;\r\n    }},\r\n\r\n    /**\r\n     * Returns true if the Point is perpendicular with the passed-in Point.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @example\r\n     * var p1 = new Point(0,10) ;\r\n     * var p2 = new Point(10,10) ;\r\n     * var p3 = new Point(10,0) ;\r\n     * trace(p1.isPerpTo(p2)) ; // false\r\n     * trace(p1.isPerpTo(p3)) ; // true\r\n     * @param {graphics.geom.Point} point - The Point use to determinate if this Point object is perpendicular.\r\n     * @return {boolean} True if the Point is perpendicular with the passed-in Point.\r\n     */\r\n    isPerpTo : { writable : true , value : function( point )\r\n    {\r\n        return this.dot(point) === 0 ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the new Point with the maximum horizontal coordinate and the maximum vertical coordinate.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @example\r\n     * var p1 = new Point(10,100) ;\r\n     * var p2 = new Point(100,10) ;\r\n     * var p3 = p1.max(p2) ;\r\n     * trace(p3) ; // [Point x:100 y:100]\r\n     * @param {graphics.geom.Point} point - The Point passed in this method.\r\n     * @return {graphics.geom.Point} The new Point with the maximum horizontal coordinate and the maximum vertical coordinate.\r\n     */\r\n    max : { writable : true , value : function( point )\r\n    {\r\n        return new Point( Math.max(this.x , point.x) , Math.max(this.y, point.y) ) ;\r\n    }},\r\n\r\n    /**\r\n     * Returns a new Point with the minimum horizontal coordinate and the minimize vertical coordinate.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @example\r\n     * var p1 = new Point(10,100) ;\r\n     * var p2 = new Point(100,10) ;\r\n     * var p3 = p1.min(p2) ;\r\n     * trace(p3) ; // [Point x:10 y:10]\r\n     * @param {graphics.geom.Point} point - The Point passed in this method\r\n     * @return {graphics.geom.Point} A new Point with the min horizontal coordinate and the minimize vertical coordinate.\r\n     */\r\n    min : { writable : true , value : function( point )\r\n    {\r\n        return new Point( Math.min(this.x , point.x) , Math.min(this.y, point.y) ) ;\r\n    }},\r\n\r\n    /**\r\n     * Sets the current Point with negate coordinates.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @example\r\n     * var p = new Point(10,20) ;\r\n     * trace(p) ; // [Point x:10 y:20]\r\n     * p.negate() ;\r\n     * trace(p) ; // [Point x:-10 y:-20]\r\n     * p.negate() ;\r\n     * trace(p) ; // [Point x:10 y:20]\r\n     */\r\n    negate : { writable : true , value : function()\r\n    {\r\n        this.x = -this.x ;\r\n        this.y = -this.y ;\r\n    }},\r\n\r\n    /**\r\n     * Scales the line segment between (0,0) and the current point to a set length.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @example\r\n     * var p = new Point(0,5) ;\r\n     * p.normalize() ;\r\n     * trace(p) ; // [Point x:0 y:1]\r\n     * @param {number} [thickness=1] The scaling value. For example, if the current point is (0,5), and you normalize it to 1, the point returned is at (0,1).\r\n     * @see graphics.geom.Point#length\r\n     * @throws Error if a zero-length vector or a illegal NaN value is calculate in this method.\r\n     */\r\n    normalize : { writable : true , value : function( thickness = 1 )\r\n    {\r\n        if ( isNaN(thickness) )\r\n        {\r\n            thickness = 1 ;\r\n        }\r\n        let l = Math.sqrt(this.x * this.x + this.y * this.y) ; // length\r\n        if (l > 0)\r\n        {\r\n            l = thickness / l ;\r\n            this.x *= l ;\r\n            this.y *= l ;\r\n        }\r\n        else\r\n        {\r\n            throw new Error(this + \" normalize method failed with a zero-length vector or a illegal NaN value.\") ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Offsets the Point object by the specified amount.\r\n     * The value of dx is added to the original value of x to create the new x value.\r\n     * The value of dy is added to the original value of y to create the new y value.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @param {number} [dx=0] - The amount by which to offset the horizontal coordinate, x.\r\n     * @param {number} [dy=0] - The amount by which to offset the vertical coordinate, y.\r\n     * @example\r\n     * var p = new Point(10,10) ;\r\n     * p.offset(10,10) ;\r\n     * trace(p) ; // [Point x:20 y:20]\r\n     */\r\n    offset : { writable : true , value : function( dx = 0 , dy = 0 )\r\n    {\r\n        this.x += isNaN(dx) ? 0 : dx ;\r\n        this.y += isNaN(dy) ? 0 : dy ;\r\n    }},\r\n\r\n    /**\r\n     * Rotates the Point with the specified angle in argument.\r\n     * @memberof graphics.geom.Point\r\n     * @instance\r\n     * @function\r\n     * @param {number} angle - The angle to rotate this Point.\r\n     * @param {Object} [anchor=null] - The anchor point to rotate this Point around (by default use the {0,0} position).\r\n     */\r\n    rotate : { value : function( angle , anchor = null )\r\n    {\r\n        let ax = 0 ;\r\n        let ay = 0 ;\r\n\r\n        if( anchor )\r\n        {\r\n            if( (anchor instanceof Point) || ( ('x' in anchor) && ('y' in anchor) ) )\r\n            {\r\n                ax = isNaN(anchor.x) ? 0 : anchor.x ;\r\n                ay = isNaN(anchor.y) ? 0 : anchor.y ;\r\n            }\r\n        }\r\n\r\n        let dx = this.x - ax ;\r\n        let dy = this.y - ay ;\r\n\r\n        let cos = Math.cos( angle ) ;\r\n        let sin = Math.sin( angle ) ;\r\n\r\n        this.x = ax + ( cos * dx + sin * dy ) ;\r\n        this.y = ay + ( cos * dy - sin * dx ) ;\r\n    }},\r\n\r\n    /**\r\n     * Scales the Point with the specified value in argument.\r\n     * @param {number} value - the value to scale this Point coordinates.\r\n     * @instance\r\n     * @function\r\n     * @memberof graphics.geom.Point\r\n     */\r\n    scale : { value : function( value )\r\n    {\r\n        this.x *= isNaN(value) ? 0 : value ;\r\n        this.y *= isNaN(value) ? 0 : value ;\r\n    }},\r\n\r\n    /**\r\n     * Subtracts the coordinates of another point from the coordinates of this point.\r\n     * @param {graphics.geom.Point} point - The point to be subtracted.\r\n     * @instance\r\n     * @function\r\n     * @memberof graphics.geom.Point\r\n     */\r\n    subtract : { writable : true , value : function( point )\r\n    {\r\n        this.x -= point.x ;\r\n        this.y -= point.y ;\r\n    }},\r\n\r\n    /**\r\n     * Swap the horizontal and vertical coordinates of two Point objects.\r\n     * @param {graphics.geom.Point} point - The point to be swap.\r\n     * @instance\r\n     * @function\r\n     * @memberof graphics.geom.Point\r\n     * @example\r\n     * var p1 = new Point(10,20) ;\r\n     * var p2 = new Point(30,40) ;\r\n     * trace(p1 + \" / \" + p2) ; // [Point x:10 y:20] / [Point x:30 y:40]\r\n     * p1.swap(p2) ;\r\n     * trace(p1 + \" / \" + p2) ; // [Point x:30 y:40] / [Point x:10 y:20]\r\n     */\r\n    swap : { value : function( point )\r\n    {\r\n        let tx = this.x ;\r\n        let ty = this.y ;\r\n        this.x = point.x ;\r\n        this.y = point.y ;\r\n        point.x = tx ;\r\n        point.y = ty ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the string representation of this instance.\r\n     * @return the string representation of this instance.\r\n     * @instance\r\n     * @name toString\r\n     * @function\r\n     * @memberof graphics.geom.Point\r\n     */\r\n    toString : { writable : true , value : function()\r\n    {\r\n        return \"[Point x:\" + this.x + \" y:\" + this.y + \"]\" ;\r\n    }}\r\n});\r\n\r\nObject.defineProperties( Point ,\r\n{\r\n    /**\r\n     * Returns the distance between p1 and p2 the 2 Points reference passed in argument.\r\n     * @memberof graphics.geom.Point\r\n     * @static\r\n     * @example\r\n     * var p1 = new Point(10,20) ;\r\n     * var p2 = new Point(40,60) ;\r\n     * trace( Point.distance(p1,p2) ) ; // 50\r\n     * @param {graphics.geom.Point} p1 - the first Point.\r\n     * @param {graphics.geom.Point} p2 - the second Point.\r\n     * @return the distance between p1 and p2 the 2 Points reference passed in argument.\r\n     */\r\n    distance : { value : function( p1 , p2 )\r\n    {\r\n        let x = p1.x - p2.x ;\r\n        let y = p1.y - p2.y ;\r\n        return Math.sqrt(x*x+y*y) ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the middle Point between 2 Points.\r\n     * @memberof graphics.geom.Point\r\n     * @static\r\n     * @example\r\n     * var p1 = new Point(10,10) ;\r\n     * var p2 = new Point(20,20) ;\r\n     * var middle = Point.getMiddle(p1,p2) ;\r\n     * trace(middle) ;\r\n     * @param {graphics.geom.Point} p1 - the first Point.\r\n     * @param {graphics.geom.Point} p2 - the second Point.\r\n     * @return the middle Point between 2 Points.\r\n     */\r\n    getMiddle : { value : function( p1 , p2 )\r\n    {\r\n        return new Point\r\n        (\r\n            (p1.x + p2.x) * 0.5 ,\r\n            (p1.y + p2.y) * 0.5\r\n        ) ;\r\n    }},\r\n\r\n    /**\r\n     * Determines a point between two specified points.\r\n     * <ul>\r\n     * <li>The parameter f determines where the new interpolated point is located relative to the two end points specified by parameters p1 and p2.</li>\r\n     * <li>The closer the value of the parameter f is to 1.0, the closer the interpolated point is to the first point (parameter p1).</li>\r\n     * <li>The closer the value of the parameter f is to 0, the closer the interpolated point is to the second point (parameter p2).</li>\r\n     * </ul>\r\n     * @memberof graphics.geom.Point\r\n     * @static\r\n     * @example\r\n     * var p1 = new Point(10,10) ;\r\n     * var p2 = new Point(40,40) ;\r\n     * var p3 ;\r\n     *\r\n     * p3 = Point.interpolate( p1 , p2 , 0 ) ;\r\n     * trace(p3) ; // [Point x:40 y:40]\r\n     *\r\n     * p3 = Point.interpolate( p1 , p2 , 1 ) ;\r\n     * trace(p3) ; // [Point x:10 y:10]\r\n     *\r\n     * p3 = Point.interpolate( p1 , p2 , 0.5 ) ;\r\n     * trace(p3) ; // [Point x:25 y:25]\r\n     * @param {graphics.geom.Point} p1 - the first Point.\r\n     * @param {graphics.geom.Point} p2 - the second Point.\r\n     * @param {number} [level=0] the The level of interpolation between the two points. Indicates where the new point will be, along the line between p1 and p2. If level=1, pt1 is returned; if level=0, pt2 is returned.\r\n     * @return The new interpolated point.\r\n     */\r\n    interpolate : { value : function( p1 , p2 , level = 0 )\r\n    {\r\n        if( isNaN(level) )\r\n        {\r\n            level = 0 ;\r\n        }\r\n\r\n        level = Math.max( Math.min( level, 1 ), 0 ) ;\r\n\r\n        if( level === 0 )\r\n        {\r\n            return p2 ;\r\n        }\r\n        else if( level === 1 )\r\n        {\r\n            return p1 ;\r\n        }\r\n        else\r\n        {\r\n            return new Point\r\n            (\r\n                p2.x + level * (p1.x - p2.x) ,\r\n                p2.y + level * (p1.y - p2.y)\r\n            ) ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Converts a pair of polar coordinates to a Cartesian point coordinates.\r\n     * @memberof graphics.geom.Point\r\n     * @static\r\n     * @example\r\n     * <pre>\r\n     * var polar = Point.polar( 5, Math.atan(3/4) ) ;\r\n     * trace(polar) ; // [Point x:4 y:3]\r\n     * </pre>\r\n     * @param {number} len The length coordinate of the polar pair.\r\n     * @param {number} angle The angle, in radians, of the polar pair.\r\n     * @return The new Cartesian point.\r\n     */\r\n    polar : { value : function( len , angle )\r\n    {\r\n        return new Point( len * Math.cos(angle), len * Math.sin(angle) ) ;\r\n    }}\r\n}) ;","\"use strict\" ;\r\n\r\nimport { Dimension } from './Dimension.js' ;\r\nimport { Point } from './Point.js' ;\r\n\r\n/**\r\n * The Rectangle class is used to create and modify Rectangle objects.\r\n * <p>A Rectangle object is an area defined by its position, as indicated by its top-left corner point <code>(x, y)</code>, and by its width and its height.</p>\r\n * <p>The <code>x</code>, <code>y</code>, <code>width</code>, and <code>height</code> properties of the Rectangle class are independent of each other; changing the value of one property has no effect on the others.</p>\r\n * @summary The Rectangle class is used to create and modify Rectangle objects.\r\n * @name Rectangle\r\n * @extends graphics.geom.Dimension\r\n * @memberof graphics.geom\r\n * @class\r\n * @param {number} [x=0] - The x value of the object.\r\n * @param {number} [y=0] - The y value of the object.\r\n * @param {number} [width=0] - The width value of the object.\r\n * @param {number} [height=0] - The height value of the object.\r\n */\r\nexport function Rectangle( x = 0 , y = 0 , width = 0 , height = 0 )\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * Determinates the x value of this object.\r\n         * @memberof graphics.geom.Rectangle\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        x : { value : isNaN(x) ? 0 : x , writable : true } ,\r\n\r\n        /**\r\n         * Determinates the y value of this object.\r\n         * @memberof graphics.geom.Rectangle\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        y : { value : isNaN(y) ? 0 : y , writable : true }\r\n    });\r\n    Dimension.call( this , width , height ) ;\r\n}\r\n\r\nRectangle.prototype = Object.create( Dimension.prototype ,\r\n{\r\n    constructor : { writable : true , value : Rectangle },\r\n\r\n    /**\r\n     * The area of the rectangle.\r\n     * @name area\r\n     * @memberof graphics.geom.Rectangle\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     * @example\r\n     * var rectangle = new Rectangle( 0 , 0 , 40 , 12 ) ;\r\n     * trace( rectangle.area ) ; // 480\r\n     */\r\n    area : { get : function() { return this.width * this.height ; }} ,\r\n\r\n    /**\r\n     * The sum of the y and height properties.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     */\r\n    bottom :\r\n    {\r\n        get : function() { return this.y + this.height ; },\r\n        set : function( value ) { this.height = value - this.y ; }\r\n    },\r\n\r\n    /**\r\n     * The location of the Rectangle object's bottom-left corner, determined by the values of the left and bottom properties.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     */\r\n    bottomLeft :\r\n    {\r\n        get : function() { return new Point(this.x, this.y + this.height) ; } ,\r\n        set : function( point )\r\n        {\r\n            this.width = this.width + (this.x - point.x) ;\r\n            this.height = point.y - this.y ;\r\n            this.x = point.x ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The location of the Rectangle object's bottom-right corner, determined by the values of the right and bottom properties.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     */\r\n    bottomRight :\r\n    {\r\n        get : function() { return new Point(this.x + this.width, this.y + this.height) ; } ,\r\n        set : function( point )\r\n        {\r\n            this.width  = point.x - this.x ;\r\n            this.height = point.y - this.y ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The location of the Rectangle object's center.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     */\r\n    center :\r\n    {\r\n        get : function()\r\n        {\r\n            return new Point\r\n            (\r\n                this.x + this.width  * 0.5 ,\r\n                this.y + this.height * 0.5\r\n            );\r\n        },\r\n        set : function( point )\r\n        {\r\n            this.x = point.x - ( this.width  * 0.5 ) ;\r\n            this.y = point.y - ( this.height * 0.5 ) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Indicates the x coordinate of the Rectangle center.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     */\r\n    centerX :\r\n    {\r\n        get : function() { return this.x + (this.width*0.5) ; },\r\n        set : function( x ) { this.x = x - (this.width*0.5) ; }\r\n    },\r\n\r\n    /**\r\n     * Indicates the y coordinate of the Rectangle center.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     */\r\n    centerY :\r\n    {\r\n        get : function() { return this.y + (this.height*0.5) ; },\r\n        set : function( y ) { this.y = y - (this.height*0.5) ; }\r\n    },\r\n\r\n    /**\r\n     * The x coordinate of the top-left corner of the rectangle.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     */\r\n    left :\r\n    {\r\n        get : function() { return this.x ; } ,\r\n        set : function( value )\r\n        {\r\n            this.width = this.width + (this.x - value) ;\r\n            this.x = value ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The sum of the x and width properties.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     */\r\n    right :\r\n    {\r\n        get : function() { return this.x + this.width ; } ,\r\n        set : function( value ) { this.width = value - this.x ; }\r\n    },\r\n\r\n    /**\r\n     * The perimeter of the rectangle.\r\n     * @name perimeter\r\n     * @memberof graphics.geom.Rectangle\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     * @example\r\n     * var rectangle = new Rectangle( 0 , 0 , 40 , 12 ) ;\r\n     * trace( rectangle.perimeter ) ; // 104\r\n     */\r\n    perimeter : { get : function() { return (this.width*2) + (this.height*2); }} ,\r\n\r\n    /**\r\n     * The size of the Rectangle object, expressed as a Point object with the values of the width and height properties.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     */\r\n    size :\r\n    {\r\n        get : function() { return new Point(this.width, this.height) ; } ,\r\n        set : function( point )\r\n        {\r\n            this.width  = point.x ;\r\n            this.height = point.y ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The y coordinate of the top-left corner of the rectangle.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     */\r\n    top :\r\n    {\r\n        get : function() { return this.y ; } ,\r\n        set : function( value )\r\n        {\r\n            this.height = this.height + (this.y - value);\r\n            this.y = value ;\r\n        }\r\n    },\r\n\r\n\r\n    /**\r\n     * The location of the Rectangle object's top-left corner, determined by the x and y coordinates of the point.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     */\r\n    topLeft :\r\n    {\r\n        get : function()\r\n        {\r\n            return new Point(this.x, this.y) ;\r\n        } ,\r\n        set : function( point )\r\n        {\r\n            this.width  = this.width  + (this.x - point.x) ;\r\n            this.height = this.height + (this.y - point.y) ;\r\n            this.x      = point.x ;\r\n            this.y      = point.y ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The location of the Rectangle object's top-right corner, determined by the x and y coordinates of the point.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     */\r\n    topRight :\r\n    {\r\n        get : function()\r\n        {\r\n            return new Point( this.x + this.width , this.y ) ;\r\n        } ,\r\n        set : function( point )\r\n        {\r\n            this.width  = point.x - this.x;\r\n            this.height = this.height + (this.y - point.y) ;\r\n            this.y      = point.y ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Centers this <code>Rectangle</code> so that the center coordinates match the given x and y values.\r\n     * @name centerOn\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     * @function\r\n     * @param {number} x - The x coordinate to place the center of the Rectangle at.\r\n     * @param {number} y - The y coordinate to place the center of the Rectangle at.\r\n     * @return The current reference of the object.\r\n     */\r\n    centerOn : { writable : true , value : function( x , y )\r\n    {\r\n        this.x = x - ( this.width  * 0.5 ) ;\r\n        this.y = y - ( this.height * 0.5 ) ;\r\n        return this;\r\n    }},\r\n\r\n    /**\r\n     * Returns a new Rectangle object with the same values for the x, y, width, and height properties as the original Rectangle object.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     * @function\r\n     * @return a shallow copy of the object.\r\n     */\r\n    clone : { writable : true , value : function()\r\n    {\r\n        return new Rectangle( this.x , this.y , this.width , this.height ) ;\r\n    }},\r\n\r\n    /**\r\n     * Determines whether the specified point is contained within the rectangular region defined by this Rectangle object.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     * @function\r\n     * @param {number} x - The x position of the point to check.\r\n     * @param {number} y - The y position of the point to check.\r\n     */\r\n    contains : { value : function( x , y )\r\n    {\r\n        return (this.x <= x) && (this.x + this.width) > x && (this.y <= y) && (this.y + this.height) > y ;\r\n    }},\r\n\r\n    /**\r\n     * Determines whether the specified point is contained within the rectangular region defined by this Rectangle object.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     * @function\r\n     * @param {Object|graphics.geom.Point} point - The point to check.\r\n     */\r\n    containsPoint : { value : function( point )\r\n    {\r\n        return (this.x <= point.x) && (this.x + this.width) > point.x && (this.y <= point.y) && (this.y + this.height) > point.y ;\r\n    }},\r\n\r\n    /**\r\n     * Determines whether the Rectangle object specified by the rect parameter is contained within this Rectangle object.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     * @function\r\n     * @param {Object|graphics.geom.Rectangle} rec - The rectangle area to check.\r\n     */\r\n    containsRect : { value : function( rec )\r\n    {\r\n        let a = rec.x + rec.width ;\r\n        let b = rec.y + rec.height ;\r\n        let c = this.x + this.width ;\r\n        let d = this.y + this.height ;\r\n        return (rec.x >= this.x && rec.x < c && rec.y >= this.y && rec.y < d && a > this.x && a <= c && b > this.y && b <= d) ;\r\n    }},\r\n\r\n    /**\r\n     * Copies all of rectangle data from the source Rectangle object into the calling Rectangle object.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     * @function\r\n     * @param {graphics.geom.Rectangle|Object} rec - The rectangle object to copy.\r\n     */\r\n    copyFrom : { value : function( rec )\r\n    {\r\n        this.x      = rec.x ;\r\n        this.y      = rec.y ;\r\n        this.width  = rec.width ;\r\n        this.height = rec.height ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Determines whether the object specified in the toCompare parameter is equal to this Rectangle object.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     * @function\r\n     * @param {object} toCompareThe - object to evaluates.\r\n     * @param {boolean} [strict=true] - If true the method accept only a toCompare Rectangle, else any object with the x, y, width and height properties (default true).\r\n     * @return {boolean} <code>true</code> if the the specified object is equal with this object.\r\n     */\r\n    equals : { writable : true , value : function( toCompare , strict = true )\r\n    {\r\n        var flag = strict ? toCompare instanceof Rectangle\r\n                          : ('x' in toCompare && 'y' in toCompare && 'width' in toCompare && 'height' in toCompare ) ;\r\n        if ( flag )\r\n        {\r\n            return toCompare.x === this.x &&\r\n                   toCompare.y === this.y &&\r\n                   toCompare.width === this.width &&\r\n                   toCompare.height=== this.height ;\r\n        }\r\n        else\r\n        {\r\n            return false ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Increases the size of the Rectangle object by the specified amounts, in pixels.\r\n     * The center point of the Rectangle object stays the same, and its size increases to the left and right by the dx value, and to the top and the bottom by the dy value.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     * @function\r\n     * @param {number} dx - The value to be added to the left and the right of the Rectangle object. The following equation is used to calculate the new width and position of the rectangle:  x -= dx; width += 2 * dx;\r\n     * @param {number} dy - The value to be added to the top and the bottom of the Rectangle. The following equation is used to calculate the new height and position of the rectangle: y -= dy; height += 2 * dy;\r\n     */\r\n    inflate : { value : function( dx , dy )\r\n    {\r\n        this.x -= dx;\r\n        this.y -= dy;\r\n        this.width  += 2 * dx;\r\n        this.height += 2 * dy;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Increases the size of the Rectangle object. This method is similar to the Rectangle.inflate() method except it takes a Point object as a parameter.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     * @function\r\n     * @param {graphics.geom.Point} point - The x property of this Point object is used to increase the horizontal dimension of the Rectangle object. The y property is used to increase the vertical dimension of the Rectangle object.\r\n     * @example\r\n     * var rect  = new Rectangle(0,0,2,5);\r\n     * var point = new Point(2,2);\r\n     * rect.inflatePoint(point) ;\r\n     */\r\n    inflatePoint : { value : function( point )\r\n    {\r\n        this.x -= point.x;\r\n        this.y -= point.y;\r\n        this.width  += 2 * point.x;\r\n        this.height += 2 * point.y;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * If the Rectangle object specified in the toIntersect parameter intersects with this Rectangle object, returns the area of intersection as a Rectangle object. If the rectangles do not intersect, this method returns an empty Rectangle object with its properties set to 0.\r\n     * @param toIntersect {graphics.geom.Rectangle} The Rectangle object to compare against to see if it intersects with this Rectangle object.\r\n     * @return {graphics.geom.Rectangle}  A Rectangle object that equals the area of intersection. If the rectangles do not intersect, this method returns an empty Rectangle object; that is, a rectangle with its x, y, width, and height properties set to 0.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @function\r\n     * @instance\r\n     */\r\n    intersection : { value : function( toIntersect )\r\n    {\r\n        let rec = new Rectangle() ;\r\n        if ( this.isEmpty() || toIntersect.isEmpty() )\r\n        {\r\n            rec.setTo();\r\n            return rec ;\r\n        }\r\n        rec.x = Math.max(this.x, toIntersect.x);\r\n        rec.y = Math.max(this.y, toIntersect.y);\r\n        rec.width  = Math.min( this.x + this.width  , toIntersect.x + toIntersect.width  ) - rec.x ;\r\n        rec.height = Math.min( this.y + this.height , toIntersect.y + toIntersect.height ) - rec.y ;\r\n        if ( rec.width <= 0 || rec.height <= 0 )\r\n        {\r\n            rec.setTo();\r\n        }\r\n        return rec ;\r\n    }},\r\n\r\n    /**\r\n     * Determines whether the object specified in the toIntersect parameter intersects with this Rectangle object. This method checks the x, y, width, and height properties of the specified Rectangle object to see if it intersects with this Rectangle object.\r\n     * @param {graphics.geom.Rectangle} toIntersect - The Rectangle object to compare against this Rectangle object.\r\n     * @return {boolean} A value of true if the specified object intersects with this Rectangle object; otherwise false.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @function\r\n     * @instance\r\n     */\r\n    intersects : { value : function( toIntersect )\r\n    {\r\n        return !this.intersection(toIntersect).isEmpty() ;\r\n    }},\r\n\r\n    /**\r\n     * Adjusts the location of the object, as determined by its top-left corner, by the specified amounts.\r\n     * @param {number} [dx=0] - Moves the x value of the Rectangle object by this amount.\r\n     * @param {number} [dy=0] - Moves the y value of the Rectangle object by this amount.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @function\r\n     * @instance\r\n     */\r\n    offset : { writable : true , value : function( dx = 0 , dy = 0 )\r\n    {\r\n        this.x += dx ;\r\n        this.y += dy ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Adjusts the location of the Rectangle object using a Point object as a parameter. This method is similar to the Rectangle.offset() method, except that it takes a Point object as a parameter.\r\n     * @param {graphics.geom.Point} point - A Point object to use to offset this Rectangle object.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @function\r\n     * @instance\r\n     */\r\n    offsetPoint : { writable : true , value : function( point )\r\n    {\r\n        this.x += point.x ;\r\n        this.y += point.y ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Sets the width and heigth members of Rectangle to the specified values.\r\n     * @param {number} [width=0] - The width of the rectangle, in pixels (default 0).\r\n     * @param {number} [height=0] - The height of the rectangle, in pixels (default 0).\r\n     * @return {Rectangle} The object reference.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @function\r\n     * @instance\r\n     */\r\n    resize : { writable : true , value : function( width = 0 , height = 0 )\r\n    {\r\n        this.width = width ;\r\n        this.height = height ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Sets the members of Rectangle to the specified values.\r\n     * @param {number} [x=0] - The x coordinate of the top-left corner of the rectangle (default 0).\r\n     * @param {number} [y=0] - The y coordinate of the top-left corner of the rectangle (default 0).\r\n     * @param {number} [width=0] - The width of the rectangle, in pixels (default 0).\r\n     * @param {number} [height=0] - The height of the rectangle, in pixels (default 0).\r\n     * @return {Rectangle} The object reference.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @function\r\n     * @instance\r\n     */\r\n    setTo : { writable : true , value : function( x = 0 , y = 0 , width = 0 , height = 0 )\r\n    {\r\n        this.x = x ;\r\n        this.y = y ;\r\n        this.width = width ;\r\n        this.height = height ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the Object representation of this object.\r\n     * @return the Object representation of this object.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @function\r\n     * @instance\r\n     */\r\n    toObject : { value : function()\r\n    {\r\n        return { x:this.x , y:this.y , width:this.width , height:this.height } ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the string representation of this instance.\r\n     * @return the string representation of this instance.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @name toString\r\n     * @function\r\n     * @instance\r\n     */\r\n    toString : { value : function()\r\n    {\r\n        return \"[Rectangle x:\" + this.x + \" y:\" + this.y + \" width:\" + this.width + \" height:\" + this.height + \"]\" ;\r\n    }},\r\n\r\n    /**\r\n     * Adds two rectangles together to create a new Rectangle object, by filling in the horizontal and vertical space between the two rectangles.\r\n     * <b>Note:</b> The union() method ignores rectangles with 0 as the height or width value, such as: var rect2 = new Rectangle(300,300,50,0);\r\n     * @memberof graphics.geom.Rectangle\r\n     * @instance\r\n     * @function\r\n     * @param {Rectangle} toUnion A Rectangle object to add to this Rectangle object.\r\n     * @return {Rectangle} A new Rectangle object that is the union of the two rectangles.\r\n     */\r\n    union : { value : function( toUnion )\r\n    {\r\n        if( !(toUnion instanceof Rectangle) )\r\n        {\r\n            return null ; // ignore\r\n        }\r\n        if ( this.width <= 0 || this.height <= 0 )\r\n        {\r\n            return toUnion.clone() ;\r\n        }\r\n        else if ( toUnion.width <= 0 || toUnion.height <= 0 )\r\n        {\r\n            return this.clone() ;\r\n        }\r\n        else\r\n        {\r\n            var rec = new Rectangle();\r\n            rec.x = Math.min(this.x, toUnion.x);\r\n            rec.y = Math.min(this.y, toUnion.y);\r\n            rec.width  = Math.max(this.x + this.width  , toUnion.x + toUnion.width  ) - rec.x ;\r\n            rec.height = Math.max(this.y + this.height , toUnion.y + toUnion.height ) - rec.y ;\r\n            return rec ;\r\n        }\r\n    }}\r\n});\r\n\r\nObject.defineProperties( Rectangle ,\r\n{\r\n    /**\r\n     * Calculates the Axis Aligned Bounding Box (or aabb) from an array of points.\r\n     * @memberof graphics.geom.Rectangle\r\n     * @function\r\n     * @param {graphics.geom.Vector2D[]} points - The array of one or more points.\r\n     * @param {graphics.geom.Rectangle} [out=null] - Optional rectangle to store the value in, if not supplied a new Rectangle object will be created.\r\n     * @return {graphics.geom.Rectangle} The new Rectangle object.\r\n     */\r\n    aabb : { value : function( points , rec = null )\r\n    {\r\n        if (!(rec instanceof Rectangle))\r\n        {\r\n            rec = new Rectangle();\r\n        }\r\n        if( points instanceof Array && points.length > 0 )\r\n        {\r\n            let xMax = Number.NEGATIVE_INFINITY,\r\n                xMin = Number.POSITIVE_INFINITY,\r\n                yMax = Number.NEGATIVE_INFINITY,\r\n                yMin = Number.POSITIVE_INFINITY;\r\n\r\n            let point ;\r\n\r\n            for( let i = 0 , len = points.length ; i<len ; i++ )\r\n            {\r\n                point = points[i] ;\r\n                if (point.x > xMax)\r\n                {\r\n                    xMax = point.x;\r\n                }\r\n                if (point.x < xMin)\r\n                {\r\n                    xMin = point.x;\r\n                }\r\n                if (point.y > yMax)\r\n                {\r\n                    yMax = point.y;\r\n                }\r\n                if (point.y < yMin)\r\n                {\r\n                    yMin = point.y;\r\n                }\r\n            }\r\n            rec.setTo(xMin, yMin, xMax - xMin, yMax - yMin);\r\n        }\r\n        return rec;\r\n    }}\r\n});","\"use strict\" ;\r\n\r\nimport { Task }   from '../system/process/Task.js' ;\r\nimport { Signal } from '../system/signals/Signal.js' ;\r\n\r\nimport { Align } from './Align.js' ;\r\nimport { LayoutBufferMode } from './LayoutBufferMode.js' ;\r\nimport { Rectangle } from './geom/Rectangle.js' ;\r\n\r\n/**\r\n * A base class that manages layouts in visual elements on the screen of your applications.\r\n * @summary A base class that manages the layout rendering in visual elements on the screen of your applications.\r\n * @name Layout\r\n * @memberof graphics\r\n * @extends system.process.Task\r\n * @class\r\n */\r\nexport function Layout()\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * The signal invoked when the render method is called.\r\n         * @memberof graphics.Layout\r\n         * @type {system.signals.Signal}\r\n         * @const\r\n         * @instance\r\n         */\r\n        renderer : { value : new Signal() } ,\r\n\r\n        /**\r\n         * The signal invoked when the update method is called.\r\n         * @memberof graphics.Layout\r\n         * @type {system.signals.Signal}\r\n         * @const\r\n         * @instance\r\n         */\r\n        updater : { value : new Signal() } ,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _align      : { writable :  true , value : Align.TOP_LEFT  },\r\n        _bufferMode : { writable :  true , value : LayoutBufferMode.AUTO },\r\n        _bounds     : { writable : false , value : new Rectangle() } ,\r\n        _container  : { writable :  true , value : null }\r\n    });\r\n    Task.call( this ) ;\r\n}\r\n\r\nLayout.prototype = Object.create( Task.prototype ,\r\n{\r\n    constructor : { writable : true , value : Layout },\r\n\r\n    /**\r\n     * The alignement of the layout.\r\n     * @memberof graphics.Layout\r\n     * @type {number}\r\n     * @default graphics.Align.TOP_LEFT\r\n     * @see graphics.Align\r\n     * @instance\r\n     */\r\n    align :\r\n    {\r\n        get : function() { return this._align ; },\r\n        set : function( value ) { this._align = value ; }\r\n    },\r\n\r\n    /**\r\n     * A rectangle that defines the current visible area of the layout.\r\n     * @memberof graphics.Layout\r\n     * @type {graphics.geom.Rectangle}\r\n     * @readonly\r\n     * @instance\r\n     */\r\n    bounds :\r\n    {\r\n        get : function() { return this._bounds ; }\r\n    },\r\n\r\n    /**\r\n     * A rectangle that defines the current visible area of the layout.\r\n     * @memberof graphics.Layout\r\n     * @type {graphics.LayoutBufferMode}\r\n     * @default LayoutBufferMode.AUTO\r\n     * @readonly\r\n     * @instance\r\n     */\r\n    bufferMode :\r\n    {\r\n        get : function() { return this._bufferMode ; },\r\n        set : function( value )\r\n        {\r\n            if( this._bufferMode === value )\r\n            {\r\n                return ;\r\n            }\r\n            this._bufferMode = value === LayoutBufferMode.AUTO ? LayoutBufferMode.AUTO : LayoutBufferMode.NORMAL ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Indicates the container reference to change with the layout.\r\n     * @memberof graphics.Layout\r\n     * @instance\r\n     */\r\n    container :\r\n    {\r\n        get : function() { return this._container ; },\r\n        set : function( target ) { this._container = target ; }\r\n    },\r\n\r\n    /**\r\n     * The default height of the layout, in pixels.\r\n     * @memberof graphics.Layout\r\n     * @readonly\r\n     * @instance\r\n     * @type {number}\r\n     */\r\n    measuredHeight : { get : function() { return this._bounds.height } } ,\r\n\r\n    /**\r\n     * The default width of the layout, in pixels.\r\n     * @memberof graphics.Layout\r\n     * @readonly\r\n     * @instance\r\n     * @type {number}\r\n     */\r\n    measuredWidth : { get : function() { return this._bounds.width } } ,\r\n\r\n    // ------------- public methods\r\n\r\n    /*jshint -W098 */\r\n    /**\r\n     * Initialize the layout container with the specific elements. This method flush the layout container and remove all old elements register in the collection before initialize it.\r\n     * @param {Array} [children=null] - An Array, a container or a list of element references to register. If this argument is null the layout is only flushed.\r\n     * @memberof graphics.Layout\r\n     * @function\r\n     * @instance\r\n     */\r\n    initialize : { writable : true  , value : ( children = null ) => {} } ,\r\n    /*jshint +W098 */\r\n\r\n    /**\r\n     * Calculates the default sizes and minimum and maximum values.\r\n     * You can overrides this method in the specific layouts.\r\n     * @memberof graphics.Layout\r\n     * @function\r\n     * @instance\r\n     */\r\n    measure : { writable : true  , value : () => {} } ,\r\n\r\n    /**\r\n     * Render the layout, refresh and change the position of all childs in a specific container.\r\n     * @memberof graphics.Layout\r\n     * @function\r\n     * @instance\r\n     */\r\n    render : { writable : true , value : () => {} } ,\r\n\r\n    /**\r\n     * Run the process.\r\n     * @memberof graphics.Layout\r\n     * @function\r\n     * @instance\r\n     */\r\n    run : { writable : true , value : function()\r\n    {\r\n        if ( this.isLocked() )\r\n        {\r\n            return ;\r\n        }\r\n\r\n        this.notifyStarted() ;\r\n\r\n        if ( this._bufferMode === LayoutBufferMode.AUTO && this._container )\r\n        {\r\n            this.initialize( this._container ) ;\r\n        }\r\n\r\n        this.measure() ;\r\n        this.render() ;\r\n        this.update() ;\r\n    }},\r\n\r\n    /**\r\n     * This method is invoked when the rendering is finished to finalize the it after the measure invokation.\r\n     * @memberof graphics.Layout\r\n     * @function\r\n     * @instance\r\n     */\r\n    update : { writable : true , value : () => {} }\r\n}) ;","\"use strict\" ;\r\n\r\n/**\r\n * This entry is an helper to encapsulate a view in a layout engine.\r\n * @name LayoutEntry\r\n * @memberof graphics\r\n * @class\r\n * @constructs\r\n * @param {Object} [child=null] - The child reference of the entry.\r\n */\r\nexport function LayoutEntry( child = null )\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * The child reference of this entry.\r\n         * @name child\r\n         * @memberof graphics.LayoutEntry\r\n         * @instance\r\n         * @type Object\r\n         */\r\n        child : { value : child , writable : true } ,\r\n\r\n        /**\r\n         * The x property of this entry.\r\n         * @name x\r\n         * @memberof graphics.LayoutEntry\r\n         * @instance\r\n         * @type number\r\n         */\r\n        x : { value : (child && \"x\" in child) ? child.x : 0 , writable : true } ,\r\n\r\n        /**\r\n         * The y property of this entry.\r\n         * @name y\r\n         * @memberof graphics.LayoutEntry\r\n         * @instance\r\n         * @type number\r\n         */\r\n        y : { value : (child && \"y\" in child) ? child.y : 0 , writable : true } ,\r\n\r\n        /**\r\n         * The delta x property of this entry.\r\n         * @name tx\r\n         * @memberof graphics.LayoutEntry\r\n         * @instance\r\n         * @type number\r\n         */\r\n        tx : { value : 0 , writable : true } ,\r\n\r\n        /**\r\n         * The delta y property of this entry.\r\n         * @name ty\r\n         * @memberof graphics.LayoutEntry\r\n         * @instance\r\n         * @type number\r\n         */\r\n        ty : { value : 0 , writable : true } ,\r\n    });\r\n}\r\n\r\nLayoutEntry.prototype = Object.create( Object.prototype ,\r\n{\r\n    constructor : { writable : true , value : LayoutEntry } ,\r\n\r\n    /**\r\n     * Returns the string representation of this instance.\r\n     * @return {string} The string representation of this instance.\r\n     * @memberof graphics.LayoutEntry\r\n     * @name toString\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { writable : true , value : function()\r\n    {\r\n        return '[LayoutEntry]' ;\r\n    }}\r\n});","\"use strict\" ;\n\nimport { clamp } from '../core/maths/clamp.js' ;\n\n/**\n * Defines the line style of the vector shapes.\n * @summary The line style of the vector shapes.\n * @name LineStyle\n * @memberof graphics\n * @class\n * @param {number} [thickness=1] - An integer that indicates the thickness of the line in points ; valid values are 0 to 255.\n * @param {number} [color=0] - An hexadecimal color value of the line\n * @param {number} [alpha=1] - A number that indicates the alpha value of the color of the line; valid values are 0 to 1.\n */\nexport function LineStyle( thickness = 1 , color = 0 , alpha = 1 )\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * @private\n         */\n        _alpha : { writable : true , value : clamp(isNaN(alpha)?0:alpha,0,1) } ,\n        _color : { writable : true , value : clamp(isNaN(color)?0:color,0,0xFFFFFF) } ,\n        _thickness : { value : clamp(isNaN(thickness)?0:thickness,0,0xFF) , writable : true }\n    });\n}\n\nLineStyle.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : LineStyle } ,\n\n    /**\n     * A number that indicates the alpha value of the color of the line; valid values are 0 to 1.\n     * If a value is not indicated, the default is 1 (solid). If the value is less than 0, the default is 0. If the value is greater than 1, the default is 1.\n     * @name alpha\n     * @memberof graphics.LineStyle\n     * @default 1\n     * @type {number}\n     * @instance\n     */\n    alpha :\n    {\n        get : function() { return this._alpha ; },\n        set : function( value ) { this._alpha = clamp(isNaN(value)?0:value,0,1) ; }\n    },\n\n    /**\n     * An hexadecimal color value of the line; for example, red is 0xFF0000, blue is 0x0000FF, and so on.\n     * If a value is not indicated, the default is 0x000000 (black).\n     * @name alpha\n     * @memberof graphics.LineStyle\n     * @default 0x000000\n     * @type {number}\n     * @instance\n     */\n    color :\n    {\n        get : function() { return this._color ; },\n        set : function( value ) { this._color = clamp(isNaN(value)?0:value,0,0xFFFFFF) ; }\n    },\n\n    /**\n     * An integer that indicates the thickness of the line in points ; valid values are 0 to 255.\n     * If a number is not specified, or if the parameter is undefined, a line is not drawn.\n     * If a value of less than 0 is passed, the default is 0.\n     * The value 0 indicates hairline thickness ; the maximum thickness is 255.\n     * If a value greater than 255 is passed, the default is 255.\n     * @name thickness\n     * @memberof graphics.LineStyle\n     * @default 0\n     * @type {number}\n     * @instance\n     */\n    thickness :\n    {\n        get : function() { return this._thickness ; },\n        set : function( value ) { this._thickness = clamp(isNaN(value)?0:value,0,0xFF) ; }\n    },\n\n    /**\n     * Returns a shallow copy of the object.\n     * @return a shallow copy of the object.\n     * @name clone\n     * @memberof graphics.LineStyle\n     * @instance\n     * @function\n     */\n    clone : { writable : true , value : function()\n    {\n        return new LineStyle( this._thickness , this._color, this._alpha ) ;\n    }},\n\n    /**\n     * Copies all of vector data from the source Vector2D object into the calling Vector2D object.\n     * @param {graphics.geom.Vector2D} source - The Vector2D object from which to copy the data.\n     * @return The current {@link graphics.geom.Vector2D} reference.\n     * @name copyFrom\n     * @memberof graphics.geom.Vector2D\n     * @instance\n     * @function\n     */\n    copyFrom : { writable : true , value : function( source )\n    {\n        if( !(source instanceof LineStyle) )\n        {\n            throw TypeError( this + ' copyFrom failed, the passed-in source argument must be an LineStyle object.' ) ;\n        }\n        this._thickness = source._thickness ;\n        this._color = source._color ;\n        this._alpha = source._alpha ;\n        return this ;\n    }},\n\n    /**\n     * Compares the passed-in object with this object for equality.\n     * @return {boolean} <code>true</code> if the the specified object is equal with this object.\n     * @name equals\n     * @memberof graphics.LineStyle\n     * @instance\n     * @function\n     */\n    equals : { writable : true , value : function( o )\n    {\n        if ( o instanceof LineStyle )\n        {\n            return o._color === this._color && o._alpha === this._alpha && o._thickness === this._thickness ;\n        }\n        else\n        {\n            return false ;\n        }\n    }},\n\n    /**\n     * Sets the horizontal and vertical coordinates of this object. If the <code>x</code> and the <code>y</code> parameters are <code>NaN</code> or <code>null</code> the <b>x</b> and <b>y</b> value are <code>0</code>.\n     * @name setTo\n     * @instance\n     * @function\n     * @memberof graphics.LineStyle\n     * @param {number} [thickness=1] - An integer that indicates the thickness of the line in points ; valid values are 0 to 255.\n     * @param {number} [color=0] - An hexadecimal color value of the line\n     * @param {number} [alpha=1] - A number that indicates the alpha value of the color of the line; valid values are 0 to 1.\n     */\n    setTo : { writable : true , value : function( thickness = 1 , color = 0 , alpha = 1 )\n    {\n        this.thickness = thickness ;\n        this.color     = color ;\n        this.alpha     = alpha ;\n    }},\n\n    /**\n     * Returns the Object representation of this object.\n     * @return the Object representation of this object.\n     * @name toObject\n     * @memberof graphics.LineStyle\n     * @instance\n     * @function\n     */\n    toObject : { writable : true , value : function()\n    {\n        return { alpha:this._alpha , color:this._color , thickness:this._thickness } ;\n    }},\n\n    /**\n     * Returns the string representation of this instance.\n     * @return {string} The string representation of this instance.\n     * @memberof graphics.LineStyle\n     * @name toString\n     * @instance\n     * @function\n     */\n    toString : { writable : true , value : function()\n    {\n        return \"[LineStyle thickness:\" + this._thickness + \" color:\" + this._color + \" alpha:\" + this._alpha + \"]\" ;\n    }}\n});\n\nObject.defineProperties( LineStyle ,\n{\n    /**\n     * The empty LineStyle singleton.\n     * @name EMPTY\n     * @memberof graphics.LineStyle\n     * @static\n     * @type {graphics.LineStyle}\n     */\n    EMPTY : { value : new LineStyle(0,0,0) }\n});","\"use strict\" ;\r\n\r\n/**\r\n * The {@link graphics.Orientation} enumeration defines layout orientation options.\r\n * @summary The {@link graphics.Orientation} enumeration defines layout orientation options.\r\n * @name Orientation\r\n * @namespace graphics.Orientation\r\n * @memberof graphics\r\n */\r\nexport var Orientation = Object.defineProperties( {} ,\r\n{\r\n    /**\r\n     * Constant indicating a bottom-to-top layout orientation (4).\r\n     * @memberof graphics.Orientation\r\n     * @type {number}\r\n     * @default 4\r\n     */\r\n    BOTTOM_TO_TOP: { enumerable : true , value : 4 } ,\r\n\r\n    /**\r\n     * Constant indicating a none layout orientation, use the default orientation (0).\r\n     * @memberof graphics.Orientation\r\n     * @type {number}\r\n     * @default 0\r\n     */\r\n    NONE: { enumerable : true , value : 0 },\r\n\r\n    /**\r\n     * Constant indicating a left-to-right layout orientation (1).\r\n     * @memberof graphics.Orientation\r\n     * @type {number}\r\n     * @default 1\r\n     */\r\n    LEFT_TO_RIGHT: { enumerable : true , value : 1 },\r\n\r\n    /**\r\n     * Constant indicating a right-to-left layout orientation (2).\r\n     * @memberof graphics.Orientation\r\n     * @type {number}\r\n     * @default 2\r\n     */\r\n    RIGHT_TO_LEFT: { enumerable : true , value : 2 },\r\n\r\n    /**\r\n     * Constant indicating a bottom-to-top layout orientation (8).\r\n     * @memberof graphics.Orientation\r\n     * @type {number}\r\n     * @default 8\r\n     */\r\n    TOP_TO_BOTTOM: { enumerable : true , value : 8 },\r\n\r\n    /**\r\n     * Constant indicating a left-to-right layout orientation (5).\r\n     * @memberof graphics.Orientation\r\n     * @type {number}\r\n     * @default 5\r\n     */\r\n    LEFT_TO_RIGHT_BOTTOM_TO_TOP: { enumerable : true , value : 5 },\r\n\r\n    /**\r\n     * Constant indicating a left-to-right and top-to-bottom layout orientation (9).\r\n     * @memberof graphics.Orientation\r\n     * @type {number}\r\n     * @default 9\r\n     */\r\n    LEFT_TO_RIGHT_TOP_TO_BOTTOM: { enumerable : true , value : 9 },\r\n\r\n    /**\r\n     * Constant indicating a right-to-left layout orientation (6).\r\n     * @memberof graphics.Orientation\r\n     * @type {number}\r\n     * @default 6\r\n     */\r\n    RIGHT_TO_LEFT_BOTTOM_TO_TOP: { enumerable : true , value : 6 },\r\n\r\n    /**\r\n     * Constant indicating a right-to-left and top-to-bottom layout orientation (10).\r\n     * @memberof graphics.Orientation\r\n     * @type {number}\r\n     * @default 10\r\n     */\r\n    RIGHT_TO_LEFT_TOP_TO_BOTTOM: { enumerable : true , value : 10 }\r\n}) ;\r\n\r\nObject.defineProperties( Orientation ,\r\n{\r\n    /**\r\n     * All the orientations defines in the {@link graphics.Orientation} enumeration.\r\n     * @name ALL\r\n     * @memberof graphics.Orientation\r\n     * @type {array}\r\n     * @example\r\n     * Orientation.ALL =\r\n     * [\r\n     *     Orientation.NONE ,\r\n     *     Orientation.BOTTOM_TO_TOP ,\r\n     *     Orientation.LEFT_TO_RIGHT ,\r\n     *     Orientation.RIGHT_TO_LEFT ,\r\n     *     Orientation.TOP_TO_BOTTOM ,\r\n     *     Orientation.LEFT_TO_RIGHT_BOTTOM_TO_TOP ,\r\n     *     Orientation.LEFT_TO_RIGHT_TOP_TO_BOTTOM ,\r\n     *     Orientation.RIGHT_TO_LEFT_BOTTOM_TO_TOP ,\r\n     *     Orientation.RIGHT_TO_LEFT_TOP_TO_BOTTOM\r\n     * ];\r\n     */\r\n    ALL : { value :\r\n    [\r\n        Orientation.NONE ,\r\n        Orientation.BOTTOM_TO_TOP ,\r\n        Orientation.LEFT_TO_RIGHT ,\r\n        Orientation.RIGHT_TO_LEFT ,\r\n        Orientation.TOP_TO_BOTTOM ,\r\n        Orientation.LEFT_TO_RIGHT_BOTTOM_TO_TOP ,\r\n        Orientation.LEFT_TO_RIGHT_TOP_TO_BOTTOM ,\r\n        Orientation.RIGHT_TO_LEFT_BOTTOM_TO_TOP ,\r\n        Orientation.RIGHT_TO_LEFT_TOP_TO_BOTTOM\r\n    ]},\r\n\r\n    /**\r\n     * Stringify the specific <code>Orientation</code> numeric value passed in argument.\r\n     * @name toString\r\n     * @function\r\n     * @memberof graphics.Orientation\r\n     * @param {number} value - The value of the specific <code>Orientation</code> to stringify.\r\n     * @param {string} byDefault - The default string representation if the <code>value</code> is not valid.\r\n     * @return the string representation of the specific <code>Orientation</code> numeric value passed in argument.\r\n     * @example\r\n     * trace( Orientation.toString(Orientation.BOTTOM_TO_TOP)) ; // \"btt\"\r\n     * trace( Orientation.toString(Orientation.LEFT_TO_RIGHT)) ; // \"ltr\"\r\n     * trace( Orientation.toString(Orientation.RIGHT_TO_LEFT)) ; // \"rtl\"\r\n     */\r\n    toString : { value : function( value , byDefault = \"none\" )\r\n    {\r\n        switch ( value )\r\n        {\r\n            case Orientation.BOTTOM_TO_TOP               : return \"btt\"    ;\r\n            case Orientation.LEFT_TO_RIGHT               : return \"ltr\"    ;\r\n            case Orientation.RIGHT_TO_LEFT               : return \"rtl\"    ;\r\n            case Orientation.TOP_TO_BOTTOM               : return \"ttb\"    ;\r\n            case Orientation.LEFT_TO_RIGHT_BOTTOM_TO_TOP : return \"ltrbtt\" ;\r\n            case Orientation.LEFT_TO_RIGHT_TOP_TO_BOTTOM : return \"ltrttb\" ;\r\n            case Orientation.RIGHT_TO_LEFT_BOTTOM_TO_TOP : return \"rtlbtt\" ;\r\n            case Orientation.RIGHT_TO_LEFT_TOP_TO_BOTTOM : return \"rtlttb\" ;\r\n            case Orientation.NONE                        : return \"none\"   ;\r\n            default                                      : return byDefault ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Returns <code>true</code> if the passed-in uint argument is a valid <code>Orientation</code> value else returns <code>false</code>.\r\n     * @name validate\r\n     * @function\r\n     * @memberof graphics.Orientation\r\n     * @param {number} value - The numeric value to evaluate.\r\n     * @return <code>true</code> if the passed-in uint argument is a valid <code>Orientation</code> value else returns <code>false</code>.\r\n     */\r\n    validate : { value : function( value )\r\n    {\r\n        return Orientation.ALL.indexOf(value) > -1 ;\r\n    }}\r\n}) ;","\"use strict\" ;\r\n\r\n/**\r\n * Constants defining the position declaration lets you declare what the position of an element should be.\r\n * @summary Constants defining the position declaration lets you declare what the position of an element should be.\r\n * @name Position\r\n * @namespace graphics.Position\r\n * @memberof graphics\r\n */\r\nexport var Position = Object.defineProperties( {} ,\r\n{\r\n    /**\r\n     * Constant indicating an <code>\"absolute\"</code> position.\r\n     * <p>An element with position \"absolute\" is taken out of the normal flow of the page and positioned at the desired coordinates relative to its containing block.</p>\r\n     * @memberof graphics.Position\r\n     * @type {string}\r\n     * @default absolute\r\n     */\r\n    ABSOLUTE : { enumerable : true , value : 'absolute' },\r\n\r\n    /**\r\n     * Constant indicating a <code>\"fixed\"</code> position.\r\n     * <p>An element with position \"fixed\" is taken out of the normal flow of the page and positioned at the desired coordinates relative to the browser window. It remains at that position regardless of scrolling.</p>\r\n     * @memberof graphics.Position\r\n     * @type {string}\r\n     * @default fixed\r\n     */\r\n    FIXED : { enumerable : true , value : 'fixed' },\r\n\r\n    /**\r\n     * Specifies the <code>\"normal\"</code> direction order.\r\n     * <p>The horizontal containers displays its children from left to right and the vertical containers displays its children from top to bottom.</p>\r\n     * @memberof graphics.Position\r\n     * @type {string}\r\n     * @default normal\r\n     */\r\n    NORMAL : { enumerable : true , value : 'normal' } ,\r\n\r\n    /**\r\n     * Constant indicating a <code>\"relative\"</code> position.\r\n     * <p>An element with position: relative initially has the position the normal flow of the page gives it, but it is subsequently offset by the amount the top, bottom, left, and/or right declarations give.</p>\r\n     * @memberof graphics.Position\r\n     * @type {string}\r\n     * @default relative\r\n     */\r\n    RELATIVE : { enumerable : true , value : 'relative' },\r\n\r\n    /**\r\n     * Constant indicating a <code>\"static\"</code> position.\r\n     * <p>An element with position \"static\" always has the position the normal flow of the page gives it. It cannot be moved from this position; a static element ignores any x, y, top, bottom, left, or right declarations.</p>\r\n     * @memberof graphics.Position\r\n     * @type {string}\r\n     * @default static\r\n     */\r\n    STATIC : { enumerable : true , value : 'static' }\r\n}) ;","\"use strict\" ;\r\n\r\n/**\r\n * The {@link graphics.ZOrder} enumeration provides constants to defines the z order depth of a display object added to the document.\r\n * @summary The {@link graphics.ZOrder} enumeration provides constants to defines the z order depth of a display object added to stage of your application..\r\n * @name ZOrder\r\n * @namespace graphics.ZOrder\r\n * @memberof graphics\r\n */\r\nexport var ZOrder = Object.defineProperties( {} ,\r\n{\r\n    /**\r\n     * Back means the display will be behind an other object and has a value of <code>0</code>.\r\n     * @memberof graphics.ZOrder\r\n     * @type {number}\r\n     * @default 0\r\n     */\r\n    BACK : { enumerable : true , value : 0 } ,\r\n\r\n    /**\r\n     * Front means the display will be in front of an other object and has a value of <code>1</code>.\r\n     * @memberof graphics.ZOrder\r\n     * @type {number}\r\n     * @default 1\r\n     */\r\n    FRONT : { enumerable : true , value : 1 }\r\n}) ;\r\n","/*jshint bitwise:false*/\r\n\"use strict\" ;\r\n\r\nimport { hex } from '../../core/colors/toHex.js' ;\r\nimport { normalize } from '../../core/maths/normalize.js' ;\r\n\r\n/**\r\n * The <code>RGB</code> class encapsulates an rgb color.\r\n * @summary Encapsulates an rgb color.\r\n * @name RGB\r\n * @class\r\n * @memberof graphics.colors\r\n * @param {number} [r=0] - The red component, between <code>0</code> and <code>255</code>.\r\n * @param {number} [g=0] - The green component, between <code>0</code> and <code>255</code>.\r\n * @param {number} [b=0] - The blue component, between <code>0</code> and <code>255</code>.\r\n */\r\nexport function RGB( r = 0 , g = 0 , b = 0 )\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        _blue  : { writable : true , enumerable : true , value : Math.max( Math.min( b , 0XFF ) , 0 ) } ,\r\n        _green : { writable : true , enumerable : true , value : Math.max( Math.min( g , 0XFF ) , 0 ) } ,\r\n        _red   : { writable : true , enumerable : true , value : Math.max( Math.min( r , 0XFF ) , 0 ) }\r\n    }) ;\r\n}\r\n\r\nObject.defineProperties( RGB ,\r\n{\r\n    /**\r\n     * The maximum value specified with a color component.\r\n     * @memberof graphics.colors.RGB\r\n     * @const\r\n     * @type number\r\n     * @default 0xFF\r\n     */\r\n    maximum : { value : 0xFF } ,\r\n\r\n    /**\r\n     * Returns the RGB representation of the color number passed in argument.\r\n     * @name fromNumber\r\n     * @memberof graphics.colors.RGB\r\n     * @function\r\n     * @example\r\n     * var rgb = RGB.fromNumber( 0xEA6F51 ) ;\r\n     * trace(rgb) ; // [RGB r:234 g:111 b:81 hex:0xEA6F51]\r\n     * @param {number} value - The numeric value to create a new RGB instance.\r\n     * @return the RGB representation of the color number passed in argument.\r\n     */\r\n    fromNumber : { value : function( value )\r\n    {\r\n        return (new RGB()).fromNumber( value ) ;\r\n    }}\r\n}) ;\r\n\r\nRGB.prototype = Object.create( Object.prototype ,\r\n{\r\n    /**\r\n     * The blue component, between 0 and 255.\r\n     * @name b\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @type number\r\n     */\r\n    b :\r\n    {\r\n        get : function() { return this._blue ; } ,\r\n        set : function( value )\r\n        {\r\n            this._blue = Math.max( Math.min( isNaN(value) ? 0 : value , 0xFF ) , 0 ) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The green component, between 0 and 255.\r\n     * @name g\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @type number\r\n     */\r\n    g :\r\n    {\r\n        get : function() { return this._green ; } ,\r\n        set : function( value )\r\n        {\r\n            this._green = Math.max( Math.min( isNaN(value) ? 0 : value , 0xFF ) , 0 ) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Indicates the luminance of the color.\r\n     * <p>The value is normed and lies in the range between <code>0</code> (black) and <code>255</code> (white).</p>\r\n     * @name luminance\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @type number\r\n     */\r\n    luminance :\r\n    {\r\n        get : function() { return 0.299 * this._red + 0.587 * this._green + 0.114 * this._blue ; } ,\r\n        set : function( value )\r\n        {\r\n            value = normalize(value, 0, 0xFF) ;\r\n            let l = 0.299 * this._red + 0.587 * this._green + 0.114 * this._blue ;\r\n            this._red   = l + ( this._red   - l ) * ( 1 - value ) ;\r\n            this._green = l + ( this._green - l ) * ( 1 - value ) ;\r\n            this._blue  = l + ( this._blue  - l ) * ( 1 - value ) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The red component, between 0 and 255.\r\n     * @name r\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @type number\r\n     */\r\n    r :\r\n    {\r\n        get : function() { return this._red ; } ,\r\n        set : function( value )\r\n        {\r\n            this._red = Math.max( Math.min( isNaN(value) ? 0 : value , 0xFF ) , 0 ) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Creates and returns a shallow copy of the object.\r\n     * @return A new object that is a shallow copy of this instance.\r\n     * @name clone\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     */\r\n    clone : { value : function()\r\n    {\r\n        return new RGB( this._red , this._green , this._blue ) ;\r\n    }},\r\n\r\n    /**\r\n     * Transforms the red, green and blue components of the color in this difference color representation.\r\n     * @name difference\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     */\r\n    difference : { value : function()\r\n    {\r\n        this._red   = RGB.maximum - this._red   ;\r\n        this._green = RGB.maximum - this._green ;\r\n        this._blue  = RGB.maximum - this._blue  ;\r\n    }},\r\n\r\n    /**\r\n     * Calculates the distance between two rgb color values.\r\n     * @name distance\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     * @param {graphics.colors.RGB} rgb - The rgb target.\r\n     * @example\r\n     * var rgb = RGB.fromNumber( 0xFFFFFF ) ;\r\n     *\r\n     * trace( rgb.distance( RGB.fromNumber( 0x000000 ) ) ) ; // 195075\r\n     * trace( rgb.distance( RGB.fromNumber( 0xFFEEFF ) ) ) ; // 289\r\n     * trace( rgb.distance( RGB.fromNumber( 0xFFFFFF ) ) ) ; // 0\r\n     *\r\n     * rgb = RGB.fromNumber( 0xFF0000 ) ;\r\n     *\r\n     * trace( rgb.distance( RGB.fromNumber( 0xFF0000 ) ) ) ; // 0\r\n     */\r\n    distance : { value : function( rgb )\r\n    {\r\n        if( !(rgb instanceof RGB) )\r\n        {\r\n            return 0 ;\r\n        }\r\n        return  Math.pow( this._red   - rgb._red   , 2 ) +\r\n                Math.pow( this._green - rgb._green , 2 ) +\r\n                Math.pow( this._blue  - rgb._blue  , 2 ) ;\r\n    }},\r\n\r\n    /**\r\n     * Compares the specified object with this object for equality.\r\n     * @param {object} o - The object to evaluates.\r\n     * @return <code>true</code> if the the specified object is equal with this object.\r\n     * @name equals\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     */\r\n    equals : { value : function( o )\r\n    {\r\n        if ( o === this )\r\n        {\r\n            return true ;\r\n        }\r\n        else if ( o instanceof RGB )\r\n        {\r\n            return this._red === o._red && o._green === this._green && o._blue === this._blue ;\r\n        }\r\n        else\r\n        {\r\n            return false ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Sets the red, green and blue components with the specified number value.\r\n     * @name fromNumber\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     * @param {number} value - The hexadecimal value of the color.\r\n     * @param The current RGB reference.\r\n     */\r\n    fromNumber : { value : function( value )\r\n    {\r\n        let gb ;\r\n        this._red = value >> 16 ;\r\n        gb = value ^ this._red << 16 ;\r\n        this._green  = gb >> 8 ;\r\n        this._blue  = gb^this._green << 8 ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Interpolate the color and returns a new RGB object.\r\n     * @name interpolate\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     * @param {graphics.colors.RGB} to - The RGB reference used to interpolate the current RGB object.\r\n     * @param {number} [level=1] - The level of the interpolation as a decimal, where <code>0</code> is the start and <code>1</code> is the end.\r\n     * @return The interpolate RGB reference of the current color.\r\n     */\r\n    interpolate : { value : function( to , level = 1 )\r\n    {\r\n        let p = Math.max( Math.min( isNaN(level) ? 0 : level , 1 ) , 0 ) ;\r\n        let q = 1 - p ;\r\n        return new RGB\r\n        (\r\n            this._red   * q + to._red   * p ,\r\n            this._green * q + to._green * p ,\r\n            this._blue  * q + to._blue  * p\r\n        ) ;\r\n    }},\r\n\r\n    /**\r\n     * Interpolates the color and returns a number rgb value.\r\n     * @name interpolate\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     * @param {graphics.colors.RGB} to - The RGB reference used to interpolate the current RGB object.\r\n     * @param {number} [level=1] - The level of the interpolation as a decimal, where <code>0</code> is the start and <code>1</code> is the end.\r\n     * @return The interpolate RGB number value of the current color.\r\n     */\r\n    interpolateToNumber : { value : function( to , level = 1 )\r\n    {\r\n        let p = Math.max( Math.min( isNaN(level) ? 0 : level , 1 ) , 0 ) ;\r\n        let q = 1 - p ;\r\n        let r = this._red   * q + to._red   * p ;\r\n        let g = this._green * q + to._green * p ;\r\n        let b = this._blue  * q + to._blue  * p ;\r\n        return (r << 16) | (g << 8) | b ;\r\n    }},\r\n\r\n    /**\r\n     * Sets all tree components of a rgb color.\r\n     * @name setTo\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     * @param {number} [r=0] - The red component, between <code>0</code> and <code>255</code>.\r\n     * @param {number} [g=0] - The green component, between <code>0</code> and <code>255</code>.\r\n     * @param {number} [b=0] - The blue component, between <code>0</code> and <code>255</code>.\r\n     * @return The current RGB reference.\r\n     */\r\n    setTo : { value : function( r = 0 , g = 0 , b = 0 )\r\n    {\r\n        this._red   = r ;\r\n        this._green = g ;\r\n        this._blue  = b ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the full String representation of the color.\r\n     * @name toHexString\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     * @param {string} [prefix=#] - The string prefix of the final expression (default #).\r\n     * @param {boolean} [upper=true] - Indicates if the string result is uppercase.\r\n     * @return the full String representation of the color.\r\n     */\r\n    toHexString : { value : function( prefix = \"#\" , upper = true  )\r\n    {\r\n        return prefix + hex( this._red , upper ) + hex( this._green , upper ) + hex( this._blue , upper);\r\n    }},\r\n\r\n    /**\r\n     * Returns the String representation of the object.\r\n     * @return the String representation of the object.\r\n     * @name toString\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { value : function()\r\n    {\r\n        return \"[RGB r:\" + this._red + \" g:\" + this._green + \" b:\" + this._blue + \" hex:\" + this.toHexString() + \"]\";\r\n    }},\r\n\r\n    /**\r\n     * Returns the real value of the object.\r\n     * @return the real value of the object.\r\n     * @name valueOf\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     */\r\n    valueOf : { writable : true , value : function()\r\n    {\r\n        return (this._red << 16) | (this._green << 8) | this._blue;\r\n    }}\r\n})\r\n","/*jshint bitwise:false*/\r\n\"use strict\" ;\r\n\r\nimport { RGB } from './RGB.js' ;\r\n\r\nimport { hex } from '../../core/colors/toHex.js' ;\r\n//import { littleEndian } from '../../core/maths/littleEndian.js' ;\r\n\r\n/**\r\n * The <code>RGB</code> class encapsulates an rgba color.\r\n * @summary Encapsulates an rgba color.\r\n * @name RGBA\r\n * @class\r\n * @extends graphics.colors.RGB\r\n * @memberof graphics.colors\r\n * @param {number} [r=0] - The red component, between <code>0</code> and <code>255</code>.\r\n * @param {number} [g=0] - The green component, between <code>0</code> and <code>255</code>.\r\n * @param {number} [b=0] - The blue component, between <code>0</code> and <code>255</code>.\r\n * @param {number} [a=0] - The alpha component, between <code>0</code> and <code>1</code>.\r\n */\r\nexport function RGBA( r = 0 , g = 0 , b = 0 , a = 0 )\r\n{\r\n    RGB.call( this , r , g , b ) ;\r\n    Object.defineProperties( this ,\r\n    {\r\n        _alpha : { writable : true , enumerable : true , value : Math.max( Math.min( a , 1 ) , 0 ) }\r\n    }) ;\r\n}\r\n\r\nObject.defineProperties( RGBA ,\r\n{\r\n    /**\r\n     * Returns the RGBA representation of the color number passed in argument.\r\n     * @name fromNumber\r\n     * @memberof graphics.colors.RGBA\r\n     * @function\r\n     * @example\r\n     * var rgb = RGBA.fromNumber( 0xFFEA6F51 ) ;\r\n     * trace(rgb) ; // [RGB r:234 g:111 b:81 a:1 hex:0xFFEA6F51]\r\n     * @param {number} value - The numeric value to create a new RGB instance.\r\n     * @return the RGB representation of the color number passed in argument.\r\n     */\r\n    fromNumber : { value : function( value )\r\n    {\r\n        return (new RGBA()).fromNumber( value ) ;\r\n    }}\r\n}) ;\r\n\r\nRGBA.prototype = Object.create( RGB.prototype ,\r\n{\r\n    /**\r\n     * The alpha component, between 0 and 1.\r\n     * @name a\r\n     * @memberof graphics.colors.RGBA\r\n     * @instance\r\n     * @type number\r\n     */\r\n    a :\r\n    {\r\n        get : function() { return this._alpha ; } ,\r\n        set : function( value )\r\n        {\r\n            this._alpha = Math.max( Math.min( isNaN(value) ? 0 : value , 1 ) , 0 ) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Creates and returns a shallow copy of the object.\r\n     * @return A new object that is a shallow copy of this instance.\r\n     * @name clone\r\n     * @memberof graphics.colors.RGBA\r\n     * @instance\r\n     * @function\r\n     */\r\n    clone : { value : function()\r\n    {\r\n        return new RGBA( this._red , this._green , this._blue , this._alpha ) ;\r\n    }},\r\n\r\n    /**\r\n     * Transforms the alpha, red, green and blue components of the color in this difference color representation.\r\n     * @name difference\r\n     * @memberof graphics.colors.RGBA\r\n     * @instance\r\n     * @function\r\n     */\r\n    difference : { value : function()\r\n    {\r\n        this._red   = 0xFF - this._red   ;\r\n        this._green = 0xFF - this._green ;\r\n        this._blue  = 0xFF - this._blue  ;\r\n        this._alpha = 1    - this._alpha ;\r\n    }},\r\n\r\n    /**\r\n     * Compares the specified object with this object for equality.\r\n     * @param {object} o - The object to evaluates.\r\n     * @return <code>true</code> if the the specified object is equal with this object.\r\n     * @name equals\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     */\r\n    equals : { value : function( o )\r\n    {\r\n        if ( o === this )\r\n        {\r\n            return true ;\r\n        }\r\n        else if ( o instanceof RGBA )\r\n        {\r\n            return this._red === o._red && o._green === this._green && o._blue === this._blue && this._alpha === o._alpha ;\r\n        }\r\n        else\r\n        {\r\n            return false ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Sets the red, green and blue components with the specified number value.\r\n     * @name fromNumber\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     * @param {number} value - The hexadecimal value of the color.\r\n     * @param The current RGB reference.\r\n     */\r\n    fromNumber : { value : function( value )\r\n    {\r\n        this._red   = ((value & 0xff000000) >>> 24);\r\n        this._green = ((value & 0x00ff0000) >>> 16);\r\n        this._blue  = ((value & 0x0000ff00) >>> 8);\r\n        this._alpha = ((value & 0x000000ff)) / 0xFF ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Interpolate the color and returns a new RGBA object.\r\n     * @name interpolate\r\n     * @memberof graphics.colors.RGBA\r\n     * @instance\r\n     * @function\r\n     * @param {graphics.colors.RGBA} to - The RGBA reference used to interpolate the current RGBA object.\r\n     * @param {number} [level=1] - The level of the interpolation as a decimal, where <code>0</code> is the start and <code>1</code> is the end.\r\n     * @return The interpolate RGBA reference of the current color.\r\n     */\r\n    interpolate : { value : function( to , level = 1 )\r\n    {\r\n        let p = Math.max( Math.min( isNaN(level) ? 0 : level , 1 ) , 0 ) ;\r\n        let q = 1 - p ;\r\n        return new RGBA\r\n        (\r\n            this._red   * q + to._red   * p ,\r\n            this._green * q + to._green * p ,\r\n            this._blue  * q + to._blue  * p ,\r\n            this._alpha * q + to._alpha * p\r\n        ) ;\r\n    }},\r\n\r\n    /**\r\n     * Interpolates the color and returns a number rgba value.\r\n     * @name interpolate\r\n     * @memberof graphics.colors.RGBA\r\n     * @instance\r\n     * @function\r\n     * @param {graphics.colors.RGBA} to - The RGB reference used to interpolate the current RGB object.\r\n     * @param {number} [level=1] - The level of the interpolation as a decimal, where <code>0</code> is the start and <code>1</code> is the end.\r\n     * @return The interpolate RGBA number value of the current color.\r\n     */\r\n    interpolateToNumber : { value : function( to , level = 1 )\r\n    {\r\n        let p = Math.max( Math.min( isNaN(level) ? 0 : level , 1 ) , 0 ) ;\r\n        let q = 1 - p ;\r\n        let r = this._red   * q + to._red   * p ;\r\n        let g = this._green * q + to._green * p ;\r\n        let b = this._blue  * q + to._blue  * p ;\r\n        let a = this._alpha * q + to._alpha * p ;\r\n        return (r << 24) | (g << 16) | (b << 8) | a ;\r\n    }},\r\n\r\n    /**\r\n     * Sets all tree components of a rgba color.\r\n     * @name setTo\r\n     * @memberof graphics.colors.RGBA\r\n     * @instance\r\n     * @function\r\n     * @param {number} [r=0] - The red component, between <code>0</code> and <code>255</code>.\r\n     * @param {number} [g=0] - The green component, between <code>0</code> and <code>255</code>.\r\n     * @param {number} [b=0] - The blue component, between <code>0</code> and <code>255</code>.\r\n     * @param {number} [a=0] - The alpha component, between <code>0</code> and <code>1</code>.\r\n     * @return The current RGBA reference.\r\n     */\r\n    setTo : { value : function( r = 0 , g = 0 , b = 0 , a = 0)\r\n    {\r\n        this._red   = Math.max( Math.min( r , 0XFF ) , 0 ) ;\r\n        this._green = Math.max( Math.min( g , 0XFF ) , 0 ) ;\r\n        this._blue  = Math.max( Math.min( b , 0XFF ) , 0 ) ;\r\n        this._alpha = Math.max( Math.min( a , 1    ) , 0 ) ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the full String representation of the color.\r\n     * @name toHexString\r\n     * @memberof graphics.colors.RGBA\r\n     * @instance\r\n     * @function\r\n     * @param {string} [prefix=#] - The string prefix of the final expression (default #).\r\n     * @param {boolean} [upper=true] - Indicates if the string result is uppercase.\r\n     * @return the full String representation of the color.\r\n     */\r\n    toHexString : { value : function( prefix = \"#\" , upper = true  )\r\n    {\r\n        return prefix + hex( this._red , upper ) + hex( this._green , upper ) + hex( this._blue , upper) + hex( this._alpha * 0xFF , upper);\r\n    }},\r\n\r\n    /**\r\n     * Returns the String representation of the object.\r\n     * @return the String representation of the object.\r\n     * @name toString\r\n     * @memberof graphics.colors.RGB\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { value : function()\r\n    {\r\n        return \"[RGBA r:\" + this._red + \" g:\" + this._green + \" b:\" + this._blue + \" a:\" + this._alpha + \"]\";\r\n    }},\r\n\r\n    /**\r\n     * Returns the real value of the object.\r\n     * @return the real value of the object.\r\n     * @name valueOf\r\n     * @memberof graphics.colors.RGBA\r\n     * @instance\r\n     * @function\r\n     */\r\n    valueOf : { writable : true , value : function()\r\n    {\r\n        // let r = this._red  ;\r\n        // let g = this._green ;\r\n        // let b = this._blue  ;\r\n        // let a = this._alpha * 0xFF ;\r\n        // // //return ( (r << 24) | (g << 16) | (b <<  8) | a ) >>> 0 ;\r\n        // // return littleEndian ? ( (a << 24) + (b << 16) + (g <<  8) + r )\r\n        // //                     : ( (r << 24) + (g << 16) + (b <<  8) + a ) ;\r\n        // return (r << 24 | g << 16 | b << 8 | a);\r\n        return parseInt( '0x' + hex( this._red ) + hex( this._green ) + hex( this._blue ) + hex( this._alpha * 0xFF ) ) ; // FIXME\r\n    }}\r\n})\r\n","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { RGB } from './colors/RGB.js' ;\nimport { RGBA } from './colors/RGBA.js' ;\n\n/**\n * The {@link graphics.colors} library is a set of classes and utilities for color operations.\n * @summary The {@link graphics.colors} library is a set of classes and utilities for colors operations.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace graphics.colors\n * @memberof graphics\n */\nexport var colors = Object.assign\n({\n    RGB : RGB,\n    RGBA : RGBA\n}) ;","\"use strict\" ;\n\n/**\n * The {@link graphics.display.StageAspectRatio} enumeration provides values for the Stage.setAspectRatio() method.\n * @summary The {@link graphics.display.StageAspectRatio} enumeration provides values for the Stage.setAspectRatio() method.\n * @name StageAspectRatio\n * @namespace graphics.display.StageAspectRatio\n * @memberof graphics.display\n */\nexport var StageAspectRatio = Object.defineProperties( {} ,\n{\n    /**\n     * Specifies a device orientation that supports both portrait and landscape UI.\n     * @memberof graphics.display.StageDisplayState\n     * @type string\n     * @default any\n     */\n    ANY : { enumerable : true , value : 'any' } ,\n\n    /**\n     * Specifies a device orientation that presents a landscape UI\n     * @memberof graphics.display.StageDisplayState\n     * @type string\n     * @default landscape\n     */\n    LANDSCAPE : { enumerable : true , value : 'landscape' } ,\n\n    /**\n     * Specifies a device orientation that presents a portrait UI\n     * @memberof graphics.display.StageDisplayState\n     * @type string\n     * @default portrait\n     */\n    PORTRAIT : { enumerable : true , value : 'portrait' }\n}) ;\n","\"use strict\" ;\n\n/**\n * The {@link graphics.display.StageDisplayState} enumeration defines the different display state of the stage.\n * @summary The {@link graphics.display.StageDisplayState} enumeration defines the different display state of the stage.\n * @name StageDisplayState\n * @namespace graphics.display.StageDisplayState\n * @memberof graphics.display\n */\nexport var StageDisplayState = Object.defineProperties( {} ,\n{\n    /**\n     * Specifies the \"fullScreen\" value to change the display state of the stage.\n     * @memberof graphics.display.StageDisplayState\n     * @type string\n     * @default fullScreen\n     */\n    FULL_SCREEN : { enumerable : true , value : 'fullScreen' } ,\n\n    /**\n     * Specifies the \"fullScreenInteractive\" value to change the display state of the stage.\n     * @memberof graphics.display.StageDisplayState\n     * @type string\n     * @default fullScreenInteractive\n     */\n    FULL_SCREEN_INTERACTIVE : { enumerable : true , value : 'fullScreenInteractive' } ,\n\n    /**\n     * Specifies the \"normal\" value to change the display state of the stage.\n     * @memberof graphics.display.StageDisplayState\n     * @type string\n     * @default normal\n     */\n    NORMAL : { enumerable : true , value : 'normal' }\n}) ;\n","\"use strict\" ;\n\n/**\n * The {@link graphics.display.StageOrientation} enumeration defines constants enumerating the possible orientations of the stage and the device.\n * @summary The {@link graphics.display.StageOrientation} enumeration defines constants enumerating the possible orientations of the stage and the device.\n * @name StageOrientation\n * @namespace graphics.display.StageOrientation\n * @memberof graphics.display\n */\nexport var StageOrientation = Object.defineProperties( {} ,\n{\n    /**\n     * Specifies that the stage is currently in the default orientation of the device (right-side up).\n     * @name DEFAULT\n     * @memberof graphics.display.StageOrientation\n     * @type string\n     * @default default\n     * @const\n     */\n    DEFAULT : { enumerable : true , value : 'default' } ,\n\n    /**\n     * Specifies that the stage is currently rotated left relative to the default orientation.\n     * @name ROTATED_LEFT\n     * @memberof graphics.display.StageOrientation\n     * @type string\n     * @default rotatedLeft\n     * @const\n     */\n    ROTATED_LEFT : { enumerable : true , value : 'rotatedLeft' } ,\n\n    /**\n     * Specifies that the stage is currently rotated right relative to the default orientation.\n     * @name ROTATED_RIGHT\n     * @memberof graphics.display.StageOrientation\n     * @type string\n     * @default rotatedRight\n     * @const\n     */\n    ROTATED_RIGHT : { enumerable : true , value : 'rotatedRight' } ,\n\n    /**\n     * Specifies that the device has not determined an orientation. This state can occur when the device is lying flat on a table and also while the application is initializing.\n     * @name UNKNOWN\n     * @memberof graphics.display.StageOrientation\n     * @type string\n     * @default unknown\n     * @const\n     */\n    UNKNOWN : { enumerable : true , value : 'unknown' } ,\n\n    /**\n     * Specifies that the stage is currently upside down relative to the default orientation.\n     * @name UPSIDE_DOWN\n     * @memberof graphics.display.StageOrientation\n     * @type string\n     * @default upsideDown\n     * @const\n     */\n    UPSIDE_DOWN : { enumerable : true , value : 'upsideDown' }\n}) ;\n","/* jshint -W086 */\n\"use strict\" ;\n\nimport { Signal }            from '../../system/signals/Signal.js' ;\nimport { StageAspectRatio }  from './StageAspectRatio.js' ;\nimport { StageDisplayState } from './StageDisplayState.js' ;\nimport { StageOrientation }  from './StageOrientation.js' ;\n\n/**\n * Get the stage informations.\n * @summary Get the stage informations.\n * @name Stage\n * @class\n * @memberof graphics.display\n */\nexport function Stage()\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * This signal emit when fullscreen state is changed.\n         * @name fullScreen\n         * @memberof graphics.display.Stage\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        fullScreen : { value : new Signal() },\n\n        /**\n         * This signal emit when the orientation is changed.\n         * @name orientationChange\n         * @memberof graphics.display.Stage\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        orientationChange : { value : new Signal() },\n\n        /**\n         * This signal emit when the stage is resized.\n         * @name resize\n         * @memberof graphics.display.Stage\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        resize : { value : new Signal() },\n\n        /**\n         * @private\n         */\n        _allowFullScreen : { writable : true  , value : false } ,\n\n        /**\n         * @private\n         */\n        _aspectRatio : { writable : true  , value : StageAspectRatio.ANY } ,\n\n        /**\n         * @private\n         */\n        _displayState : { writable : true  , value : StageDisplayState.NORMAL } ,\n\n        /**\n         * @private\n         */\n        _fullScreenExit : { writable : true  , value : null } ,\n\n        /**\n         * @private\n         */\n        _fullScreenHeight : { writable : true  , value : null } ,\n\n        /**\n         * @private\n         */\n        _fullScreenInteractive : { writable : true  , value : false } ,\n\n        /**\n         * @private\n         */\n        _fullScreenRequest : { writable : true  , value : null } ,\n\n        /**\n         * @private\n         */\n        _fullScreenWidth : { writable : true  , value : null } ,\n\n        /**\n         * @private\n         */\n        _height : { writable : true  , value : null } ,\n\n        /**\n         * @private\n         */\n        _launchedFromHomeScreen : { writable : true  , value : false } ,\n\n        /**\n         * @private\n         */\n        _orientation : { writable : true  , value : StageOrientation.UNKNOWN } ,\n\n        /**\n         * @private\n         */\n        _pixelRatio : { writable : true  , value : 1 } ,\n\n        /**\n         * @private\n         */\n        _supportedOrientations : { writable : true  , value : null } ,\n\n        /**\n         * @private\n         */\n        _supportsOrientationChange : { writable : true  , value : false } ,\n\n        /**\n         * @private\n         */\n        _width : { writable : true  , value : null }\n    });\n\n    this.__initialize__() ;\n}\n\nStage.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Stage } ,\n\n    /**\n     * Get if the stage allow fullScreen\n     * @name allowFullScreen\n     * @memberof graphics.display.Stage\n     * @type {boolean}\n     * @instance\n     * @readonly\n     */\n    allowFullScreen : { get : function() { return this._allowFullScreen ; } } ,\n\n    /**\n     * Get if the stage allow fullScreen with text input\n     * @name allowFullScreenInteractive\n     * @memberof graphics.display.Stage\n     * @type {boolean}\n     * @instance\n     * @readonly\n     */\n    allowFullScreenInteractive : { get : function() { return this._fullScreenInteractive ; } } ,\n\n    /**\n     * Get the stage aspect ratio\n     * @name aspectRatio\n     * @memberof graphics.display.Stage\n     * @instance\n     * @readonly\n     */\n    aspectRatio : { get : function() { return this._aspectRatio ; } } ,\n\n    /**\n     * A value from the {@link graphics.display.StageDisplayState|StageDisplayState} enumeration that specifies which display state to use.\n     * <p>The following are valid values:\n     * <ul>\n     * <li><code>StageDisplayState.FULL_SCREEN</code> Sets application or content to expand the stage over the user's entire screen. Keyboard input is disabled, with the exception of a limited set of non-printing keys.</li>\n     * <li><code>StageDisplayState.FULL_SCREEN_INTERACTIVE</code> Sets the application to expand the stage over the user's entire screen, with keyboard input allowed.</li>\n     * <li><code>StageDisplayState.NORMAL</code> Sets the stage back to the standard stage display mode.</li>\n     * </ul>\n     * </p>\n     * @name displayState\n     * @memberof graphics.display.Stage\n     * @instance\n     */\n    displayState :\n    {\n        get : function()\n        {\n            return this._displayState ;\n        },\n        set : function( state )\n        {\n            if( this._displayState !== state )\n            {\n                this._displayState = state ;\n                switch( this._displayState )\n                {\n                    case StageDisplayState.FULL_SCREEN :\n                    {\n                        document.documentElement[ this._fullScreenRequest ]();\n                        break ;\n                    }\n                    case StageDisplayState.FULL_SCREEN_INTERACTIVE :\n                    {\n                        document.documentElement[ this._fullScreenRequest ]( Element.ALLOW_KEYBOARD_INPUT );\n                        break ;\n                    }\n                    case StageDisplayState.NORMAL :\n                    default :\n                    {\n                        document[ this._fullScreenExit ]();\n                        break ;\n                    }\n                }\n\n                this.notifyFullScreen( this._displayState );\n            }\n        }\n    } ,\n\n    /**\n     * Indicates the fullScreen height of the stage.\n     * @name fullScreenHeight\n     * @memberof graphics.display.Stage\n     * @readonly\n     * @instance\n     */\n    fullScreenHeight : { get : function() { return this._fullScreenHeight ; } } ,\n\n    /**\n     * Indicates the fullScreen width of the stage.\n     * @name fullScreenWidth\n     * @memberof graphics.display.Stage\n     * @readonly\n     * @instance\n     */\n    fullScreenWidth : { get : function() { return this._fullScreenWidth ; } } ,\n\n    /**\n     * Indicates the height value of the stage.\n     * @return The height of the stage\n     * @name height\n     * @memberof graphics.display.Stage\n     * @readonly\n     * @instance\n     */\n    height : { get : function() { return this._height ; } } ,\n\n    /**\n     * Indicates if app is launched from the Home Screen.\n     * @name launchedFromHomeScreen\n     * @type {boolean}\n     * @memberof graphics.display.Stage\n     * @readonly\n     * @instance\n     */\n    launchedFromHomeScreen : { get : function() { return this._launchedFromHomeScreen ; } } ,\n\n    /**\n     * Indicates the orientation of the stage.\n     * @name orientation\n     * @memberof graphics.display.Stage\n     * @readonly\n     * @instance\n     */\n    orientation : { get : function() { return this._orientation ; } } ,\n\n    /**\n     * Indicates the pixelRatio of the stage.\n     * @name pixelRatio\n     * @memberof graphics.display.Stage\n     * @readonly\n     * @instance\n     */\n    pixelRatio : { get : function() { return this._pixelRatio ; } } ,\n\n    /**\n     * Indicates the width value of the stage.\n     * @name width\n     * @memberof graphics.display.Stage\n     * @instance\n     */\n    width : { get : function() { return this._width ; } } ,\n\n    /**\n     * Get orientation of the current screen window.\n     * @name getDeviceOrientation\n     * @memberof graphics.display.Stage\n     * @function\n     * @instance\n     */\n    getDeviceOrientation : { writable : true , value : function()\n    {\n        if( window.screen.orientation && window.screen.orientation.type )\n        {\n            switch ( window.screen.orientation.type )\n            {\n                case 'portrait-secondary' :\n                {\n                    this._orientation = StageOrientation.UPSIDE_DOWN;\n                    this._aspectRatio = StageAspectRatio.PORTRAIT;\n                    break;\n                }\n                case 'landscape-primary' :\n                {\n                    this._orientation = StageOrientation.ROTATED_LEFT;\n                    this._aspectRatio = StageAspectRatio.LANDSCAPE;\n                    break;\n                }\n                case 'landscape-secondary' :\n                {\n                    this._orientation = StageOrientation.ROTATED_RIGHT;\n                    this._aspectRatio = StageAspectRatio.LANDSCAPE;\n                    break;\n                }\n                case 'portrait-primary' :\n                default :\n                {\n                    this._orientation = StageOrientation.DEFAULT;\n                    this._aspectRatio = StageAspectRatio.PORTRAIT;\n                    break;\n                }\n            }\n        }\n        else if( window.orientation !== undefined )\n        {\n            switch ( window.orientation )\n            {\n                case 180 :\n                {\n                    this._orientation = StageOrientation.UPSIDE_DOWN;\n                    this._aspectRatio = StageAspectRatio.PORTRAIT;\n                    break ;\n                }\n                case 90:\n                {\n                    this._orientation = StageOrientation.ROTATED_LEFT;\n                    this._aspectRatio = StageAspectRatio.LANDSCAPE;\n                    break ;\n                }\n                case -90:\n                {\n                    this._orientation = StageOrientation.ROTATED_RIGHT;\n                    this._aspectRatio = StageAspectRatio.LANDSCAPE;\n                    break ;\n                }\n                case 0  :\n                default :\n                {\n                    this._orientation = StageOrientation.DEFAULT;\n                    this._aspectRatio = StageAspectRatio.PORTRAIT;\n                }\n            }\n        }\n    }},\n\n    /**\n     * Get viewport size of the current browser window. This command only works on desktop browser or in a mobile environment with a webview enabled.\n     * @name getViewportSize\n     * @memberof graphics.display.Stage\n     * @function\n     * @instance\n     */\n    getViewportSize : { writable : true , value : function()\n    {\n        this._width  = Math.max( document.documentElement.clientWidth  , window.innerWidth  || 0 );\n        this._height = Math.max( document.documentElement.clientHeight , window.innerHeight || 0 );\n        return { width : this._width , height : this._height } ;\n    }},\n\n    /**\n     * Notify when the stage change state to fullscreen or normal.\n     * @name notifyFullScreen\n     * @memberof graphics.display.Stage\n     * @function\n     * @instance\n     */\n    notifyFullScreen : { writable : true , value : function()\n    {\n        this.fullScreen.emit( this._displayState , this ) ;\n    }},\n\n    /**\n     * Notify when the orientation is changed.\n     * @name notifyOrientationChange\n     * @memberof graphics.display.Stage\n     * @function\n     * @instance\n     */\n    notifyOrientationChange : { writable : true , value : function()\n    {\n        this.getDeviceOrientation();\n        this.orientationChange.emit( this ) ;\n    }},\n\n    /**\n     * Notify when the stage is resized.\n     * @name notifyResized\n     * @memberof graphics.display.Stage\n     * @function\n     * @instance\n     */\n    notifyResized : { writable : true , value : function()\n    {\n        this.getViewportSize();\n        this.resize.emit( this ) ;\n    }},\n\n    /**\n     * Initialize the internal Stage informations.\n     * @private\n     */\n    __initialize__ : { writable : true , value : function()\n    {\n        // FIXME : throw a specific Error if the window/document/dom elements don't exist !\n\n        // -------- Check if application is launched from the Home Screen\n\n        if( navigator.standalone === true || window.matchMedia('(display-mode: standalone)').matches )\n        {\n            this._launchedFromHomeScreen = true;\n        }\n\n        // --------\n\n        this._pixelRatio = window.devicePixelRatio || 1;\n\n        // --------\n\n        this.getViewportSize();\n\n        this._fullScreenWidth  = window.screen.width;\n        this._fullScreenHeight = window.screen.height;\n\n        //this._fullScreenWidth = window.screen.availWidth;\n        //this._fullScreenHeight = window.screen.availHeight;\n\n        // --------\n\n        if( window.orientation || window.screen.orientation )\n        {\n            this._supportsOrientationChange = true;\n            this.getDeviceOrientation();\n        }\n        else\n        {\n            this._supportsOrientationChange = false;\n        }\n\n        // --------\n\n        let fullscreen =\n        [\n            'requestFullscreen',\n            'requestFullScreen',\n            'webkitRequestFullscreen',\n            'webkitRequestFullScreen',\n            'msRequestFullscreen',\n            'msRequestFullScreen',\n            'mozRequestFullScreen',\n            'mozRequestFullscreen'\n        ];\n\n        let cancel =\n        [\n            'cancelFullScreen',\n            'exitFullscreen',\n            'webkitCancelFullScreen',\n            'webkitExitFullscreen',\n            'msCancelFullScreen',\n            'msExitFullscreen',\n            'mozCancelFullScreen',\n            'mozExitFullscreen'\n        ];\n\n        let len = fullscreen.length  ;\n        for( let i = 0 ; i < len ; i++ )\n        {\n            if( document.documentElement[fullscreen[i]] && document[cancel[i]] )\n            {\n                this._allowFullScreen   = true ;\n                this._fullScreenRequest = fullscreen[i];\n                this._fullScreenExit    = cancel[i];\n                break;\n            }\n        }\n\n        // -------- Keyboard Input ?\n\n        if( window.Element && Element.ALLOW_KEYBOARD_INPUT )\n        {\n            this._fullScreenInteractive = true;\n        }\n\n        // -------- Behaviors\n\n        if( this._allowFullScreen === true )\n        {\n            window.addEventListener( \"fullscreenchange\"  , this.notifyFullScreen.bind( this )      , false );\n        }\n\n        if( this._supportsOrientationChange === true )\n        {\n            window.addEventListener( \"orientationchange\" , this.notifyOrientationChange.bind(this) , false ) ;\n        }\n\n        window.addEventListener( \"resize\" , this.notifyResized.bind( this ) , false );\n    }}\n});\n","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { Stage }             from './display/Stage.js' ;\nimport { StageAspectRatio }  from './display/StageAspectRatio.js' ;\nimport { StageDisplayState } from './display/StageDisplayState.js' ;\nimport { StageOrientation }  from './display/StageOrientation.js' ;\n\n/**\n * The {@link graphics.display} library is a set of classes and utilities for display Operations.\n * @summary The {@link graphics.display} library is a set of classes and utilities for Geometry Operations.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace graphics.display\n * @memberof graphics\n */\nexport var display = Object.assign\n({\n    Stage             : Stage,\n    StageAspectRatio  : StageAspectRatio,\n    StageDisplayState : StageDisplayState,\n    StageOrientation  : StageOrientation\n}) ;\n","\"use strict\" ;\r\n\r\nimport { floor } from '../../core/maths/floor.js' ;\r\nimport { gcd } from '../../core/maths/gcd.js' ;\r\nimport { isInt } from '../../core/isInt.js' ;\r\n\r\nimport { Dimension } from './Dimension.js' ;\r\n\r\n/**\r\n * The AspectRatio object encapsulates the width and height components of an object.\r\n * @summary The AspectRatio object encapsulates the width and height components of an object.\r\n * @name AspectRatio\r\n * @memberof graphics.geom\r\n * @extends graphics.geom.Dimension\r\n * @class\r\n * @constructs\r\n * @param {number} [width=0] - The width value.\r\n * @param {number} [height=0] - The height value.\r\n * @param {boolean} [lock=false] - This flag indicates if the aspect ratio must be keeped when the width or height values changes.\r\n * @param {boolean} [verbose=false] - This flag indicates if the <code>toString</code> method is verbose or not.\r\n */\r\nexport function AspectRatio( width = 0 , height = 0 , lock = false , verbose = false )\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * @private\r\n         */\r\n        _aspW : { value : 0 , writable : true } ,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _aspH : { value : 0 , writable : true } ,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _gcd : { value : 0 , writable : true } ,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _h : { value : isInt(height) ? height : 0 , writable : true } ,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        __lock__ : { value : lock === true , writable : true } ,\r\n\r\n        /**\r\n         * The verbose mode of the class used in the <code>toString()</code> method.\r\n         * @name verbose\r\n         * @memberof graphics.geom.AspectRatio\r\n         * @instance\r\n         * @type Boolean\r\n         * @default false\r\n         */\r\n        verbose : { value : verbose === true , writable : true } ,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _w : { value : isInt(width) ? width : 0 , writable : true }\r\n    });\r\n    this._GCD() ;\r\n}\r\n\r\nAspectRatio.prototype = Object.create( Dimension.prototype ,\r\n{\r\n    constructor : { writable : true , value : AspectRatio },\r\n\r\n    /**\r\n     * Determinates the greatest common divisor if the current object.\r\n     * <p>This property cast the width and the height Number in two int objects to calculate the value.</p>\r\n     * @name gcd\r\n     * @memberof graphics.geom.AspectRatio\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    gcd : { get : function() { return this._gcd ; } },\r\n\r\n    /**\r\n     * The height value, in pixels.\r\n     * @name height\r\n     * @memberof graphics.geom.AspectRatio\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    height :\r\n    {\r\n        get : function() { return this._h } ,\r\n        set : function( value )\r\n        {\r\n            this._h = isInt(value) ? value : 0 ;\r\n            if ( this.__lock__ )\r\n            {\r\n                this._w = floor(this._h * this._aspW / this._aspH,0) ;\r\n            }\r\n            else\r\n            {\r\n                this._GCD() ;\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The width  value, in pixels.\r\n     * @name width\r\n     * @memberof graphics.geom.AspectRatio\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    width :\r\n    {\r\n        get : function() { return this._w } ,\r\n        set : function( value )\r\n        {\r\n            this._w = isInt(value) ? value : 0 ;\r\n            if ( this.__lock__ )\r\n            {\r\n                this._h = floor(this._w * this._aspH / this._aspW,0) ;\r\n            }\r\n            else\r\n            {\r\n                this._GCD() ;\r\n            }\r\n        }\r\n    } ,\r\n\r\n    /**\r\n     * Returns a shallow copy of the object.\r\n     * @return a shallow copy of the object.\r\n     * @name clone\r\n     * @memberof graphics.geom.AspectRatio\r\n     * @instance\r\n     * @function\r\n     */\r\n    clone : { writable : true , value : function()\r\n    {\r\n        return new AspectRatio( this.width , this.height , this.__lock__ ) ;\r\n    }},\r\n\r\n    /**\r\n     * Copies all of data from the source AspectRatio object into the calling AspectRatio object.\r\n     * @name copyFrom\r\n     * @memberof graphics.geom.AspectRatio\r\n     * @instance\r\n     * @function\r\n     */\r\n    copyFrom : { value : function( source )\r\n    {\r\n        this.width  = source.width ;\r\n        this.height = source.height ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Returns <code>true</code> if the object is locked.\r\n     * @return <code>true</code> if the object is locked.\r\n     * @name isLocked\r\n     * @memberof graphics.geom.AspectRatio\r\n     * @function\r\n     * @instance\r\n     */\r\n    isLocked : { writable : true , value : function()\r\n    {\r\n        return this.__lock__ ;\r\n    }},\r\n\r\n    /**\r\n     * Locks the object.\r\n     * @name lock\r\n     * @memberof graphics.geom.AspectRatio\r\n     * @function\r\n     * @instance\r\n     */\r\n    lock : { writable : true , value : function()\r\n    {\r\n        this.__lock__ = true ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the string representation of this object.\r\n     * @return the string representation of this object.\r\n     * @memberof graphics.geom.AspectRatio\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { writable : true , value : function()\r\n    {\r\n        if( this.verbose === true )\r\n        {\r\n            return \"[AspectRatio width:\" + this._w + \" height:\" + this._h + \" ratio:[\" + this._aspW + \":\" + this._aspH + \"]]\" ;\r\n        }\r\n        else\r\n        {\r\n            this.verbose = false ;\r\n            return this._aspW + \":\" + this._aspH ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Unlocks the object.\r\n     * @name unlock\r\n     * @memberof graphics.geom.AspectRatio\r\n     * @function\r\n     * @instance\r\n     */\r\n    unlock : { writable : true , value : function()\r\n    {\r\n        this.__lock__ = false ;\r\n    }},\r\n\r\n    /**\r\n     * @private\r\n     */\r\n    _GCD : { value : function()\r\n    {\r\n        this._gcd = gcd( this._w , this._h ) ;\r\n\r\n        this._aspW = floor( this._w / this._gcd , 0 ) ;\r\n        this._aspH = floor( this._h / this._gcd , 0 ) ;\r\n\r\n        if( isNaN(this._aspW) )\r\n        {\r\n            this._aspW = 0 ;\r\n        }\r\n\r\n        if( isNaN(this._aspH) )\r\n        {\r\n            this._aspH = 0 ;\r\n        }\r\n    }}\r\n});","\"use strict\" ;\r\n\r\nimport { distance } from '../../core/maths/distance.js'\r\n\r\nimport { Rectangle } from './Rectangle.js' ;\r\nimport { Point }     from './Point.js' ;\r\nimport { Vector2D }  from './Vector2D.js' ;\r\n\r\n/**\r\n * The Circle class represents a simple circle definition in a two-dimensional coordinate system, where x represents the horizontal center coordinate and y represents the vertical center coordinate.\r\n * @summary A simple circle definition in a two-dimensional coordinate system.\r\n * @name Circle\r\n * @memberof graphics.geom\r\n * @extends graphics.geom.Vector2D\r\n * @class\r\n * @param {number} [x=0] - The x value of the object.\r\n * @param {number} [y=0] - The y value of the object.\r\n * @param {number} [radius=0] - The radius value of the object.\r\n */\r\nexport function Circle( x = 0 , y = 0 , radius = 0 )\r\n{\r\n    Vector2D.call(this,x,y);\r\n    Object.defineProperties( this ,\r\n    {\r\n        _diameter      : { value : 0 , writable : true } ,\r\n        _radius        : { value : radius > 0 ? radius : 0 , writable : true } ,\r\n        _radiusSquared : { value : 0 , writable : true }\r\n    });\r\n    this._diameter = 2 * this._radius ;\r\n    this._radiusSquared = this._radius * this._radius ;\r\n}\r\n\r\nCircle.prototype = Object.create( Vector2D.prototype ,\r\n{\r\n    constructor : { writable : true , value : Circle },\r\n\r\n    /**\r\n     * The area of the circle.\r\n     * @name area\r\n     * @memberof graphics.geom.Circle\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    area : { get : function()\r\n    {\r\n        return ( this._radius > 0 ) ? (Math.PI * this._radius * this._radius) : 0 ;\r\n    }} ,\r\n\r\n    /**\r\n     * The bottom value of the circle.\r\n     * @name bottom\r\n     * @memberof graphics.geom.Circle\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    bottom : { get : function() { return this.y + this._radius ; } } ,\r\n\r\n    /**\r\n     * The circumference of the circle.\r\n     * @name circumference\r\n     * @memberof graphics.geom.Circle\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    circumference : { get : function() { return 2 * Math.PI * this._radius ; }} ,\r\n\r\n    /**\r\n     * The diameter value of the circle.\r\n     * @name diameter\r\n     * @memberof graphics.geom.Circle\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    diameter :\r\n    {\r\n        get : function() { return this._diameter } ,\r\n        set : function( value )\r\n        {\r\n            this._diameter = value > 0 ? value : 0 ;\r\n            this._radius = this._diameter * 0.5 ;\r\n            this._radiusSquared = this._radius * this._radius ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The left value of the circle.\r\n     * @name left\r\n     * @memberof graphics.geom.Circle\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    left : { get : function() { return this.x - this._radius ; } } ,\r\n\r\n    /**\r\n     * The radius value of the circle.\r\n     * @name radius\r\n     * @memberof graphics.geom.Circle\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    radius :\r\n    {\r\n        get : function() { return this._radius } ,\r\n        set : function( value )\r\n        {\r\n            this._radius = value > 0 ? value : 0 ;\r\n            this._diameter = 2 * this._radius ;\r\n            this._radiusSquared = this._radius * this._radius ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The radius squared value of the circle.\r\n     * @name radiusSquared\r\n     * @memberof graphics.geom.Circle\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    radiusSquared : { get : function() { return this._radiusSquared ; }} ,\r\n\r\n    /**\r\n     * The right value of the circle.\r\n     * @name right\r\n     * @memberof graphics.geom.Circle\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    right : { get : function() { return this.x + this._radius ; } } ,\r\n\r\n    /**\r\n     * The top value of the circle.\r\n     * @name top\r\n     * @memberof graphics.geom.Circle\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    top : { get : function() { return this.y - this._radius ; } } ,\r\n\r\n    /**\r\n     * Returns a circumference point on the circle with a specific angle.\r\n     * @return circumference point on the circle with a specific angle.\r\n     * @name circumferencePoint\r\n     * @memberof graphics.geom.Circle\r\n     * @instance\r\n     * @function\r\n     * @param {number} angle - The angle in radian to find the point on a circle.\r\n     * @param {graphics.geom.Vector2|Vector2D} [point=null] - The optional point to populates (if null a new Vector2D instance is created).\r\n     */\r\n    circumferencePoint : { value : function( angle , point = null)\r\n    {\r\n        if( !point )\r\n        {\r\n            point = new Point() ;\r\n        }\r\n\r\n        point.x = this.x + this._radius * Math.cos(angle);\r\n        point.y = this.y + this._radius * Math.sin(angle);\r\n\r\n        return point ;\r\n    }} ,\r\n\r\n    /**\r\n     * Returns a shallow copy of the object.\r\n     * @return a shallow copy of the object.\r\n     * @name clone\r\n     * @memberof graphics.geom.Circle\r\n     * @instance\r\n     * @function\r\n     */\r\n    clone : { writable : true , value : function()\r\n    {\r\n        return new Circle( this.x , this.y , this.radius ) ;\r\n    }},\r\n\r\n    /**\r\n     * Indicates if the specific x,y position is inside the circle.\r\n     * @return <code>true</code> if the x,y position is inside the circle.\r\n     * @name contains\r\n     * @memberof graphics.geom.Circle\r\n     * @instance\r\n     * @function\r\n     * @param {number} x - The x value of the coordinate to check.\r\n     * @param {number} y - The y value of the coordinate to check.\r\n     */\r\n    contains : { writable : true , value : function( x , y )\r\n    {\r\n        if( this._radius <= 0 ||\r\n            x < (this.x - this._radius) || // left\r\n            x > (this.x + this._radius) || // right\r\n            y < (this.y - this._radius) || // top\r\n            y > (this.y + this._radius)    // bottom\r\n        )\r\n        {\r\n            return false ;\r\n        }\r\n        else\r\n        {\r\n            let dx = (this.x - x) * (this.x - x);\r\n            let dy = (this.y - y) * (this.y - y);\r\n            return (dx + dy) <= this._diameter ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Copies all of vector data from the source Circle object into the calling Circle object.\r\n     * @param {graphics.geom.Circle} source - The Circle object from which to copy the data.\r\n     * @return The current {@link graphics.geom.Circle} reference.\r\n     * @name copyFrom\r\n     * @memberof graphics.geom.Circle\r\n     * @instance\r\n     * @function\r\n     */\r\n    copyFrom : { writable : true , value : function( source )\r\n    {\r\n        if( !(source instanceof Circle) )\r\n        {\r\n            throw TypeError( this + ' copyFrom failed, the passed-in source argument must be an Circle object.' ) ;\r\n        }\r\n        this.x = source.x ;\r\n        this.y = source.y ;\r\n        this.radius = source.radius ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Compares the passed-in object with this object for equality.\r\n     * @return {boolean} <code>true</code> if the the specified object is equal with this object.\r\n     * @name equals\r\n     * @memberof graphics.geom.Circle\r\n     * @instance\r\n     * @function\r\n     */\r\n    equals : { writable : true , value : function( o )\r\n    {\r\n        if ( o instanceof Circle )\r\n        {\r\n            return o.x === this.x && o.y === this.y && o.radius === this.radius ;\r\n        }\r\n        else\r\n        {\r\n            return false ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Returns a {graphics.geom.Rectangle|Rectangle} area of the circle.\r\n     * @return A {graphics.geom.Rectangle|Rectangle} area of the circle.\r\n     * @name getBounds\r\n     * @memberof graphics.geom.Circle\r\n     * @instance\r\n     * @function\r\n     */\r\n    getBounds : { writable : true , value : function()\r\n    {\r\n        return new Rectangle\r\n        (\r\n            this.x - this._radius ,\r\n            this.y - this._radius ,\r\n            this._diameter ,\r\n            this._diameter\r\n        ) ;\r\n    }},\r\n\r\n    /**\r\n     * Determines whether the object specified in the toIntersect parameter intersects with this Circle object.\r\n     * @param {*} toIntersect - The object to compare against this Circle object.\r\n     * @return {boolean} A value of true if the specified object intersects with this Circle object; otherwise false.\r\n     * @memberof graphics.geom.Circle\r\n     * @function\r\n     * @instance\r\n     */\r\n    intersects : { value : function( toIntersect )\r\n    {\r\n        if( toIntersect instanceof Circle )\r\n        {\r\n            return distance(this.x, this.y, toIntersect.x, toIntersect.y) <= (this.radius + this.radius) ;\r\n        }\r\n        else if( toIntersect instanceof Rectangle )\r\n        {\r\n            let hw = Math.round(toIntersect.width*0.5);\r\n            let cx = Math.abs( this.x - toIntersect.x - hw );\r\n            if ( cx > (hw + this.radius) )\r\n            {\r\n                return false;\r\n            }\r\n\r\n            let hh = Math.round(toIntersect.height*0.5);\r\n            let cy = Math.abs( this.y - toIntersect.y - hh );\r\n            if ( cy > (hh + this.radius) )\r\n            {\r\n                return false;\r\n            }\r\n\r\n            if (cx <= hw || cy <= hh )\r\n            {\r\n                return true;\r\n            }\r\n\r\n            let dx = cx - hw ;\r\n            let dy = cy - hh ;\r\n            return (dx * dx) + (dy * dy) <= this._radiusSquared ;\r\n        }\r\n\r\n        return false ;\r\n    }},\r\n\r\n    /**\r\n     * Calculates the result of the typical equation for a circle metaball.\r\n     * <p>Metaballs are, in computer graphics, organic-looking n-dimensional objects. The technique for rendering metaballs was invented by Jim Blinn in the early 1980s.</p>\r\n     * <p>Each metaball is defined as a function in n-dimensions (ie. for three dimensions, f(x,y,z); three-dimensional metaballs tend to be most common, with two-dimensional implementations as well). A thresholding value is also chosen, to define a solid volume.</p>\r\n     * @name metaball\r\n     * @instance\r\n     * @function\r\n     * @memberof graphics.geom.Circle\r\n     * @example\r\n     * var bgColor = '#333333' ;\r\n     * var color   = '#FF0000' ;\r\n     *\r\n     * var area   = new Rectangle( 0 , 0 , 340 , 260 ) ;\r\n     * var spot   = new Circle( area.x + (area.width/2) , area.y + (area.height / 2) , 60 ) ;\r\n     *\r\n     * var metaballs =\r\n     * [\r\n     *     new Circle(  20 ,  20 , 10 ) ,\r\n     *     new Circle(  70 ,  80 , 30 ) ,\r\n     *     new Circle( 250 , 100 , 35 ) ,\r\n     *     new Circle( 220 , 130 , 30 ) ,\r\n     *     new Circle( 60  , 180 , 20 ) ,\r\n     *     new Circle( 90  , 200 , 25 ) ,\r\n     *     spot\r\n     * ];\r\n     *\r\n     * var canvas = document.getElementById('canvas') ;\r\n     * var context = canvas.getContext('2d');\r\n     *\r\n     * canvas.width  = area.width;\r\n     * canvas.height = area.height ;\r\n     *\r\n     * // ----- render\r\n     *\r\n     * var maxThreshold = 4 ;\r\n     * var minThreshold = 3 ;\r\n     *\r\n     * var cpt = 0 ;\r\n     * var i   = 0 ;\r\n     * var tx  = 0 ;\r\n     * var ty  = 0 ;\r\n     *\r\n     * var len = metaballs.length ;\r\n     *\r\n     * var render = function()\r\n     * {\r\n     *     context.clearRect(0, 0, area.width, area.height );\r\n     *\r\n     *     context.fillStyle = bgColor ;\r\n     *     context.fillRect(0, 0, area.width, area.height );\r\n     *\r\n     *     cpt = 0 ;\r\n     *\r\n     *     for( tx = 0 ; tx < area.width ; tx++ )\r\n     *     {\r\n     *         for( ty = 0 ; ty < area.height ; ty++ )\r\n     *         {\r\n     *             cpt = 0 ;\r\n     *             for( i = 0 ; i < len ; i++ )\r\n     *             {\r\n     *                 cpt += metaballs[i].metaball( tx , ty ) ;\r\n     *             }\r\n     *             if( cpt >= minThreshold && cpt <= maxThreshold)\r\n     *             {\r\n     *                 context.fillStyle = color ;\r\n     *                 context.fillRect( tx , ty , 1 , 1 ) ;\r\n     *             }\r\n     *         }\r\n     *     }\r\n     *\r\n     *     window.requestAnimationFrame( render ) ;\r\n     * }\r\n     *\r\n     * var move = function( event )\r\n     * {\r\n     *     spot.x = event.clientX ;\r\n     *     spot.y = event.clientY ;\r\n     * }\r\n     *\r\n     * canvas.addEventListener( \"mousemove\", move ) ;\r\n     *\r\n     * render() ;\r\n     * @param {number} tx - The x value of the coordinate to check.\r\n     * @param {number} ty - The y value of the coordinate to check.\r\n     */\r\n    metaball : { value : function( tx , ty )\r\n    {\r\n        return this._radiusSquared / ( ( this.x - tx ) * ( this.x - tx) + ( this.y - ty ) * ( this.y - ty ) ) ;\r\n    }},\r\n\r\n    /**\r\n     * Sets the horizontal and vertical coordinates of this object. If the <code>x</code>, the <code>y</code> and the <code>radius</code> parameters are <code>NaN</code> or <code>null</code> the <b>x</b>, <b>y</b> and <b>radius</b> value are <code>0</code>.\r\n     * @param {number} [x=0] - The horizontal coordinate of the circle.\r\n     * @param {number} [y=0] - The vertical coordinate of the circle.\r\n     * @param {number} [radius=0] - The radius of the circle.\r\n     * @name setTo\r\n     * @instance\r\n     * @function\r\n     * @memberof graphics.geom.Circle\r\n     */\r\n    setTo : { writable : true , value : function( x = 0 , y = 0 , radius = 0 )\r\n    {\r\n        this.x = isNaN(x) ? 0 : x ;\r\n        this.y = isNaN(y) ? 0 : y ;\r\n        this.radius = radius > 0 ? radius : 0 ;\r\n    }},\r\n\r\n    /**\r\n     * Translate the horizontal and the vertical coordinates of this object.\r\n     * @param {number} x - The value to increment the horizontal coordinate of the circle.\r\n     * @param {number} y - The value to increment the vertical coordinate of the circle.\r\n     * @name translate\r\n     * @instance\r\n     * @function\r\n     * @memberof graphics.geom.Circle\r\n     */\r\n    translate : { writable : true , value : function( x , y )\r\n    {\r\n        this.x += x ;\r\n        this.y += y ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the Object representation of this object.\r\n     * @return the Object representation of this object.\r\n     * @name toObject\r\n     * @memberof graphics.geom.Circle\r\n     * @instance\r\n     * @function\r\n     */\r\n    toObject : { writable : true , value : function()\r\n    {\r\n        return { x:this.x , y:this.y , radius:this.radius } ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the string representation of this instance.\r\n     * @return {string} The string representation of this instance.\r\n     * @memberof graphics.geom.Circle\r\n     * @name toString\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { writable : true , value : function()\r\n    {\r\n        return \"[Circle x:\" + this.x + \" y:\" + this.y + \" radius:\" + this.radius + \"]\" ;\r\n    }}\r\n});","/*jslint bitwise: true */\r\n\"use strict\" ;\r\n\r\n/**\r\n * The <code>ColorTransform</code> class lets you adjust the color values in a display object.\r\n * <p>The color adjustment or color transformation can be applied to all four channels: red, green, blue, and alpha transparency.</p>\r\n * <p>When a ColorTransform object is applied to a display object, a new value for each color channel is calculated like this:</p>\r\n * <ul>\r\n * <li>New red value = (old red value * <code>redMultiplier</code>) + <code>redOffset</code></li>\r\n * <li>New green value = (old green value * <code>greenMultiplier</code>) + <code>greenOffset</code></li>\r\n * <li>New blue value = (old blue value * <code>blueMultiplier</code>) + <code>blueOffset</code></li>\r\n * <li>New alpha value = (old alpha value * <code>alphaMultiplier</code>) + <code>alphaOffset</code></li></ul>\r\n * <p>If any of the color channel values is greater than 255 after the calculation, it is set to 255. If it is less than 0, it is set to 0.</p>\r\n * <p>You can use ColorTransform objects in the following ways:</p>\r\n * <ul>\r\n * <li>In the <code>colorTransform</code> parameter of the <code>colorTransform()</code> method of the BitmapData class</li>\r\n * <li>As the <code>colorTransform</code> property of a Transform object (which can be used as the <code>transform</code> property of a display object)</li></ul>\r\n * <p>You must use the <code>new ColorTransform()</code> constructor to create a ColorTransform object before you can call the methods of the ColorTransform object.</p>\r\n * <p>Color transformations do not apply to the background color of a movie clip (such as a loaded SWF object). They apply only to graphics and symbols that are attached to the movie clip.</p>\r\n * @summary The <code>ColorTransform</code> class lets you adjust the color values in a display object.\r\n * @param {number} [redMultiplier=1] - The value for the red multiplier, in the range from 0 to 1.\r\n * @param {number} [greenMultiplier=1] - The value for the green multiplier, in the range from 0 to 1.\r\n * @param {number} [blueMultiplier=1] - The value for the blue multiplier, in the range from 0 to 1.\r\n * @param {number} [alphaMultiplier=1] - The value for the alpha transparency multiplier, in the range from 0 to 1.\r\n * @param {number} [redOffset=0] - The offset value for the red color channel, in the range from -255 to 255.\r\n * @param {number} [greenOffset=0] - The offset value for the green color channel, in the range from -255 to 255.\r\n * @param {number} [blueOffset=0] - The offset for the blue color channel value, in the range from -255 to 255.\r\n * @param {number} [alphaOffset=0] - The offset for alpha transparency channel value, in the range from -255 to 255.\r\n * @name ColorTransform\r\n * @memberof graphics.geom\r\n * @class\r\n */\r\nexport function ColorTransform( redMultiplier = 1, greenMultiplier = 1, blueMultiplier = 1, alphaMultiplier = 1, redOffset = 0, greenOffset = 0, blueOffset = 0, alphaOffset = 0 )\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * A number from <code>-255</code> to <code>255</code> that is added to the alpha transparency channel value after it has been multiplied by the <code>alphaMultiplier</code> value.\r\n         * @memberof graphics.geom.ColorTransform\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        alphaOffset : { value : isNaN(alphaOffset) ? 0 : alphaOffset , writable : true } ,\r\n\r\n        /**\r\n         * A number from <code>-255</code> to <code>255</code> that is added to the blue channel value after it has been multiplied by the <code>blueMultiplier</code> value.\r\n         * @memberof graphics.geom.ColorTransform\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        blueOffset : { value : isNaN(blueOffset) ? 0 : blueOffset , writable : true } ,\r\n\r\n        /**\r\n         * A number from <code>-255</code> to <code>255</code> that is added to the green channel value after it has been multiplied by the <code>greenMultiplier</code> value.\r\n         * @memberof graphics.geom.ColorTransform\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        greenOffset : { value : isNaN(greenOffset) ? 0 : greenOffset , writable : true } ,\r\n\r\n        /**\r\n         * A number from <code>-255</code> to <code>255</code> that is added to the red channel value after it has been multiplied by the <code>redMultiplier</code> value.\r\n         * @memberof graphics.geom.ColorTransform\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        redOffset : { value : isNaN(redOffset) ? 0 : redOffset , writable : true } ,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _alphaMultiplier : { value : isNaN(alphaMultiplier) ? 0 : alphaMultiplier , writable : true } ,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _blueMultiplier : { value : isNaN(blueMultiplier) ? 0 : blueMultiplier , writable : true } ,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _greenMultiplier : { value : isNaN(greenMultiplier) ? 0 : greenMultiplier , writable : true } ,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n         _redMultiplier : { value : isNaN(redMultiplier) ? 0 : redMultiplier , writable : true } ,\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _tint : { value : 0xFFFFFFFF , writable : true }\r\n    });\r\n}\r\n\r\nColorTransform.prototype = Object.create( Object.prototype ,\r\n{\r\n    constructor : { writable : true , value : ColorTransform },\r\n\r\n    /**\r\n     * A decimal value that is multiplied with the alpha transparency channel value.\r\n     * <p>If you set the alpha transparency value of a display object directly by using the <code>alpha</code> property of the DisplayObject instance, it affects the value of the <code>alphaMultiplier</code> property of that display object's <code>transform.colorTransform</code> property.</p>\r\n     * @memberof graphics.geom.ColorTransform\r\n     * @default 1\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    alphaMultiplier :\r\n    {\r\n        get : function() { return this._alphaMultiplier ; } ,\r\n        set : function (value )\r\n        {\r\n            this._alphaMultiplier = value;\r\n            this._tint = ((this._redMultiplier*0xff) << 0)|((this._greenMultiplier*0xff) << 8)|((this._blueMultiplier*0xff) << 16)|((this._alphaMultiplier*0xff) << 24) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * A decimal value that is multiplied with the blue channel value.\r\n     * @memberof graphics.geom.ColorTransform\r\n     * @default 1\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    blueMultiplier :\r\n    {\r\n        get : function() { return this._blueMultiplier ; } ,\r\n        set : function (value )\r\n        {\r\n            this._blueMultiplier = value;\r\n            this._tint = ((this._redMultiplier*0xff) << 0)|((this._greenMultiplier*0xff) << 8)|((this._blueMultiplier*0xff) << 16)|((this._alphaMultiplier*0xff) << 24) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * A decimal value that is multiplied with the green channel value.\r\n     * @memberof graphics.geom.ColorTransform\r\n     * @default 1\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    greenMultiplier :\r\n    {\r\n        get : function() { return this._greenMultiplier ; } ,\r\n        set : function (value )\r\n        {\r\n            this._greenMultiplier = value;\r\n            this._tint = ((this._redMultiplier*0xff) << 0)|((this._greenMultiplier*0xff) << 8)|((this._blueMultiplier*0xff) << 16)|((this._alphaMultiplier*0xff) << 24) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * A decimal value that is multiplied with the red channel value.\r\n     * @memberof graphics.geom.ColorTransform\r\n     * @default 1\r\n     * @type {Number}\r\n     * @instance\r\n     */\r\n    redMultiplier :\r\n    {\r\n        get : function() { return this._redMultiplier ; } ,\r\n        set : function (value )\r\n        {\r\n            this.redMultiplier = value;\r\n            this._tint = ((this._redMultiplier*0xff) << 0)|((this._greenMultiplier*0xff) << 8)|((this._blueMultiplier*0xff) << 16)|((this._alphaMultiplier*0xff) << 24) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The <b>RGB</b> color value for a <code>ColorTransform</code> object.\r\n     * @name color\r\n     * @memberof graphics.geom.ColorTransform\r\n     * @instance\r\n     * @type number\r\n     */\r\n    color :\r\n    {\r\n        get : function()\r\n        {\r\n            return this.redOffset << 16 | this.greenOffset << 8 | this.blueOffset;\r\n        },\r\n\r\n        set( value )\r\n        {\r\n            this.redMultiplier = this.greenMultiplier = this.blueMultiplier = 0;\r\n            this.redOffset   = value >> 16 & 255 ;\r\n            this.greenOffset = value >> 8 & 255 ;\r\n            this.blueOffset  = value & 255 ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The <b>RGBA</b> tint value for a <code>ColorTransform</code> object.\r\n     * @name tint\r\n     * @memberof graphics.geom.ColorTransform\r\n     * @instance\r\n     * @type number\r\n     */\r\n    tint : { get : function() { return this._tint ; } },\r\n\r\n    /**\r\n     * Create a shallow copy of the object.\r\n     * @return a shallow copy of the object.\r\n     * @name clone\r\n     * @memberof graphics.geom.ColorTransform\r\n     * @instance\r\n     * @function\r\n     */\r\n    clone : { writable : true , value : function()\r\n    {\r\n        return new ColorTransform( this.redMultiplier , this.greenMultiplier , this.blueMultiplier , this.alphaMultiplier , this.redOffset , this.greenOffset , this.blueOffset , this.alphaOffset ) ;\r\n    }},\r\n\r\n    /**\r\n     * Concatenates the ColorTransform object specified by the <code>second</code> parameter with the current ColorTransform object and sets the current object as the result, which is an additive combination of the two color transformations. When you apply the concatenated ColorTransform object, the effect is the same as applying the <code>second</code> color transformation after the <i>original</i> color transformation.\r\n     * @param {graphics.geom.ColorTransform} color - The ColorTransform object to be combined with the current ColorTransform object.\r\n     * @name concat\r\n     * @memberof graphics.geom.ColorTransform\r\n     * @instance\r\n     * @function\r\n     */\r\n    concat : { value : function( color )\r\n    {\r\n        this.redMultiplier   *= color.redMultiplier ;\r\n        this.greenMultiplier *= color.greenMultiplier ;\r\n        this.blueMultiplier  *= color.blueMultiplier ;\r\n        this.alphaMultiplier *= color.alphaMultiplier ;\r\n        this.redOffset       += color.redOffset ;\r\n        this.greenOffset     += color.greenOffset ;\r\n        this.blueOffset      += color.blueOffset ;\r\n        this.alphaOffset     += color.alphaOffset ;\r\n    }},\r\n\r\n    /**\r\n     * Copies all of the matrix data from the source Point object into the calling Matrix object.\r\n     * @name copyFrom\r\n     * @param {graphics.geom.ColorTransform} color - The ColorTransform to copy in the current object.\r\n     * @memberof graphics.geom.ColorTransform\r\n     * @instance\r\n     * @function\r\n     * @param {graphics.geom.ColorTransform} matrix - The Matrix object from which to copy the data.\r\n     */\r\n    copyFrom : { value : function( color )\r\n    {\r\n        this.redMultiplier   = color.redMultiplier ;\r\n        this.greenMultiplier = color.greenMultiplier ;\r\n        this.blueMultiplier  = color.blueMultiplier ;\r\n        this.alphaMultiplier = color.alphaMultiplier ;\r\n        this.redOffset       = color.redOffset ;\r\n        this.greenOffset     = color.greenOffset ;\r\n        this.blueOffset      = color.blueOffset ;\r\n        this.alphaOffset     = color.alphaOffset ;\r\n    }},\r\n\r\n    /**\r\n     * Sets the members of the <code>ColorTransform</code> to the specified values.\r\n     * @name setTo\r\n     * @memberof graphics.geom.ColorTransform\r\n     * @instance\r\n     * @function\r\n     * @param {number} [redMultiplier=1] - The value for the red multiplier, in the range from 0 to 1.\r\n     * @param {number} [greenMultiplier=1] - The value for the green multiplier, in the range from 0 to 1.\r\n     * @param {number} [blueMultiplier=1] - The value for the blue multiplier, in the range from 0 to 1.\r\n     * @param {number} [alphaMultiplier=1] - The value for the alpha transparency multiplier, in the range from 0 to 1.\r\n     * @param {number} [redOffset=0] - The offset value for the red color channel, in the range from -255 to 255.\r\n     * @param {number} [greenOffset=0] - The offset value for the green color channel, in the range from -255 to 255.\r\n     * @param {number} [blueOffset=0] - The offset for the blue color channel value, in the range from -255 to 255.\r\n     * @param {number} [alphaOffset=0] - The offset for alpha transparency channel value, in the range from -255 to 255.\r\n     */\r\n    setTo : { value : function( redMultiplier = 1, greenMultiplier = 1, blueMultiplier = 1, alphaMultiplier = 1, redOffset = 0, greenOffset = 0, blueOffset = 0, alphaOffset = 0 )\r\n    {\r\n        this.redMultiplier   = redMultiplier ;\r\n        this.greenMultiplier = greenMultiplier ;\r\n        this.blueMultiplier  = blueMultiplier ;\r\n        this.alphaMultiplier = alphaMultiplier ;\r\n        this.redOffset       = redOffset ;\r\n        this.greenOffset     = greenOffset ;\r\n        this.blueOffset      = blueOffset ;\r\n        this.alphaOffset     = alphaOffset ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the Object representation of this object.\r\n     * @return the Object representation of this object.\r\n     * @name toObject\r\n     * @memberof graphics.geom.ColorTransform\r\n     * @instance\r\n     * @function\r\n     */\r\n    toObject : { writable : true , value : function()\r\n    {\r\n        let object =\r\n        {\r\n            redMultiplier   : this.redMultiplier ,\r\n            greenMultiplier : this.greenMultiplier ,\r\n            blueMultiplier  : this.blueMultiplier ,\r\n            alphaMultiplier : this.alphaMultiplier ,\r\n            redOffset       : this.redOffset ,\r\n            greenOffset     : this.greenOffset ,\r\n            blueOffset      : this.blueOffset ,\r\n            alphaOffset     : this.alphaOffset\r\n        } ;\r\n        return object ;\r\n    }},\r\n\r\n    /**\r\n     * Returns a text value listing the properties of the ColorTransform object.\r\n     * @return The text value listing the properties of the ColorTransform object.\r\n     * @name toString\r\n     * @memberof graphics.geom.ColorTransform\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { writable : true , value : function()\r\n    {\r\n        return \"[ColorTransform redMultiplier:\" + this.redMultiplier  + \" greenMultiplier:\" + this.greenMultiplier +\r\n                             \" blueMultiplier:\" + this.blueMultiplier + \" alphaMultiplier:\" + this.alphaMultiplier +\r\n                                  \" redOffset:\" + this.redOffset      + \" greenOffset:\"     + this.greenOffset +\r\n                                 \" blueOffset:\" + this.blueOffset     + \" alphaOffset:\" + this.alphaOffset + \"]\" ;\r\n    }}\r\n});","\"use strict\" ;\r\n\r\n/**\r\n * The <code>EdgeMetrics</code> class specifies the thickness, in pixels, of the four edge regions around a visual component.\r\n * @summary The <code>EdgeMetrics</code> class specifies the thickness, in pixels, of the four edge regions around a visual component.\r\n * @name EdgeMetrics\r\n * @memberof graphics.geom\r\n * @class\r\n * @param {number} [left=0] The width, in pixels, of the left edge region.\r\n * @param {number} [top=0] The height, in pixels, of the top edge region.\r\n * @param {number} [right=0] The width, in pixels, of the right edge region.\r\n * @param {number} [bottom=0] The height, in pixels, of the bottom edge region.\r\n */\r\nexport function EdgeMetrics( left = 0, top = 0, right = 0, bottom = 0 )\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * The height, in pixels, of the bottom edge region.\r\n         * @memberof graphics.geom.EdgeMetrics\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        bottom : { value : isNaN(bottom) ? 0 : bottom , writable : true } ,\r\n\r\n        /**\r\n         * The width, in pixels, of the left edge region.\r\n         * @memberof graphics.geom.EdgeMetrics\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        left : { value : isNaN(left) ? 0 : left , writable : true } ,\r\n\r\n        /**\r\n         * The width, in pixels, of the right edge region.\r\n         * @memberof graphics.geom.EdgeMetrics\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        right : { value : isNaN(right) ? 0 : right , writable : true } ,\r\n\r\n        /**\r\n         * The height, in pixels, of the top edge region.\r\n         * @memberof graphics.geom.EdgeMetrics\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        top : { value : isNaN(top) ? 0 : top , writable : true }\r\n    });\r\n}\r\n\r\nEdgeMetrics.prototype = Object.create( Object.prototype ,\r\n{\r\n    constructor : { writable : true , value : EdgeMetrics },\r\n\r\n    /**\r\n     * The horizontal, in pixels, of the sum of left and right region.\r\n     * @readonly\r\n     * @memberof graphics.geom.EdgeMetrics\r\n     * @instance\r\n     */\r\n    horizontal : { get : function()\r\n    {\r\n        return this.left + this.right;\r\n    }},\r\n\r\n    /**\r\n     * The vertical, in pixels, of the sum of top and vertical region.\r\n     * @readonly\r\n     * @memberof graphics.geom.EdgeMetrics\r\n     * @instance\r\n     */\r\n    vertical : { get : function()\r\n    {\r\n        return this.top + this.bottom;\r\n    }},\r\n\r\n    /**\r\n     * Returns a shallow copy of the object.\r\n     * @return a shallow copy of the object.\r\n     * @memberof graphics.geom.EdgeMetrics\r\n     * @instance\r\n     * @function\r\n     */\r\n    clone : { writable : true , value : function()\r\n    {\r\n        return new EdgeMetrics( this.left , this.top , this.right , this.bottom ) ;\r\n    }},\r\n\r\n    /**\r\n     * Copies all of vector data from the source EdgeMetrics object into the calling EdgeMetrics object.\r\n     * @param {graphics.geom.EdgeMetrics} source - The EdgeMetrics object from which to copy the data.\r\n     * @return The current {@link graphics.geom.EdgeMetrics} reference.\r\n     * @name copyFrom\r\n     * @memberof graphics.geom.EdgeMetrics\r\n     * @instance\r\n     * @function\r\n     */\r\n    copyFrom : { writable : true , value : function( source )\r\n    {\r\n        if( !(source instanceof EdgeMetrics) )\r\n        {\r\n            throw TypeError( this + ' copyFrom failed, the passed-in source argument must be an EdgeMetrics object.' ) ;\r\n        }\r\n        this.bottom = source.bottom ;\r\n        this.left   = source.left ;\r\n        this.right  = source.right ;\r\n        this.top    = source.top ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Compares the passed-in object with this object for equality.\r\n     * @return <code>true</code> if the the specified object is equal with this object.\r\n     * @memberof graphics.geom.EdgeMetrics\r\n     * @param {graphics.geom.EdgeMetrics} o - The object to evaluate.\r\n     * @instance\r\n     * @function\r\n     */\r\n    equals : { writable : true , value : function( o )\r\n    {\r\n        if ( o instanceof EdgeMetrics )\r\n        {\r\n            return o.bottom === this.bottom &&\r\n                   o.left   === this.left &&\r\n                   o.right  === this.right &&\r\n                   o.top    === this.top ;\r\n        }\r\n        else\r\n        {\r\n            return false ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Sets the members of EdgeMetrics to the specified values.\r\n     * @param {number} [left=0] The width, in pixels, of the left edge region.\r\n     * @param {number} [top=0] The height, in pixels, of the top edge region.\r\n     * @param {number} [right=0] The width, in pixels, of the right edge region.\r\n     * @param {number} [bottom=0] The height, in pixels, of the bottom edge region.\r\n     * @return {Rectangle} The current object reference.\r\n     * @memberof graphics.geom.EdgeMetrics\r\n     * @function\r\n     * @instance\r\n     */\r\n    setTo : { writable : true , value : function( left = 0 , top = 0 , right = 0 , bottom = 0 )\r\n    {\r\n        this.left    = isNaN(left)   ? 0 : left ;\r\n        this.top     = isNaN(top)    ? 0 : top ;\r\n        this.bottom  = isNaN(bottom) ? 0 : bottom ;\r\n        this.right   = isNaN(right)  ? 0 : right ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the Object representation of this object.\r\n     * @return the Object representation of this object.\r\n     * @memberof graphics.geom.EdgeMetrics\r\n     * @instance\r\n     * @function\r\n     */\r\n    toObject : { writable : true , value : function()\r\n    {\r\n        return { bottom:this.bottom , left:this.left , right:this.right , top:this.top } ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the string representation of this instance.\r\n     * @return {string} the string representation of this instance.\r\n     * @name toString\r\n     * @memberof graphics.geom.EdgeMetrics\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { writable : true , value : function()\r\n    {\r\n        return \"[EdgeMetrics left:\" + this.left + \" top:\" + this.top + \" right:\" + this.right + \" bottom:\" + this.bottom + \"]\" ;\r\n    }}\r\n});","\"use strict\" ;\r\n\r\nimport { Dimension } from './Dimension.js' ;\r\nimport { Point } from './Point.js' ;\r\nimport { Rectangle } from './Rectangle.js' ;\r\n\r\n/**\r\n * The Ellipse object can be used to specify a hit area for displays.\r\n * <p>A Ellipse object is an area defined by its position, as indicated by its top-left corner point <code>(x, y)</code>, and by its width and its height.</p>\r\n * <p>The <code>x</code>, <code>y</code>, <code>width</code>, and <code>height</code> properties of the Rectangle class are independent of each other; changing the value of one property has no effect on the others.</p>\r\n * @summary The Ellipse object can be used to specify a hit area for displays.\r\n * @name Ellipse\r\n * @extends graphics.geom.Dimension\r\n * @memberof graphics.geom\r\n * @class\r\n * @param {number} [x=0] - The x value of the object.\r\n * @param {number} [y=0] - The y value of the object.\r\n * @param {number} [width=0] - The width value of the object.\r\n * @param {number} [height=0] - The height value of the object.\r\n */\r\nexport function Ellipse( x = 0 , y = 0 , width = 0 , height = 0 )\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * Determinates the x value of this object.\r\n         * @memberof graphics.geom.Rectangle\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        x : { value : isNaN(x) ? 0 : x , writable : true } ,\r\n\r\n        /**\r\n         * Determinates the y value of this object.\r\n         * @memberof graphics.geom.Rectangle\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        y : { value : isNaN(y) ? 0 : y , writable : true }\r\n    });\r\n    Dimension.call( this , width , height ) ;\r\n}\r\n\r\nEllipse.prototype = Object.create( Dimension.prototype ,\r\n{\r\n    constructor : { writable : true , value : Ellipse },\r\n\r\n    /**\r\n     * The area of the ellipse.\r\n     * @name area\r\n     * @memberof graphics.geom.Ellipse\r\n     * @default 0\r\n     * @type {Number}\r\n     * @instance\r\n     * @example\r\n     * var ellipse = new Ellipse( 40 , 12 ) ;\r\n     * trace( ellipse.area ) ;\r\n     */\r\n    area : { get : function() { return Math.PI * (this.width * this.height) * 0.5 ; }} ,\r\n\r\n    /**\r\n     * The sum of the y and height properties.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @instance\r\n     */\r\n    bottom :\r\n    {\r\n        get : function() { return this.y + this.height ; },\r\n        set : function( value )\r\n        {\r\n            if( value < this.y )\r\n            {\r\n                this.height = 0 ;\r\n            }\r\n            else\r\n            {\r\n                this.height = value - this.y ;\r\n            }\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The location of the Rectangle object's center.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @instance\r\n     */\r\n    center :\r\n    {\r\n        get : function()\r\n        {\r\n            return new Point\r\n            (\r\n                this.x + this.width  * 0.5 ,\r\n                this.y + this.height * 0.5\r\n            );\r\n        },\r\n        set : function( point )\r\n        {\r\n            this.x = point.x - ( this.width  * 0.5 ) ;\r\n            this.y = point.y - ( this.height * 0.5 ) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Indicates the x coordinate of the Rectangle center.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @instance\r\n     */\r\n    centerX :\r\n    {\r\n        get : function() { return this.x + (this.width*0.5) ; },\r\n        set : function( x )\r\n        {\r\n            this.x = x - (this.width*0.5) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Indicates the y coordinate of the Rectangle center.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @instance\r\n     */\r\n    centerY :\r\n    {\r\n        get : function() { return this.y + (this.height*0.5) ; },\r\n        set : function( y )\r\n        {\r\n            this.y = y - (this.height*0.5) ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * The x coordinate of the top-left corner of the rectangle.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @instance\r\n     */\r\n    left :\r\n    {\r\n        get : function() { return this.x ; } ,\r\n        set : function( value ) { this.x = value ; }\r\n    },\r\n\r\n    /**\r\n     * The sum of the x and width properties.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @instance\r\n     */\r\n    right :\r\n    {\r\n        get : function() { return this.x + this.width ; } ,\r\n        set : function( value ) { this.width = value - this.x ; }\r\n    },\r\n\r\n    /**\r\n     * The y coordinate of the top-left corner of the rectangle.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @instance\r\n     */\r\n    top :\r\n    {\r\n        get : function() { return this.y ; } ,\r\n        set : function( value ) { this.y = value ; }\r\n    },\r\n\r\n    /**\r\n     * Centers this <code>Rectangle</code> so that the center coordinates match the given x and y values.\r\n     * @name centerOn\r\n     * @memberof graphics.geom.Ellipse\r\n     * @instance\r\n     * @function\r\n     * @param {number} x - The x coordinate to place the center of the Rectangle at.\r\n     * @param {number} y - The y coordinate to place the center of the Rectangle at.\r\n     * @return The current reference of the object.\r\n     */\r\n    centerOn : { writable : true , value : function( x , y )\r\n    {\r\n        this.x = x - ( this.width  * 0.5 ) ;\r\n        this.y = y - ( this.height * 0.5 ) ;\r\n        return this;\r\n    }},\r\n\r\n    /**\r\n     * Returns a new Ellipse object with the same values for the x, y, width, and height properties as the original Ellipse object.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @instance\r\n     * @function\r\n     * @return a shallow copy of the object.\r\n     */\r\n    clone : { writable : true , value : function()\r\n    {\r\n        return new Ellipse( this.x , this.y , this.width , this.height ) ;\r\n    }},\r\n\r\n    /**\r\n     * Determines whether the specified point is contained within the ellipse region.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @instance\r\n     * @function\r\n     * @param {number} x - The x position of the point to check.\r\n     * @param {number} y - The y position of the point to check.\r\n     * @return <code>true</code> if the specified point is contained within the ellipse region.\r\n     */\r\n    contains : { value : function( x , y )\r\n    {\r\n        if ( this.width <= 0 || this.height <= 0)\r\n        {\r\n            return false;\r\n        }\r\n        let normx = ((x - this.x) /  this.width) - 0.5 ;\r\n        let normy = ((y - this.y) / this.height) - 0.5 ;\r\n        return ((normx*normx) + (normy*normy)) < 0.25 ;\r\n    }},\r\n\r\n    /**\r\n     * Copies all of rectangle data from the source Rectangle object into the calling Rectangle object.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @instance\r\n     * @function\r\n     * @param {graphics.geom.Ellipse|graphics.geom.Rectangle|Object} obj - The object to copy.\r\n     */\r\n    copyFrom : { value : function( obj )\r\n    {\r\n        this.x      = obj.x ;\r\n        this.y      = obj.y ;\r\n        this.width  = obj.width ;\r\n        this.height = obj.height ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Determines whether the object specified in the toCompare parameter is equal to this Rectangle object.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @instance\r\n     * @function\r\n     * @param {object} toCompareThe - object to evaluates.\r\n     * @param {boolean} [strict=true] - If true the method accept only a toCompare Ellipse, else any object with the x, y, width and height properties.\r\n     * @return {boolean} <code>true</code> if the the specified object is equal with this object.\r\n     */\r\n    equals : { writable : true , value : function( toCompare , strict = true )\r\n    {\r\n        var flag = strict ? toCompare instanceof Ellipse\r\n                          : ('x' in toCompare && 'y' in toCompare && 'width' in toCompare && 'height' in toCompare ) ;\r\n        if ( flag )\r\n        {\r\n            return toCompare.x === this.x &&\r\n                   toCompare.y === this.y &&\r\n                   toCompare.width === this.width &&\r\n                   toCompare.height=== this.height ;\r\n        }\r\n        else\r\n        {\r\n            return false ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Returns the {@link graphics.geom.Rectangle|Rectangle} representation of the ellipse.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @instance\r\n     * @function\r\n     * @return The {@link graphics.geom.Rectangle|Rectangle} representation of the ellipse.\r\n     */\r\n    getBounds : { writable : true , value : function()\r\n    {\r\n        return new Rectangle(this.x - this.width, this.y - this.height, this.width, this.height);\r\n    }},\r\n\r\n    /**\r\n     * Sets the members of the Ellipse to the specified values.\r\n     * @param {number} [x=0] - The x coordinate of the top-left corner of the ellipse.\r\n     * @param {number} [y=0] - The y coordinate of the top-left corner of the ellipse.\r\n     * @param {number} [width=0] - The width of the ellipse, in pixels.\r\n     * @param {number} [height=0] - The height of the ellipse, in pixels.\r\n     * @return {graphics.geom.Ellipse} The current object reference.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @function\r\n     * @instance\r\n     */\r\n    setTo : { writable : true , value : function( x = 0 , y = 0 , width = 0 , height = 0 )\r\n    {\r\n        this.x = x ;\r\n        this.y = y ;\r\n        this.width = width ;\r\n        this.height = height ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the Object representation of this object.\r\n     * @return the Object representation of this object.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @function\r\n     * @instance\r\n     */\r\n    toObject : { value : function()\r\n    {\r\n        return { x:this.x , y:this.y , width:this.width , height:this.height } ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the string representation of this instance.\r\n     * @return the string representation of this instance.\r\n     * @memberof graphics.geom.Ellipse\r\n     * @name toString\r\n     * @function\r\n     * @instance\r\n     */\r\n    toString : { value : function()\r\n    {\r\n        return \"[Ellipse x:\" + this.x + \" y:\" + this.y + \" width:\" + this.width + \" height:\" + this.height + \"]\" ;\r\n    }}\r\n});","\"use strict\" ;\r\n\r\nimport { Point } from './Point.js' ;\r\n\r\n/**\r\n * The Matrix class represents a transformation matrix that determines how to map points from one coordinate space to another.\r\n * <p>You can perform various graphical transformations on a display object by setting the properties of a Matrix object, applying that Matrix object to the <code>matrix</code> property of a Transform object, and then applying that Transform object as the <code>transform</code> property of the display object. These transformation functions include translation (<i>x</i> and <i>y</i> repositioning), rotation, scaling, and skewing.</p>\r\n * @summary The Matrix class represents a transformation matrix that determines how to map points from one coordinate space to another.\r\n * @name Matrix\r\n * @memberof graphics.geom\r\n * @class\r\n * @param {number} [a=1] - The value that affects the positioning of pixels along the <i>x</i> axis when scaling or rotating an image.\r\n * @param {number} [b=0] - The value that affects the positioning of pixels along the <i>y</i> axis when rotating or skewing an image.\r\n * @param {number} [c=0] - The value that affects the positioning of pixels along the <i>x</i> axis when rotating or skewing an image.\r\n * @param {number} [d=1] - The value that affects the positioning of pixels along the <i>y</i> axis when scaling or rotating an image.\r\n * @param {number} [tx=0] - The distance by which to translate each point along the <i>x</i> axis.\r\n * @param {number} [ty=0] - The distance by which to translate each point along the <i>y</i> axis.\r\n * @example <caption>The following example creates <code>matrix_1</code> by sending no parameters to the <code>Matrix()</code> constructor and <code>matrix_2</code> by sending parameters to it. Notice that <code>matrix_1</code>, which was created with no parameters, results in an identity matrix with the values <code>a</code>=1, <code>b</code>=0, <code>c</code>=0, <code>d</code>=1, <code>tx</code>=0, <code>ty</code>=0.</caption>\r\n * trace( new Matrix() ) ;  // [Matrix a:1 b:0 c:0, d:1 tx:0 ty:0]\r\n * trace(new Matrix(1, 2, 3, 4, 5, 6));  // [Matrix a:1 b:2 c:3, d:4 tx:5 ty:6]\r\n */\r\nexport function Matrix( a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0 )\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * The value that affects the positioning of pixels along the <i>x</i> axis when scaling or rotating an image.\r\n         * @memberof graphics.geom.Matrix\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        a : { value : isNaN(a) ? 0 : a , writable : true } ,\r\n\r\n        /**\r\n         * The value that affects the positioning of pixels along the <i>y</i> axis when rotating or skewing an image.\r\n         * @memberof graphics.geom.Matrix\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        b : { value : isNaN(b) ? 0 : b , writable : true } ,\r\n\r\n        /**\r\n         * The value that affects the positioning of pixels along the <i>x</i> axis when rotating or skewing an image.\r\n         * @memberof graphics.geom.Matrix\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        c : { value : isNaN(c) ? 0 : c , writable : true } ,\r\n\r\n        /**\r\n         * The value that affects the positioning of pixels along the <i>y</i> axis when scaling or rotating an image.\r\n         * @memberof graphics.geom.Matrix\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        d : { value : isNaN(d) ? 0 : d , writable : true } ,\r\n\r\n        /**\r\n         * The distance by which to translate each point along the <i>x</i> axis.\r\n         * @memberof graphics.geom.Matrix\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        tx : { value : isNaN(tx) ? 0 : tx , writable : true } ,\r\n\r\n        /**\r\n         * The distance by which to translate each point along the <i>y</i> axis.\r\n         * @memberof graphics.geom.Matrix\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        ty : { value : isNaN(ty) ? 0 : ty , writable : true }\r\n    });\r\n}\r\n\r\nObject.defineProperties( Matrix ,\r\n{\r\n    MAGIC_GRADIENT_FACTOR : { value : 1638.4 } // 16384/10\r\n}) ;\r\n\r\nMatrix.prototype = Object.create( Object.prototype ,\r\n{\r\n    constructor : { writable : true , value : Matrix },\r\n\r\n    /**\r\n     * Create a shallow copy of the object.\r\n     * @return a shallow copy of the object.\r\n     * @name clone\r\n     * @memberof graphics.geom.Matrix\r\n     * @instance\r\n     * @function\r\n     */\r\n    clone : { writable : true , value : function()\r\n    {\r\n        return new Matrix( this.a , this.b , this.c , this.d , this.tx , this.ty ) ;\r\n    }},\r\n\r\n    /**\r\n     * Concatenates a matrix with the current matrix, effectively combining the geometric effects of the two. In mathematical terms, concatenating two matrixes is the same as combining them using matrix multiplication.\r\n     * <p>For example, if matrix <code>m1</code> scales an object by a factor of four, and matrix <code>m2</code> rotates an object by 1.5707963267949 radians (<code>Math.PI/2</code>), then <code>m1.concat(m2)</code> transforms <code>m1</code> into a matrix that scales an object by a factor of four and rotates the object by <code>Math.PI/2</code> radians.</p>\r\n     * <p>This method replaces the source matrix with the concatenated matrix. If you want to concatenate two matrixes without altering either of the two source matrixes, first copy the source matrix by using the <code>clone()</code> method, as shown in the Class Examples section.</p>\r\n     * @param {graphics.geom.Matrix|Object} matrix The matrix to be concatenated to the source matrix.\r\n     * @name concat\r\n     * @memberof graphics.geom.Matrix\r\n     * @instance\r\n     * @function\r\n     */\r\n    concat : { value : function( matrix )\r\n    {\r\n        var a  = this.a ;\r\n        var b  = this.b ;\r\n        var c  = this.c ;\r\n        var d  = this.d ;\r\n        var tx = this.tx ;\r\n        var ty = this.ty ;\r\n\r\n        this.a  = matrix.a * a  + matrix.c * b;\r\n        this.b  = matrix.b * a  + matrix.d * b;\r\n\r\n        this.c  = matrix.a * c  + matrix.c * d;\r\n        this.d  = matrix.b * c  + matrix.d * d;\r\n\r\n        this.tx = matrix.a * tx + matrix.c * ty + matrix.tx;\r\n        this.ty = matrix.b * tx + matrix.d * ty + matrix.ty;\r\n    }},\r\n\r\n    /**\r\n     * Copies all of the matrix data from the source Point object into the calling Matrix object.\r\n     * @name copyFrom\r\n     * @memberof graphics.geom.Matrix\r\n     * @instance\r\n     * @function\r\n     * @param {graphics.geom.Matrix} matrix - The Matrix object from which to copy the data.\r\n     */\r\n    copyFrom : { value : function( matrix )\r\n    {\r\n        this.a  = matrix.a ;\r\n        this.b  = matrix.b ;\r\n        this.c  = matrix.c ;\r\n        this.d  = matrix.d ;\r\n        this.tx = matrix.tx ;\r\n        this.ty = matrix.ty ;\r\n    }},\r\n\r\n    /**\r\n     * Includes parameters for scaling, rotation, and translation. When applied to a matrix it sets the matrix's values based on those parameters.\r\n     * <p>Using the <code>createBox()</code> method lets you obtain the same matrix as you would if you applied the <code>identity()</code>, <code>rotate()</code>, <code>scale()</code>, and <code>translate()</code> methods in succession. For example, <code>mat.createBox(2,2,Math.PI/4, 100, 100)</code> has the same effect as the following:</p>\r\n     * @example\r\n     * var mat = new Matrix();\r\n     * mat.createBox(2,2,Math.PI/4, 100, 100)\r\n     * // or\r\n     * mat.identity();\r\n     * mat.rotate(Math.PI/4);\r\n     * mat.scale(2,2);\r\n     * mat.translate(10,20);\r\n     * @param {number} scaleX - The factor by which to scale horizontally.\r\n     * @param {number} scaleY - The factor by which scale vertically.\r\n     * @param {number} [rotation=0] - The amount to rotate, in radians.\r\n     * @param {number} [tx=0] - The number of pixels to translate (move) to the right along the <i>x</i> axis.\r\n     * @param {number} [ty=0] - The number of pixels to translate (move) down along the <i>y</i> axis.\r\n     * @name createBox\r\n     * @memberof graphics.geom.Matrix\r\n     * @instance\r\n     * @function\r\n     */\r\n    createBox : { value : function( scaleX, scaleY, rotation = 0, tx = 0, ty = 0 )\r\n    {\r\n        if ( rotation === 0 )\r\n        {\r\n            this.a = this.d = 1 ;\r\n            this.b = this.c = 0 ;\r\n        }\r\n        else\r\n        {\r\n            this.a = Math.cos(rotation);\r\n            this.b = Math.sin(rotation);\r\n            this.c = -this.b;\r\n            this.d =  this.a;\r\n        }\r\n\r\n        if ( scaleX !== 1 )\r\n        {\r\n            this.a *= scaleX;\r\n            this.c *= scaleX;\r\n        }\r\n\r\n        if (scaleY !== 1)\r\n        {\r\n            this.b *= scaleY ;\r\n            this.d *= scaleY ;\r\n        }\r\n        this.tx = tx;\r\n        this.ty = ty;\r\n    }},\r\n\r\n    /**\r\n     * Creates the specific style of matrix expected by the <code>beginGradientFill()</code> and <code>lineGradientStyle()</code> methods of the Graphics class. Width and height are scaled to a <code>scaleX</code>/<code>scaleY</code> pair and the <code>tx</code>/<code>ty</code> values are offset by half the width and height.\r\n     * @name createGradientBox\r\n     * @param {number} width - The width of the box.\r\n     * @param {number} scaleY - The height of the box.\r\n     * @param {number} [rotation=0] - The amount to rotate, in radians.\r\n     * @param {number} [tx=0] - The number of pixels to translate (move) to the right along the <i>x</i> axis.\r\n     * @param {number} [ty=0] - The number of pixels to translate (move) down along the <i>y</i> axis.\r\n     * @memberof graphics.geom.Matrix\r\n     * @instance\r\n     * @function\r\n     */\r\n    createGradientBox : { value : function( width, height, rotation = 0, tx = 0, ty = 0)\r\n    {\r\n        this.createBox\r\n        (\r\n            width  / Matrix.MAGIC_GRADIENT_FACTOR ,\r\n            height / Matrix.MAGIC_GRADIENT_FACTOR ,\r\n            rotation ,\r\n            tx + width * 0.5 ,\r\n            ty + height * 0.5\r\n        );\r\n    }},\r\n\r\n    /**\r\n     * Given a point in the pretransform coordinate space, returns the coordinates of that point after the transformation occurs.\r\n     * <p>Unlike the standard transformation applied using the <code>transformPoint()</code> method, the <code>deltaTransformPoint()</code> method's transformation does not consider the translation parameters <code>tx</code> and <code>ty</code>.</p>\r\n     * @name deltaTransformPoint\r\n     * @param {graphics.geom.Point|Object} point - The point for which you want to get the result of the matrix transformation.\r\n     * @return The point resulting from applying the matrix transformation.\r\n     * @memberof graphics.geom.Matrix\r\n     * @instance\r\n     * @function\r\n     */\r\n    deltaTransformPoint : { value : function( point)\r\n    {\r\n        return new Point\r\n        (\r\n            this.a * point.x + this.c * point.y ,\r\n            this.b * point.x + this.d * point.y\r\n        );\r\n    }},\r\n\r\n    /**\r\n     * Compares the passed-in object with this object for equality.\r\n     * @name equals\r\n     * @return <code>true</code> if the the specified object is equal with this object.\r\n     * @memberof graphics.geom.Matrix\r\n     * @instance\r\n     * @function\r\n     */\r\n    equals : { writable : true , value : function( o )\r\n    {\r\n        if ( o instanceof Matrix )\r\n        {\r\n            return o.a  === this.a &&\r\n                   o.b  === this.b &&\r\n                   o.c  === this.c &&\r\n                   o.d  === this.d &&\r\n                   o.tx === this.tx &&\r\n                   o.ty === this.ty\r\n        }\r\n        else\r\n        {\r\n            return false ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Sets each matrix property to a value that causes a null transformation.\r\n     * <p>An object transformed by applying an identity matrix will be identical to the original.</p>\r\n     * @name identity\r\n     * @memberof graphics.geom.Matrix\r\n     * @instance\r\n     * @function\r\n     */\r\n    identity : { value : function()\r\n    {\r\n        this.a = this.d = 1;\r\n        this.b = this.c = this.tx = this.ty = 0;\r\n    }},\r\n\r\n    /**\r\n     * Performs the opposite transformation of the original matrix. You can apply an inverted matrix to an object to undo the transformation performed when applying the original matrix.\r\n     * @name invert\r\n     * @memberof graphics.geom.Matrix\r\n     * @instance\r\n     * @function\r\n     */\r\n    invert : { value : function()\r\n    {\r\n        let a  = this.a;\r\n        let b  = this.b;\r\n        let c  = this.c;\r\n        let d  = this.d;\r\n        let tx = this.tx;\r\n        let ty = this.ty;\r\n\r\n        let det = a * d - c * b ;\r\n\r\n        this.a = d/det;\r\n        this.b = -b/det;\r\n        this.c = -c/det;\r\n        this.d = a/det;\r\n\r\n        this.tx = - (this.a * tx + this.c * ty);\r\n        this.ty = - (this.b * tx + this.d * ty);\r\n    }},\r\n\r\n    /**\r\n     * Applies a rotation transformation to the Matrix object.\r\n     * @param {number} angle - The rotation angle in radians.\r\n     * @name rotate\r\n     * @memberof graphics.geom.Matrix\r\n     * @instance\r\n     * @function\r\n     */\r\n    rotate : { value : function( angle )\r\n    {\r\n        /*\r\n            with sin = sin(angle) and cos = cos(angle):\r\n                          [a            c            tx           ]\r\n                          [b            d            ty           ]\r\n                          [0            0            1            ]\r\n          [cos   -sin  0] [a*cos-b*sin  c*cos-d*sin  tx*cos-ty*sin]\r\n          [sin   cos   0] [a*sin+b*cos  c*sin+d*cos  tx*sin+ty*cos]\r\n          [0     0     1] [0            0            1            ]\r\n        */\r\n\r\n        if( isNaN(angle) )\r\n        {\r\n            angle = 0 ;\r\n        }\r\n\r\n        if ( angle !== 0 )\r\n        {\r\n            let cos = Math.cos(angle);\r\n            let sin = Math.sin(angle);\r\n            let   a = this.a;\r\n            let   b = this.b;\r\n            let   c = this.c;\r\n            let   d = this.d;\r\n            let  tx = this.tx;\r\n            let  ty = this.ty;\r\n\r\n            this.a   = a * cos  - b * sin;\r\n            this.b   = a * sin  + b * cos;\r\n            this.c   = c * cos  - d * sin;\r\n            this.d   = c * sin  + d * cos;\r\n            this.tx  = tx * cos - ty * sin;\r\n            this.ty  = tx * sin + ty * cos;\r\n        }\r\n    }},\r\n\r\n\r\n    /**\r\n     * Applies a scaling transformation to the matrix.\r\n     * <p>The <i>x</i> axis is multiplied by <code>sx</code>, and the <i>y</i> axis it is multiplied by <code>sy</code>.</p>\r\n     * <p>The <code>scale()</code> method alters the <code>a</code> and <code>d</code> properties of the Matrix object. In matrix notation, this is the same as concatenating the current matrix with the following matrix:</p>\r\n     * <p><img src=\"http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/images/matrix_scale.jpg\" /></p>\r\n     * @param {number} sx - A multiplier used to scale the object along the <i>x</i> axis.\r\n     * @param {number} sy - A multiplier used to scale the object along the <i>y</i> axis.\r\n     * @name scale\r\n     * @memberof graphics.geom.Matrix\r\n     * @instance\r\n     * @function\r\n     */\r\n    scale : { value : function( sx , sy )\r\n    {\r\n        /*\r\n                            [a     c    tx   ]\r\n                            [b     d    ty   ]\r\n                            [0     0    1    ]\r\n            [sx    0     0] [a*sx  c*sx tx*sx]\r\n            [0     sy    0] [b*sy  d*sy ty*sy]\r\n            [0     0     1] [0     0    1    ]\r\n        */\r\n        if ( sx !== 1 )\r\n        {\r\n            this.a  *= sx ;\r\n            this.c  *= sx ;\r\n            this.tx *= sx ;\r\n        }\r\n        if ( sy !== 1 )\r\n        {\r\n            this.b  *= sy ;\r\n            this.d  *= sy ;\r\n            this.ty *= sy ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Sets the members of the <code>Matrix</code> to the specified values.\r\n     * @name setTo\r\n     * @memberof graphics.geom.Matrix\r\n     * @instance\r\n     * @function\r\n     * @param {number} [a=1] - The value that affects the positioning of pixels along the <i>x</i> axis when scaling or rotating an image.\r\n     * @param {number} [b=0] - The value that affects the positioning of pixels along the <i>y</i> axis when rotating or skewing an image.\r\n     * @param {number} [c=0] - The value that affects the positioning of pixels along the <i>x</i> axis when rotating or skewing an image.\r\n     * @param {number} [d=1] - The value that affects the positioning of pixels along the <i>y</i> axis when scaling or rotating an image.\r\n     * @param {number} [tx=0] - The distance by which to translate each point along the <i>x</i> axis.\r\n     * @param {number} [ty=0] - The distance by which to translate each point along the <i>y</i> axis.\r\n     */\r\n    setTo : { value : function( a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0 )\r\n    {\r\n        this.a = a;\r\n        this.b = b;\r\n        this.c = c;\r\n        this.d = d;\r\n        this.tx = tx;\r\n        this.ty = ty;\r\n    }},\r\n\r\n    /**\r\n     * Returns the Object representation of this object.\r\n     * @return the Object representation of this object.\r\n     * @name toObject\r\n     * @memberof graphics.geom.Matrix\r\n     * @instance\r\n     * @function\r\n     */\r\n    toObject : { writable : true , value : function()\r\n    {\r\n        return { a:this.a , b:this.b , c:this.c , d:this.d , tx:this.tx , ty:this.ty } ;\r\n    }},\r\n\r\n    /**\r\n     * Returns a text value listing the properties of the Matrix object.\r\n     * @return The text value listing the properties of the Matrix object.\r\n     * @name toString\r\n     * @memberof graphics.geom.Matrix\r\n     * @name toString\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { writable : true , value : function()\r\n    {\r\n        return \"[Matrix a:\" + this.a + \" b:\" + this.b + \" c:\" + this.c + \" d:\" + this.d + \" tx:\" + this.tx + \" ty:\" + this.ty + \"]\" ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the result of applying the geometric transformation represented by the Matrix object to the specified point.\r\n     * @param {graphics.geom.Point} point - The point for which you want to get the result of the <code>Matrix</code> transformation.\r\n     * @return The point resulting from applying the <code>Matrix</code> transformation.\r\n     * @name transformPoint\r\n     * @memberof graphics.geom.Matrix\r\n     * @name toString\r\n     * @instance\r\n     * @function\r\n     */\r\n    transformPoint : { value : function( point )\r\n    {\r\n        return new Point\r\n        (\r\n            this.a * point.x + this.c * point.y + this.tx ,\r\n            this.b * point.x + this.d * point.y + this.ty\r\n        );\r\n    }},\r\n\r\n    /**\r\n     * Translates the matrix along the <i>x</i> and <i>y</i> axes, as specified by the <code>dx</code> and <code>dy</code> parameters.\r\n     * @param {number} [dx=0] - The amount of movement along the <i>x</i> axis to the right, in pixels.\r\n     * @param {number} [dy=0] - The amount of movement down along the <i>y</i> axis, in pixels.\r\n     * @name translate\r\n     * @memberof graphics.geom.Matrix\r\n     * @name toString\r\n     * @instance\r\n     * @function\r\n     */\r\n    translate : { value : function( dx , dy )\r\n    {\r\n        /*\r\n                            [a     c    tx   ]\r\n                            [b     d    ty   ]\r\n                            [0     0    1    ]\r\n            [1     0   dx]  [a     c    tx+dx]\r\n            [0     1   dy]  [b     d    ty+dy]\r\n            [0     0    1]  [0     0    1    ]\r\n        */\r\n        this.tx += dx;\r\n        this.ty += dy;\r\n    }}\r\n});","\"use strict\" ;\r\n\r\nimport { Vector2D } from './Vector2D.js' ;\r\nimport { Point } from './Point.js' ;\r\n\r\n/**\r\n * The Polygon class represents a simple location in a two-dimensional coordinate system, where x represents the horizontal axis and y represents the vertical axis.\r\n * <p>In the constructor of the Polygon class, the points can be set from a variety of formats:\r\n * <ul>\r\n * <li>An array of Vector2D or Point objects : <code>[new Point(x1,y1),new Vector2D(x2,y2)]</code>.</li>\r\n * <li>An array of objects with public x/y properties.</li>\r\n * <li>An array of paired numbers that represent point coordinates: <code>[x1,y1,x2,y2,...]</code>.</li>\r\n * <li>An array of arrays with two elements representing x/y coordinates: <code>[[x1, y1], [x2, y2], ...]</code>.</li>\r\n * </ul>\r\n * </p>\r\n * @summary A simple location in a two-dimensional coordinate system, where x represents the horizontal axis and y represents the vertical axis.\r\n * @name Polygon\r\n * @memberof graphics.geom\r\n * @class\r\n * @param {*} [...] - The optional points to register the polygon representation.\r\n * @example\r\n * var p1 = new Polygon({x:10,y:10},{x:20,y:10},{x:20,y:20},{x:10,y:20}) ;\r\n * var p2 = new Polygon(10,10,20,20,20,20,10,20) ;\r\n * var p3 = new Polygon([{x:10,y:10},{x:20,y:10},{x:20,y:20},{x:10,y:20}]) ;\r\n * var p4 = new Polygon([new Vector2D(10,10),new Vector2D(20,10),new Vector2D(20,20),new Vector2D(10,20)]) ;\r\n */\r\nexport function Polygon()\r\n{\r\n    Object.defineProperties( this ,\r\n    {\r\n        _area      : { writable : true , value : 0     } ,\r\n        _closed    : { writable : true , value : true  } ,\r\n        _flattened : { writable : true , value : false } ,\r\n        _points    : { value : [] }\r\n    });\r\n\r\n    if ( arguments.length > 0 )\r\n    {\r\n        this.setTo.apply( this , arguments );\r\n    }\r\n}\r\n\r\nPolygon.prototype = Object.create( Object.prototype ,\r\n{\r\n    constructor : { writable : true , value : Polygon },\r\n\r\n    /**\r\n     * Indicates the area measure of the polygon.\r\n     * @name area\r\n     * @memberof graphics.geom.Polygon\r\n     * @instance\r\n     * @readonly\r\n     * @type number\r\n     */\r\n    area : { get : function() { return this._area ; }},\r\n\r\n    /**\r\n     * Indicates if the polygon is closed or not.\r\n     * @name closed\r\n     * @memberof graphics.geom.Polygon\r\n     * @instance\r\n     * @type boolean\r\n     */\r\n    closed :\r\n    {\r\n        get : function() { return this._closed ; } ,\r\n        set : function( value )\r\n        {\r\n            this._closed = value === true ;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Indicates if the polygon collection is flattened.\r\n     * @name flattened\r\n     * @memberof graphics.geom.Polygon\r\n     * @instance\r\n     * @readonly\r\n     * @type boolean\r\n     */\r\n    flattened : { get : function() { return this._flattened ; }},\r\n\r\n    /**\r\n     * Indicates the number of elements registered in the points collection.\r\n     * @name flattened\r\n     * @memberof graphics.geom.Polygon\r\n     * @instance\r\n     * @readonly\r\n     * @type number\r\n     */\r\n    length : { get : function() { return this._points.length ; }},\r\n\r\n    /**\r\n     * The array collection reference of all points who defines the polygon.\r\n     * @name flattened\r\n     * @memberof graphics.geom.Polygon\r\n     * @instance\r\n     * @readonly\r\n     * @type Array\r\n     */\r\n    points :\r\n    {\r\n        get : function() { return this._points ; } ,\r\n        set : function( points ) { this.setTo( points ) ; }\r\n    },\r\n\r\n    /**\r\n     * Returns a shallow copy of the object.\r\n     * @return a shallow copy of the object.\r\n     * @name clone\r\n     * @memberof graphics.geom.Polygon\r\n     * @instance\r\n     * @function\r\n     */\r\n    clone : { writable : true , value : function()\r\n    {\r\n        return new Polygon( this._points.slice() ) ;\r\n    }},\r\n\r\n    /**\r\n     * Checks whether the specified x and y coordinates are contained within this polygon.\r\n     * @name contains\r\n     * @memberof graphics.geom.Polygon\r\n     * @instance\r\n     * @function\r\n     * @param {number} x - The X value of the coordinate to evaluates.\r\n     * @param {number} y - The Y value of the coordinate to evaluates.\r\n     * @return {boolean} True if the coordinates are within this polygon, otherwise false.\r\n     * @see {@link http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html|algorithm by Jonas Raoni Soares Silva}.\r\n     */\r\n    contains : { value : function( x , y )\r\n    {\r\n        let flag = false ;\r\n        if (this._flattened)\r\n        {\r\n            for( var i = -2 , j = this._points.length - 2 ; (i += 2) < this._points.length ; j = i )\r\n            {\r\n                let ix = this._points[i];\r\n                let iy = this._points[i + 1];\r\n                let jx = this._points[j];\r\n                let jy = this._points[j + 1];\r\n                if (((iy <= y && y < jy) || (jy <= y && y < iy)) && (x < (jx - ix) * (y - iy) / (jy - iy) + ix))\r\n                {\r\n                    flag = !flag;\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            for (let i = -1 , j = this._points.length - 1 ; ++i < this._points.length ; j = i )\r\n            {\r\n                let ix = this._points[i].x;\r\n                let iy = this._points[i].y;\r\n                let jx = this._points[j].x;\r\n                let jy = this._points[j].y;\r\n                if (((iy <= y && y < jy) || (jy <= y && y < iy)) && (x < (jx - ix) * (y - iy) / (jy - iy) + ix))\r\n                {\r\n                    flag = !flag;\r\n                }\r\n            }\r\n        }\r\n        return flag ;\r\n    }},\r\n\r\n    /**\r\n     * Copies all of vector data from the source Polygon object into the calling Polygon object.\r\n     * @param {graphics.geom.Polygon} source - The Polygon object from which to copy the data.\r\n     * @return The current {@link graphics.geom.Polygon} reference.\r\n     * @name copyFrom\r\n     * @memberof graphics.geom.Polygon\r\n     * @instance\r\n     * @function\r\n     */\r\n    copyFrom : { writable : true , value : function( source )\r\n    {\r\n        if( !(source instanceof Polygon) )\r\n        {\r\n            throw TypeError( this + ' copyFrom failed, the passed-in source argument must be an Polygon object.' ) ;\r\n        }\r\n        this.points = source.points ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Compares the passed-in object with this object for equality.\r\n     * @return {boolean} <code>true</code> if the the specified object is equal with this object.\r\n     * @name equals\r\n     * @memberof graphics.geom.Polygon\r\n     * @instance\r\n     * @function\r\n     */\r\n    equals : { writable : true , value : function( o )\r\n    {\r\n        if( o === this )\r\n        {\r\n            return true ;\r\n        }\r\n        if ( o instanceof Polygon )\r\n        {\r\n            let ar1 = this.toArray() ;\r\n            let ar2 = o.toArray() ;\r\n\r\n            if( ar1.length !== ar2.length )\r\n            {\r\n                return false ;\r\n            }\r\n\r\n            for( let i = 0 , len = ar1.length ; i<len ; i++ )\r\n            {\r\n                if( (typeof(ar1[i]) === 'number' || ar1[i] instanceof Number) && ar1[i] !== ar2[i]  )\r\n                {\r\n                    return false ;\r\n                }\r\n                else\r\n                {\r\n                    try\r\n                    {\r\n                        if( ar1[i].x !== ar2[i].x || ar1[i].y !== ar2[i].y )\r\n                        {\r\n                            return false ;\r\n                        }\r\n                    }\r\n                    catch (e)\r\n                    {\r\n                        return false ;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return true ;\r\n        }\r\n        else\r\n        {\r\n            return false ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Flattens this polygon so the points are a sequence of numbers. Any Point objects found are removed and replaced with two numbers and set the <code>flattened</code> property to <code>true</code>.\r\n     * @name flatten\r\n     * @instance\r\n     * @function\r\n     * @memberof graphics.geom.Polygon\r\n     * @example\r\n     * var polygon = new Polygon({x:10,y:10},{x:20,y:10},{x:20,y:20},{x:10,y:20}) ;\r\n     * polygon.flatten() ;\r\n     * trace(polygon.points) ; // 10,10,20,20,20,20,10,20\r\n     * trace(polygon.flattened) ; // true\r\n     */\r\n    flatten : { value : function ()\r\n    {\r\n        if( this._points.length > 0 )\r\n        {\r\n            let ar = this.toArray();\r\n            this._points.length = 0 ;\r\n            for( let i = 0 , len = ar.length ; i<len ; i++ )\r\n            {\r\n                this._points.push(ar[i]) ;\r\n            }\r\n            this._flattened = true;\r\n        }\r\n        return this;\r\n    }},\r\n\r\n    /**\r\n     * Sets this Polygon to the given points.\r\n     * <p>All the points can be set from a variety of formats:\r\n     * <ul>\r\n     * <li>An array of Vector2D or Point objects : <code>[new Point(x1,y1),new Vector2D(x2,y2)]</code>.</li>\r\n     * <li>An array of objects with public x/y properties.</li>\r\n     * <li>An array of paired numbers that represent point coordinates: <code>[x1,y1,x2,y2,...]</code>.</li>\r\n     * <li>An array of arrays with two elements representing x/y coordinates: <code>[[x1, y1], [x2, y2], ...]</code>.</li>\r\n     * </ul>\r\n     * </p>\r\n     * @param {*} [points] - All the points to defines the polygon representation.\r\n     * @name setTo\r\n     * @instance\r\n     * @function\r\n     * @memberof graphics.geom.Polygon\r\n     * @example\r\n     * var polygon = new Polygon() ;\r\n     *\r\n     * polygon.setTo({x:10,y:10},{x:20,y:10},{x:20,y:20},{x:10,y:20}) ;\r\n     * trace( polygon.points ) ;\r\n     *\r\n     * polygon.setTo(10,10,20,20,20,20,10,20) ;\r\n     * trace( polygon.points ) ;\r\n     *\r\n     * polygon.setTo([{x:10,y:10},{x:20,y:10},{x:20,y:20},{x:10,y:20}]) ;\r\n     * trace( polygon.points ) ;\r\n     *\r\n     * polygon.setTo([new Vector2D(10,10),new Vector2D(20,10),new Vector2D(20,20),new Vector2D(10,20)]) ;\r\n     * trace( polygon.points ) ;\r\n     */\r\n    setTo : { writable : true , value : function( points )\r\n    {\r\n        this._area = 0;\r\n        this._points.length = 0 ;\r\n        this._flattened = false ;\r\n        if ( arguments.length > 0 )\r\n        {\r\n            if( !(points instanceof Array) )\r\n            {\r\n                points = Array.prototype.slice.call( arguments ) ;\r\n            }\r\n\r\n            let pos ;\r\n            let min = Number.MAX_VALUE;\r\n            let len = points.length ;\r\n            for ( let i=0 ; i < len ; i++ )\r\n            {\r\n                pos = points[i] ;\r\n                if ( typeof(pos) === 'number' || (pos instanceof Number) )\r\n                {\r\n                    pos = new Point(pos, points[i+1] ) ;\r\n                    i++ ;\r\n                }\r\n                else if( pos instanceof Array )\r\n                {\r\n                    pos = new Point(points[i][0], points[i][1]);\r\n                }\r\n                else if( 'x' in pos && 'y' in pos )\r\n                {\r\n                    pos = new Point( pos.x, pos.y );\r\n                }\r\n                else\r\n                {\r\n                    pos = null ;\r\n                }\r\n\r\n                if( pos !== null )\r\n                {\r\n                    this._points.push(pos);\r\n                    if ( pos.y < min )\r\n                    {\r\n                        min = pos.y;\r\n                    }\r\n                }\r\n            }\r\n            this.calculateArea(min);\r\n        }\r\n\r\n        return this;\r\n    }},\r\n\r\n    /**\r\n     * Export all the points as an array of flat numbers, following the sequence <code>[x1,y1,x2,y2,x3,y3,...]</code>.\r\n     * @return The Array representation of this Polygon.\r\n     * @name toArray\r\n     * @memberof graphics.geom.Polygon\r\n     * @instance\r\n     * @function\r\n     * @param {Array} [output=null] - The optional Array to fill, if this argument is null, a new Array is created.\r\n     */\r\n    toArray : { value : function ( output = null )\r\n    {\r\n        if ( !(output instanceof Array) )\r\n        {\r\n            output = [];\r\n        }\r\n        let pos ;\r\n        let len = this._points.length ;\r\n        for( let i = 0 ; i < len ; i++ )\r\n        {\r\n            pos = this._points[i] ;\r\n            if( typeof(pos) === 'number' || (pos instanceof Number) )\r\n            {\r\n                output.push(pos) ;\r\n            }\r\n            else\r\n            {\r\n                output.push(pos.x);\r\n                output.push(pos.y);\r\n            }\r\n        }\r\n        return output;\r\n    }},\r\n\r\n    /**\r\n     * Returns the Object representation of this object.\r\n     * @return the Object representation of this object.\r\n     * @name toObject\r\n     * @memberof graphics.geom.Polygon\r\n     * @instance\r\n     * @function\r\n     */\r\n    toObject : { writable : true , value : function()\r\n    {\r\n        return this._points.map( ( element ) => element instanceof Vector2D ? element.toObject() : element );\r\n    }},\r\n\r\n    /**\r\n     * Returns the string representation of this instance.\r\n     * @return {string} The string representation of this instance.\r\n     * @memberof graphics.geom.Polygon\r\n     * @name toString\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { writable : true , value : function()\r\n    {\r\n        return \"[Polygon]\" ;\r\n    }},\r\n\r\n    /**\r\n     * Calculates the area measure of the Polygon.\r\n     * @private\r\n     * @param {number} min - The lowest boundary\r\n     */\r\n    calculateArea : { value : function( min )\r\n    {\r\n        this._area = 0 ;\r\n        if( this._points.length )\r\n        {\r\n            let p1, p2 ;\r\n            let height, width ;\r\n            for ( let i = 0 , len = this._points.length ; i < len ; i++ )\r\n            {\r\n                p1 = this._points[i];\r\n                if (i === len - 1)\r\n                {\r\n                    p2 = this._points[0];\r\n                }\r\n                else\r\n                {\r\n                    p2 = this._points[i + 1];\r\n                }\r\n                height = ((p1.y - min) + (p2.y - min)) / 2;\r\n                width  = p1.x - p2.x;\r\n                this._area += height * width ;\r\n            }\r\n        }\r\n        return this._area ;\r\n    }}\r\n});","\"use strict\" ;\r\n\r\nimport { Vector2D } from './Vector2D.js' ;\r\n\r\n/**\r\n * The <code>Vector3D</code> class represents a point or a location in the three-dimensional space using the Cartesian coordinates <code>x</code>, <code>y</code>, and <code>z</code>.\r\n * <p>As in a two-dimensional space, the <b>x</b> property represents the horizontal axis and the <b>y</b> property represents the vertical axis. In three-dimensional space, the <b>z</b> property represents depth. The value of the x property increases as the object moves to the right. The value of the y property increases as the object moves down. The z property increases as the object moves farther from the point of view. Using perspective projection and scaling, the object is seen to be bigger when near and smaller when farther away from the screen. As in a right-handed three-dimensional coordinate system, the positive z-axis points away from the viewer and the value of the z property increases as the object moves away from the viewer's eye. The origin point (0,0,0) of the global space is the upper-left corner of the stage.</p>\r\n * <p>The Vector3D class can also represent a direction, an arrow pointing from the origin of the coordinates, such as (0,0,0), to an endpoint; or a floating-point component of an RGB (Red, Green, Blue) color model.</p>\r\n * <p>Quaternion notation introduces a fourth element, the w property, which provides additional orientation information. For example, the w property can define an angle of rotation of a Vector3D object. The combination of the angle of rotation and the coordinates x, y, and z can determine the display object's orientation. Here is a representation of Vector3D elements in matrix notation : <code>[x y z w]</code></p>\r\n * @summary The <code>Vector3D</code> class represents a point or a location in the three-dimensional space using the Cartesian coordinates <code>x</code>, <code>y</code>, and <code>z</code>.\r\n * @name Vector3D\r\n * @extends graphics.geom.Vector2D\r\n * @memberof graphics.geom\r\n * @class\r\n * @param {number} [x=0] - The first element of a Vector3D object, such as the x coordinate of a point in the three-dimensional space.\r\n * @param {number} [y=0] - The second element of a Vector3D object, such as the y coordinate of a point in the three-dimensional space.\r\n * @param {number} [z=0] - The third element of a Vector3D object, such as the z coordinate of a point in three-dimensional space.\r\n * @param {number} [w=0] - The fourth element of a Vector3D object (in addition to the x, y, and z properties) can hold data such as the angle of rotation.\r\n */\r\nexport function Vector3D( x = 0 , y = 0 , z = 0 , w = 0 )\r\n{\r\n    Vector2D.call( this , x, y ) ;\r\n    Object.defineProperties( this ,\r\n    {\r\n        /**\r\n         * The third element of a Vector3D object, such as the z coordinate of a point in three-dimensional space.\r\n         * @memberof graphics.geom.Vector3D\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        z : { value : isNaN(z) ? 0 : z , writable : true } ,\r\n\r\n        /**\r\n         * The fourth element of a Vector3D object (in addition to the x, y, and z properties) can hold data such as the angle of rotation.\r\n         * <p>Quaternion notation employs an angle as the fourth element in its calculation of three-dimensional rotation. The w property can be used to define the angle of rotation about the Vector3D object. The combination of the rotation angle and the coordinates (x,y,z) determines the display object's orientation.</p>\r\n         * @memberof graphics.geom.Vector3D\r\n         * @default 0\r\n         * @type {Number}\r\n         * @instance\r\n         */\r\n        w : { value : isNaN(w) ? 0 : w , writable : true }\r\n    });\r\n}\r\n\r\nVector3D.prototype = Object.create( Vector2D.prototype ,\r\n{\r\n    constructor : { writable : true , value : Vector3D },\r\n\r\n    /**\r\n     * The length, magnitude, of the current <code>Vector3D</code> object from the origin (0,0,0) to the object's x, y, and z coordinates. The w property is ignored. A unit vector has a length or magnitude of one.\r\n     * @memberof graphics.geom.Vector3D\r\n     * @type {Number}\r\n     */\r\n    length : { get : function()\r\n    {\r\n         let r = (this.x * this.x) + (this.y * this.y) + (this.z * this.z) ;\r\n         if( r <= 0 )\r\n         {\r\n            return 0;\r\n         }\r\n         return Math.sqrt(r);\r\n    }},\r\n\r\n    /**\r\n     * The square of the length of the current <code>Vector3D</code> object, calculated using the <code>x</code>, <code>y</code>, and <code>z</code> properties. The <code>w<c/ode> property is ignored. Use the <code>lengthSquared()</code> method whenever possible instead of the slower <code>Math.sqrt()</code> method call of the <code>Vector3D.length</code> property.\r\n     * @memberof graphics.geom.Vector3D\r\n     * @type {Number}\r\n     */\r\n    lengthSquared : { get : function()\r\n    {\r\n        return (this.x * this.x) + (this.y * this.y) + (this.z * this.z) ;\r\n    }},\r\n\r\n    /**\r\n     * Adds the coordinates of another vector to the coordinates of this vector.\r\n     * @param {graphics.geom.Vector3D|Object} vector - the vector to be added. You can use an object with the properties x, y and z.\r\n     * @name add\r\n     * @instance\r\n     * @function\r\n     * @memberof graphics.geom.Vector3D\r\n     */\r\n    add : { writable : true , value : function( vector )\r\n    {\r\n        this.x += vector.x ;\r\n        this.y += vector.y ;\r\n        this.z += vector.z ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * The a shallow copy of the object.\r\n     * @return a shallow copy of the object.\r\n     * @name clone\r\n     * @memberof graphics.geom.Vector3D\r\n     * @instance\r\n     * @function\r\n     */\r\n    clone : { writable : true , value : function()\r\n    {\r\n        return new Vector3D( this.x , this.y , this.z , this.w ) ;\r\n    }},\r\n\r\n    /**\r\n     * Copies all of vector data from the source Vector3D object into the calling Vector3D object.\r\n     * @param {graphics.geom.Vector3D} source - The Vector3D object from which to copy the data.\r\n     * @return The current {@link graphics.geom.Vector3D} reference.\r\n     * @name copyFrom\r\n     * @memberof graphics.geom.Vector3D\r\n     * @instance\r\n     * @function\r\n     */\r\n    copyFrom : { writable : true , value : function( source )\r\n    {\r\n        if( !(source instanceof Vector3D) )\r\n        {\r\n            throw TypeError( this + ' copyFrom failed, the passed-in source argument must be an Vector3D object.' ) ;\r\n        }\r\n        this.x = source.x ;\r\n        this.y = source.y ;\r\n        this.z = source.z ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Returns a new <code>Vector3D</code> object that is perpendicular (at a right angle) to the current <code>Vector3D</code> and another <code>Vector3D</code> object.\r\n     * <p>You can use the normalized cross product of two vertices of a polygon surface with the normalized vector of the camera or eye viewpoint to get a dot product. The value of the dot product can identify whether a surface of a three-dimensional object is hidden from the viewpoint.</p>\r\n     * @param {graphics.geom.Vector3D} vector  - The second <code>Vector3D</code> object.\r\n     * @return The <code>Vector3D</code> resulting of the cross product.\r\n     * @name crossProduct\r\n     * @memberof graphics.geom.Vector3D\r\n     * @instance\r\n     * @function\r\n     */\r\n    crossProduct : { value : function( vector )\r\n    {\r\n        return new Vector3D\r\n        (\r\n            (vector.y * this.z) - (vector.z * this.y) ,\r\n            (vector.z * this.x) - (vector.x * this.z) ,\r\n            (vector.x * this.y) - (vector.y * this.x)\r\n        );\r\n    }},\r\n\r\n    /**\r\n     * If the current <code>Vector3D</code> object and the one specified as the parameter are unit vertices, this method returns the cosine of the angle between the two vertices. Unit vertices are vertices that point to the same direction but their length is one. They remove the length of the vector as a factor in the result. You can use the normalize() method to convert a vector to a unit vector.\r\n     * @example\r\n     * var v1 = new Vector3(10,20,30) ;\r\n     * var v2 = new Vector3(40,60,70) ;\r\n     *\r\n     * trace( v1.dot( v2 ) ) ;\r\n     * @param {graphics.geom.Vector3D} vector - The Vector3D object to calculates the dot value.\r\n     * @return The dot value.\r\n     * @name dotProduct\r\n     * @memberof graphics.geom.Vector3D\r\n     * @instance\r\n     * @function\r\n     */\r\n    dotProduct : { writable : true , value : function( vector )\r\n    {\r\n        return ( this.x * vector.x ) + ( this.y * vector.y ) + ( this.z * vector.z ) ;\r\n    }},\r\n\r\n    /**\r\n     * Compares the passed-in object with this object for equality.\r\n     * @return {boolean} <code>true</code> if the the specified object is equal with this object.\r\n     * @name equals\r\n     * @memberof graphics.geom.Vector3D\r\n     * @instance\r\n     * @function\r\n     */\r\n    equals : { writable : true , value : function( o )\r\n    {\r\n        if ( o instanceof Vector3D )\r\n        {\r\n            return o.x === this.x && o.y === this.y && o.z === this.z && o.w === this.w ;\r\n        }\r\n        else\r\n        {\r\n            return false ;\r\n        }\r\n    }},\r\n\r\n    /**\r\n     * Negating the x,y and z values in the <code>Vector3D</code> object.\r\n     * @name negate\r\n     * @memberof graphics.geom.Vector3D\r\n     * @instance\r\n     * @function\r\n     */\r\n    negate : { writable : true , value : function()\r\n    {\r\n        this.x = -this.x ;\r\n        this.y = -this.y ;\r\n        this.z = -this.z ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Divides the value of the x, y, and z properties of the current <code>Vector3D</code> object by the value of its <code>w</code> property.\r\n     * @name project\r\n     * @memberof graphics.geom.Vector3D\r\n     * @instance\r\n     * @function\r\n     */\r\n    project : { writable : true , value : function()\r\n    {\r\n        let t = 1 / this.w ;\r\n        this.x *= t ;\r\n        this.y *= t ;\r\n        this.z *= t ;\r\n        return this ;\r\n    }},\r\n\r\n    /**\r\n     * Sets the horizontal and vertical coordinates of this object. If the <code>x</code> and the <code>y</code> parameters are <code>NaN</code> or <code>null</code> the <b>x</b> and <b>y</b> value are <code>0</code>.\r\n     * @param {number} [x=0] - The first element of a Vector3D object, such as the x coordinate of a point in the three-dimensional space.\r\n     * @param {number} [y=0] - The second element of a Vector3D object, such as the y coordinate of a point in the three-dimensional space.\r\n     * @param {number} [z=0] - The third element of a Vector3D object, such as the z coordinate of a point in three-dimensional space.\r\n     * @name setTo\r\n     * @memberof graphics.geom.Vector3D\r\n     * @instance\r\n     * @function\r\n     */\r\n    setTo : { writable : true , value : function( x = 0 , y = 0 , z = 0 )\r\n    {\r\n        this.x = isNaN(x) ? 0 : x ;\r\n        this.y = isNaN(y) ? 0 : y ;\r\n        this.z = isNaN(z) ? 0 : z ;\r\n    }},\r\n\r\n    /**\r\n     * Subtracts the coordinates of another vector from the coordinates of this vector.\r\n     * @param {graphics.geom.Vector3D} vector - The vector to be subtracted.\r\n     * @instance\r\n     * @function\r\n     * @memberof graphics.geom.Vector3D\r\n     */\r\n    subtract : { writable : true , value : function( vector )\r\n    {\r\n        this.x -= vector.x ;\r\n        this.y -= vector.y ;\r\n        this.z -= vector.z ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the Object representation of this object.\r\n     * @return the Object representation of this object.\r\n     * @memberof graphics.geom.Vector3D\r\n     * @name toObject\r\n     * @instance\r\n     * @function\r\n     */\r\n    toObject : { writable : true , value : function()\r\n    {\r\n        return { x:this.x , y:this.y , z:this.z , w:this.w } ;\r\n    }},\r\n\r\n    /**\r\n     * Returns the string representation of this instance.\r\n     * @return {string} The string representation of this instance.\r\n     * @memberof graphics.geom.Vector3D\r\n     * @name toString\r\n     * @instance\r\n     * @function\r\n     */\r\n    toString : { writable : true , value : function()\r\n    {\r\n        return \"[Vector3D x:\" + this.x + \" y:\" + this.y + \" z:\" + this.z + \"]\" ;\r\n    }}\r\n});\r\n\r\nObject.defineProperties( Vector3D ,\r\n{\r\n    /**\r\n     * The x axis defined as a <code>Vector3D</code> object with coordinates (1,0,0).\r\n     * @memberof graphics.geom.Vector3D\r\n     * @name X_AXIS\r\n     * @const\r\n     */\r\n    X_AXIS : { value : new Vector3D(1,0,0) } ,\r\n\r\n    /**\r\n     * The y axis defined as a <code>Vector3D</code> object with coordinates (0,1,0).\r\n     * @memberof graphics.geom.Vector3D\r\n     * @name Y_AXIS\r\n     * @const\r\n     */\r\n    Y_AXIS : { value : new Vector3D(0,1,0) } ,\r\n\r\n    /**\r\n     * The z axis defined as a <code>Vector3D</code> object with coordinates (0,0,1).\r\n     * @memberof graphics.geom.Vector3D\r\n     * @name Z_AXIS\r\n     * @const\r\n     */\r\n    Z_AXIS : { value : new Vector3D(0,0,1) } ,\r\n\r\n    /**\r\n     * Returns the angle in radians between two vectors.\r\n     * <p>The <code>angleBetween()</code> method is a static method. You can use it directly as a method of the Vector3D class.</p>\r\n     * <p>To convert a degree to a radian, you can use the following formula: <code>radian = Math.PI/180 * degree</code></p>\r\n     * @param {graphics.geom.Vector3D} v1 - The first Vector3D object.\r\n     * @param {graphics.geom.Vector3D} v2 - The second Vector3D object.\r\n     * @return The angle between two Vector3D objects.\r\n     * @memberof graphics.geom.Vector3D\r\n     * @name The distance between two Vector3D objects.\r\n     * @const\r\n     * @function\r\n     */\r\n    angleBetween : { value : function( v1 , v2 )\r\n    {\r\n        let dot = v1.x * v2.x + v1.y * v2.y + v1.z * v2.z ;\r\n        return Math.acos( dot / (v1.length * v2.length) );\r\n    }},\r\n\r\n    /**\r\n     * Returns the distance between two <code>Vector3D</code> objects.\r\n     * <p>The <code>distance()</code> method is a static method. You can use it directly as a method of the Vector3D class to get the Euclidean distance between two three-dimensional points.</p>\r\n     * @param {graphics.geom.Vector3D} a - The first Vector3D object.\r\n     * @param {graphics.geom.Vector3D} b - The second Vector3D object.\r\n     * @return he angle between two Vector3D objects.\r\n     * @memberof graphics.geom.Vector3D\r\n     * @name distance\r\n     * @const\r\n     * @function\r\n     */\r\n    distance : { value : function( v1 , v2 )\r\n    {\r\n        let x = v1.x - v2.x ;\r\n        let y = v1.y - v2.y ;\r\n        let z = v1.z - v2.z ;\r\n        let r = (x * x) + (y * y) + (z * z) ;\r\n        if( r <= 0 )\r\n        {\r\n            r = 0;\r\n        }\r\n        return Math.sqrt(r);\r\n    }}\r\n});","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { AspectRatio }    from './geom/AspectRatio.js' ;\nimport { Circle }         from './geom/Circle.js' ;\nimport { ColorTransform } from './geom/ColorTransform.js' ;\nimport { Dimension }      from './geom/Dimension.js' ;\nimport { EdgeMetrics }    from './geom/EdgeMetrics.js' ;\nimport { Ellipse }        from './geom/Ellipse.js' ;\nimport { Matrix }         from './geom/Matrix.js' ;\nimport { Point }          from './geom/Point.js' ;\nimport { Polygon }        from './geom/Polygon.js' ;\nimport { Rectangle }      from './geom/Rectangle.js' ;\nimport { Vector2D }       from './geom/Vector2D.js' ;\nimport { Vector3D }       from './geom/Vector3D.js' ;\n\n/**\n * The {@link graphics.geom} library is a set of classes and utilities for Geometry Operations.\n * @summary The {@link graphics.geom} library is a set of classes and utilities for Geometry Operations.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace graphics.geom\n * @memberof graphics\n */\nexport var geom = Object.assign\n({\n    AspectRatio    : AspectRatio ,\n    Circle         : Circle ,\n    ColorTransform : ColorTransform ,\n    Dimension      : Dimension ,\n    EdgeMetrics    : EdgeMetrics ,\n    Ellipse        : Ellipse ,\n    Matrix         : Matrix ,\n    Point          : Point ,\n    Polygon        : Polygon ,\n    Rectangle      : Rectangle ,\n    Vector2D       : Vector2D ,\n    Vector3D       : Vector3D\n}) ;","\"use strict\" ;\n\nimport './polyfill/Object.js' ;\n\nimport { isDirectionable } from './graphics/Directionable.js' ;\n\nimport { Align }              from './graphics/Align.js' ;\nimport { ArcType }            from './graphics/ArcType.js' ;\nimport { Border }             from './graphics/Border.js' ;\nimport { CardinalDirection }  from './graphics/CardinalDirection.js' ;\nimport { Corner }             from './graphics/Corner.js' ;\nimport { Direction }          from './graphics/Direction.js' ;\nimport { Directionable }      from './graphics/Directionable.js' ;\nimport { DirectionOrder }     from './graphics/DirectionOrder.js' ;\nimport { FillStyle }          from './graphics/FillStyle.js' ;\nimport { isMeasurable }       from './graphics/isMeasurable.js' ;\nimport { Layout }             from './graphics/Layout.js' ;\nimport { LayoutBufferMode }   from './graphics/LayoutBufferMode.js' ;\nimport { LayoutEntry }        from './graphics/LayoutEntry.js' ;\nimport { LineStyle }          from './graphics/LineStyle.js' ;\nimport { Orientation }        from './graphics/Orientation.js' ;\nimport { Position }           from './graphics/Position.js' ;\nimport { ZOrder }             from './graphics/ZOrder.js' ;\n\nimport { colors }  from './graphics/colors.js' ;\nimport { display } from './graphics/display.js' ;\nimport { geom }    from './graphics/geom.js' ;\n\n/**\n * The {@link graphics} package is an intuitive graphics API to manipulate all display objects in your applications. Offers a lot of powerful functionality to create and work with graphics, colors and geometrics objects, all neatly wrapped up in a well designed, consistent and clean programming interface.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace graphics\n * @version 1.0.7\n * @since 1.0.7\n */\nexport var graphics = Object.assign\n({\n    // ----- Singletons\n\n    isDirectionable : isDirectionable ,\n\n    // ----- Classes and enumerations\n\n    Align              : Align ,\n    ArcType            : ArcType ,\n    Border             : Border ,\n    CardinalDirection  : CardinalDirection ,\n    Corner             : Corner ,\n    Direction          : Direction ,\n    Directionable      : Directionable ,\n    DirectionOrder     : DirectionOrder ,\n    FillStyle          : FillStyle ,\n    isMeasurable       : isMeasurable ,\n    Layout             : Layout ,\n    LayoutBufferMode   : LayoutBufferMode ,\n    LayoutEntry        : LayoutEntry ,\n    LineStyle          : LineStyle ,\n    Orientation        : Orientation ,\n    Position           : Position ,\n    ZOrder             : ZOrder ,\n\n    // ----- packages\n\n    colors  : colors ,\n    display : display ,\n    geom    : geom\n}) ;","'use strict' ;\n\n/**\n * The {@link screens.Device} enumeration defines constants enumerating the possible type of the device.\n * @summary The {@link screens.Device} enumeration defines constants enumerating the possible type of the device.\n * @name Device\n * @namespace screens.Device\n * @memberof screens\n */\nexport var Device = Object.defineProperties( {} ,\n{\n    /**\n     * Specifies a desktop device.\n     * @memberof screens.Device\n     * @type string\n     * @default desktop\n     */\n    DESKTOP : { enumerable : true , value : \"desktop\" } ,\n\n    /**\n     * Specifies a mobile device.\n     * @memberof screens.Device\n     * @type string\n     * @default mobile\n     */\n    MOBILE : { enumerable : true , value : \"mobile\" } ,\n\n    /**\n     * Specifies a tv device.\n     * @memberof screens.Device\n     * @type string\n     * @default tv\n     */\n    TV : { enumerable : true , value : \"tv\" }\n}) ;\n","'use strict';\n\nimport { Device } from './Device.js' ;\n\n/**\n * Get the os informations\n * @summary Get the os informations\n * @name Os\n * @class\n * @memberof screens\n */\nexport function Os()\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * @private\n         */\n        _name : { writable : true  , value : null } ,\n\n        /**\n         * @private\n         */\n        _type : { writable : true  , value : null } ,\n\n        /**\n         * @private\n         */\n        _version : { writable : true  , value : null }\n    });\n\n    this.__initialize__();\n}\n\nOs.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Os } ,\n\n    /**\n     * Get the name of the os\n     * @return The name of the os\n     * @name name\n     * @memberof screens\n     */\n    name : { get : function() { return this._name ; } } ,\n\n    /**\n     * Get the type of the os\n     * @return The type of the os\n     * @name version\n     * @memberof screens\n     */\n    type : { get : function() { return this._type ; } } ,\n\n    /**\n     * Get the version of the os\n     * @return The version of the os\n     * @name version\n     * @memberof screens\n     */\n    version : { get : function() { return this._version ; } } ,\n\n    /**\n     * Initialize the browser informations.\n     * @private\n     */\n    __initialize__ : { writable : true , value : function()\n    {\n        let ua = navigator.userAgent;\n        let name = \"\";\n        let type = \"\";\n        let version = \"\";\n\n\n        if( /iPad/.test( ua ) )\n        {\n            name = Os.IPAD;\n            type = Device.MOBILE;\n            if( /CPU OS ([\\w\\.-_]+)/.test( ua ) )\n            {\n                version = RegExp.$1;\n            }\n        }\n        else if( /iPod/.test( ua ) )\n        {\n            name = Os.IPOD;\n            type = Device.MOBILE;\n            if( /CPU iPhone OS ([\\w\\.-_]+)/.test( ua ) )\n            {\n                version = RegExp.$1;\n            }\n        }\n        else if( /iPhone/.test( ua ) )\n        {\n            name = Os.IPHONE;\n            type = Device.MOBILE;\n            if( /CPU iPhone OS ([\\w\\.-_]+)/.test( ua ) )\n            {\n                version = RegExp.$1;\n            }\n        }\n        else if( /Macintosh/.test( ua ) )\n        {\n            name = Os.MAC;\n            type = Device.DESKTOP;\n            if( /Mac OS X ([\\w\\.-_]+)/.test( ua ) )\n            {\n                version = RegExp.$1;\n            }\n        }\n        else if( /Windows Phone ([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Os.WINDOWS;\n            type = Device.MOBILE;\n            version = RegExp.$1;\n        }\n        else if( /Windows ([\\w\\. ]+)/.test( ua ) )\n        {\n            name = Os.WINDOWS;\n            type = Device.DESKTOP;\n            version = RegExp.$1;\n        }\n        else if( /Android ([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Os.ANDROID;\n            type = Device.MOBILE;\n            version = RegExp.$1;\n        }\n        else if( /Linux/.test( ua ) )\n        {\n            name = Os.LINUX;\n            type = Device.DESKTOP;\n        }\n\n        this._name    = name;\n        this._type    = type;\n        this._version = version;\n    }}\n});\n\nObject.defineProperties( Os ,\n{\n    /**\n    * The <code>'Android'</code> os.\n    * @memberof screens.Os\n    * @const\n    * @type {string}\n    */\n    ANDROID : { value : 'Android' , enumerable : true } ,\n\n    /**\n    * The <code>'iPad'</code> os.\n    * @memberof screens.Os\n    * @const\n    * @type {string}\n    */\n    IPAD : { value : 'iPad' , enumerable : true } ,\n\n    /**\n    * The <code>'iPod'</code> os.\n    * @memberof screens.Os\n    * @const\n    * @type {string}\n    */\n    IPOD : { value : 'iPod' , enumerable : true } ,\n\n    /**\n    * The <code>'iPhone'</code> os.\n    * @memberof screens.Os\n    * @const\n    * @type {string}\n    */\n    IPHONE : { value : 'iPhone' , enumerable : true } ,\n\n    /**\n    * The <code>'Linux'</code> os.\n    * @memberof screens.Os\n    * @const\n    * @type {string}\n    */\n    LINUX : { value : 'Linux' , enumerable : true } ,\n\n    /**\n    * The <code>'Mac'</code> os.\n    * @memberof screens.Os\n    * @const\n    * @type {string}\n    */\n    MAC : { value : 'Mac' , enumerable : true } ,\n\n    /**\n    * The <code>'Windows'</code> os.\n    * @memberof screens.Os\n    * @const\n    * @type {string}\n    */\n    WINDOWS : { value : 'Windows' , enumerable : true } ,\n\n    /**\n    * The <code>'Windows Phone'</code> os.\n    * @memberof screens.Os\n    * @const\n    * @type {string}\n    */\n    WINDOWS_PHONE : { value : 'Windows Phone' , enumerable : true }\n} );\n","'use strict' ;\n\nimport { Os } from './Os.js';\n\n/**\n * Get the browser informations\n * @summary Get the browser informations\n * @name Browser\n * @class\n * @memberof screens\n */\nexport function Browser()\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * @private\n         */\n        _name : { writable : true  , value : null } ,\n\n        /**\n         * @private\n         */\n        _version : { writable : true  , value : null }\n\n    });\n\n    this.__initialize__();\n}\n\nBrowser.prototype = Object.create( Object.prototype ,\n{\n    constructor : { value : Browser } ,\n\n    /**\n     * Get the name of the browser\n     * @return The name of the browser\n     * @name name\n     * @memberof screens\n     */\n    name : { get : function() { return this._name ; } } ,\n\n    /**\n     * Get the version of the browser\n     * @return The version of the browser\n     * @name version\n     * @memberof screens\n     */\n    version : { get : function() { return this._version ; } } ,\n\n    /**\n     * Initialize the browser infos\n     * @private\n     */\n    __initialize__ : { writable : true , value : function()\n    {\n        let os = new Os();\n        let ua = navigator.userAgent;\n        let name = \"\";\n        let version = \"\";\n\n        if( /Arora\\/([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Browser.ARORA;\n            version = RegExp.$1;\n        }\n        else if( /Edge\\/([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Browser.EDGE;\n            version = RegExp.$1;\n        }\n        else if( /Opera\\/([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Browser.OPERA;\n            version = RegExp.$1;\n        }\n        else if( /OPR\\/([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Browser.OPERA;\n            version = RegExp.$1;\n        }\n        else if( /Silk\\/([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Browser.SILK;\n            version = RegExp.$1;\n        }\n        else if( /Chrome\\/([\\w\\.-]+)/.test( ua ) && ( os.name !== Os.WINDOWS_PHONE ) )\n        {\n            name = Browser.CHROME;\n            version = RegExp.$1;\n        }\n        else if( /CriOS\\/([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Browser.CHROME;\n            version = RegExp.$1;\n        }\n        else if( /Epiphany\\/([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Browser.EPIPHANY;\n            version = RegExp.$1;\n        }\n        else if( /Firefox\\D+([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Browser.FIREFOX;\n            version = RegExp.$1;\n        }\n        else if( /FxiOS\\/([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Browser.FIREFOX;\n            version = RegExp.$1;\n        }\n        else if( /AppleWebKit/.test( ua ) && ( ( os.name === Os.IPAD ) || ( os.name === Os.IPOD ) || ( os.name === Os.IPHONE ) ) )\n        {\n            name = Browser.SAFARI;\n            version = \"embeded\";\n        }\n        else if( /MSIE ([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Browser.IE;\n            version = RegExp.$1;\n        }\n        else if( /Midori\\/([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Browser.MIDORI;\n            version = RegExp.$1;\n        }\n        else if( /Safari/.test( ua ) && ( os.name !== Os.WINDOWS_PHONE ) )\n        {\n            name = Browser.SAFARI;\n            if( /Version\\/([\\w\\.-]+)/.test( ua ) )\n            {\n                version = RegExp.$1;\n            }\n        }\n        else if( /Trident\\/(\\d+\\.\\d+)(.*)rv:([\\w\\.-]+)/.test( ua ) )\n        {\n            name = Browser.TRIDENT;\n            version = RegExp.$3;\n        }\n\n        this._name    = name;\n        this._version = version;\n    }}\n});\n\nObject.defineProperties( Browser ,\n{\n    /**\n    * The <code>'Arora'</code> browser.\n    * @memberof screens.Browser\n    * @const\n    * @type {string}\n    */\n    ARORA : { value : 'Arora' , enumerable : true } ,\n\n    /**\n    * The <code>'chrome'</code> browser.\n    * @memberof screens.Browser\n    * @const\n    * @type {string}\n    */\n    CHROME : { value : 'Chrome' , enumerable : true } ,\n\n    /**\n    * The <code>'epiphany'</code> browser.\n    * @memberof screens.Browser\n    * @const\n    * @type {string}\n    */\n    EPIPHANY : { value : 'Epiphany' , enumerable : true } ,\n\n    /**\n    * The <code>'firefox'</code> browser.\n    * @memberof screens.Browser\n    * @const\n    * @type {string}\n    */\n    FIREFOX : { value : 'Firefox' , enumerable : true } ,\n\n    /**\n    * The <code>'ie'</code> browser.\n    * @memberof screens.Browser\n    * @const\n    * @type {string}\n    */\n    IE : { value : 'ie' , enumerable : true } ,\n\n    /**\n    * The <code>'midori'</code> browser.\n    * @memberof screens.Browser\n    * @const\n    * @type {string}\n    */\n    MIDORI : { value : 'Midori' , enumerable : true } ,\n\n    /**\n    * The <code>'opera'</code> browser.\n    * @memberof screens.Browser\n    * @const\n    * @type {string}\n    */\n    OPERA : { value : 'Opera' , enumerable : true } ,\n\n    /**\n    * The <code>'safari'</code> browser.\n    * @memberof screens.Browser\n    * @const\n    * @type {string}\n    */\n    SAFARI : { value : 'Safari' , enumerable : true } ,\n\n    /**\n    * The <code>'trident'</code> browser.\n    * @memberof screens.Browser\n    * @const\n    * @type {string}\n    */\n    TRIDENT : { value : 'Trident' , enumerable : true } ,\n\n    /**\n    * The <code>'edge'</code> browser.\n    * @memberof screens.Browser\n    * @const\n    * @type {string}\n    */\n    EDGE : { value : 'Edge' , enumerable : true } ,\n\n    /**\n    * The <code>'silk'</code> browser.\n    * @memberof screens.Browser\n    * @const\n    * @type {string}\n    */\n    SILK : { value : 'Silk' , enumerable : true }\n} );\n","\"use strict\" ;\n\nimport { Signal }  from '../../system/signals/Signal.js' ;\nimport { Timer }  from '../../system/process/Timer.js' ;\n\n/**\n * The Accelerometer class dispatches events based on activity detected by the device's motion sensor.\n * <p>This data represents the device's location or movement along a 3-dimensional axis.</p>\n * @summary The Accelerometer class get the device's location or movement.\n * @name Accelerometer\n * @class\n * @memberof screens.sensors\n */\nexport function Accelerometer()\n{\n    Object.defineProperties( this ,\n    {\n        /**\n         * This timer used for accelerometer update.\n         * @name timer\n         * @memberof screens.sensors.Accelerometer\n         * @type {system.process.Timer}\n         * @instance\n         * @const\n         */\n        timer : { value : new Timer() } ,\n\n        /**\n         * This signal emit when accelerometer update.\n         * @name update\n         * @memberof screens.sensors.Accelerometer\n         * @type {system.signals.Signal}\n         * @instance\n         * @const\n         */\n        update : { value : new Signal() } ,\n\n        /**\n         * @private\n         */\n        _event : { writable : true  , value : null } ,\n\n        /**\n         * @private\n         */\n        _isSupported : { writable : true  , value : false } ,\n\n        /**\n         * @private\n         */\n        _interval : { writable : true  , value : 20 }\n    });\n\n    this.__initialize__() ;\n}\n\nAccelerometer.prototype = Object.create( Object.prototype ,\n{\n    constructor : { writable : true , value : Accelerometer } ,\n\n    /**\n     * Get if accelerometer is supported\n     * @name isSupported\n     * @memberof screens.sensors.Accelerometer\n     * @instance\n     * @readonly\n     */\n    isSupported : { get : function() { return this._isSupported ; } } ,\n\n    /**\n     * Notify when the accelerometer update.\n     * @name notifyUpdate\n     * @memberof screens.sensors.Accelerometer\n     * @function\n     * @instance\n     */\n    notifyUpdate : { writable : true , value : function()\n    {\n        if( this._isSupported && this.update.connected() && this._event !== null )\n        {\n            this.update.emit( this._event , this ) ;\n        }\n    }},\n\n    /**\n     * Set the desired time interval for updates\n     * @name setRequestedUpdateInterval\n     * @memberof screens.sensors.Accelerometer\n     * @instance\n     * @readonly\n     */\n    setRequestedUpdateInterval : { set : function( value )\n    {\n        this._interval = value ;\n        if( this._isSupported === true )\n        {\n            this.__launchTimer__();\n        }\n    }} ,\n\n    /**\n     * Initialize the internal Accelerometer.\n     * @private\n     */\n    __initialize__ : { writable : true , value : function()\n    {\n        if( window !== undefined && window.DeviceMotionEvent !== undefined )\n        {\n            this._isSupported = true ;\n        }\n\n        // -------- Behaviors\n\n        if( this._isSupported === true )\n        {\n            window.addEventListener( \"devicemotion\" , this.__update__.bind( this ) , false );\n            this.__launchTimer__();\n        }\n    }},\n\n    /**\n     * Launch the internal timer for accelerometer update.\n     * @private\n     */\n    __launchTimer__ : { writable : true , value : function()\n    {\n        this.timer.stop();\n\n        this.timer.delay = this._interval ;\n        this.timer.progressIt.connect( this.notifyUpdate.bind( this ) );\n        this.timer.run();\n    }},\n\n    /**\n     * Update the internal Accelerometer event.\n     * @private\n     */\n    __update__ : { writable : true , value : function( event )\n    {\n        this._event = event;\n    }}\n});\n","\"use strict\" ;\n\nimport '../polyfill/Object.js' ;\n\nimport { Accelerometer } from './sensors/Accelerometer.js' ;\n\n/**\n * The {@link screens.sensors} package contains classes for working mobile devices that support GPS and respond to motion.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @author Benoit Pouzet <bpouzet@gmail.com>\n * @namespace screens.sensors\n * @version 1.0.7\n * @since 1.0.7\n */\nexport var sensors = Object.assign\n({\n    Accelerometer : Accelerometer\n}) ;\n","\"use strict\" ;\n\nimport './polyfill/Object.js' ;\n\nimport { Browser } from './screens/Browser.js' ;\nimport { Device }  from './screens/Device.js' ;\nimport { Os }      from './screens/Os.js' ;\n\nimport { sensors } from './screens/sensors.js' ;\n\n/**\n * The {@link screens} package is .\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n * @namespace screens\n * @version 1.0.7\n * @since 1.0.7\n */\nexport var screens = Object.assign\n({\n    // classes\n    Browser : Browser ,\n    Device  : Device ,\n    Os      : Os ,\n\n    // packages\n    sensors : sensors\n}) ;\n","\"use strict\" ;\n\nimport { sayHello } from './core/hello.js' ;\nimport { ucFirst } from './core/strings/ucFirst.js' ;\n\nimport './polyfill/index.js' ;\n\n/**\n * The VEGAS.js framework.\n * @license {@link https://www.mozilla.org/en-US/MPL/2.0/|MPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/gpl-2.0.fr.html|GPL 2.0} / {@link https://www.gnu.org/licenses/old-licenses/lgpl-2.1.fr.html|LGPL 2.1}\n * @author Marc Alcaraz <ekameleon@gmail.com>\n */\nexport { global }    from './core/global.js' ;\nexport { sayHello }  from './core/hello.js' ;\nexport { skipHello } from './core/hello.js' ;\nexport { trace }     from './core/trace.js' ;\n\nexport { core }     from './core.js' ;\nexport { system }   from './system.js' ;\nexport { graphics } from './graphics.js' ;\nexport { screens }  from './screens.js' ;\n\n/**\n * The string expression of the current VEGAS version.\n * @name version\n * @type string\n * @global\n */\nexport const version = '<@VERSION@>' ;\n\n/**\n * The metadatas object to describe the <b>VEGAS JS</b> framework.\n * @name metas\n * @property {string} name - The name of the library\n * @property {string} description - The description of the library\n * @property {string} version - The version of the library\n * @property {string} license - The license of the library\n * @property {string} url - The url of the library\n * @type Object\n * @global\n * @example\n * trace( core.dump( metas ) ) ;\n */\nexport const metas = Object.defineProperties( {} ,\n{\n    name        : { enumerable : true , value : ucFirst('<@NAME@>') } ,\n    description : { enumerable : true , value : \"<@DESCRIPTION@>\" },\n    version     : { enumerable : true , value : version } ,\n    license     : { enumerable : true , value : \"<@LICENSE@>\" } ,\n    url         : { enumerable : true , value : '<@HOMEPAGE@>' }\n});\n\ntry\n{\n    if ( window )\n    {\n        window.addEventListener( 'load' , function load()\n        {\n            window.removeEventListener( \"load\", load, false ) ;\n            sayHello(metas.name,metas.version,metas.url) ;\n        }, false );\n    }\n}\ncatch( error )\n{\n    // do nothing\n}\n"],"names":["skip","sayHello","name","version","link","navigator","userAgent","toLowerCase","indexOf","args","console","log","apply","window","error","skipHello","ucFirst","str","String","charAt","toUpperCase","substring","Date","now","prototype","getTime","Function","bind","oThis","TypeError","aArgs","Array","slice","call","arguments","fToBind","fNOP","fBound","concat","undefined","defineProperty","toString","match","Math","sign","x","Object","assign","target","output","index","length","source","nextKey","hasOwnProperty","global","e","document","performance","value","configurable","writable","mozNow","msNow","oNow","webkitNow","startTime","ONE_FRAME_TIME","lastTime","vendors","len","requestAnimationFrame","p","cancelAnimationFrame","callback","currentTime","delay","setTimeout","id","clearTimeout","Uint32Array","babelHelpers.typeof","CheapArray","type","proto","arg","i","constructor","trace","context","dumpArray","prettyprint","indent","indentor","isNaN","Boolean","l","push","dump","spaces","decal","join","dumpDate","date","timestamp","valueOf","y","getFullYear","m","getMonth","d","getDate","h","getHours","mn","getMinutes","s","getSeconds","ms","getMilliseconds","data","reverse","splice","dumpObject","member","sort","toUnicodeNotation","num","hex","dumpString","code","quote","ch","pos","charCodeAt","o","Number","toSource","isBoolean","object","isFloat","isInt","isNumber","isUint","isString","contains","array","initialize","elements","ar","abs","pierce","flag","item","repeat","count","result","rotate","amount","unshift","shuffle","rdm","tmp","round","random","sortOn","propName","options","o1","o2","v1","v2","CASEINSENSITIVE","RETURNINDEXEDARRAY","NUMERIC","DESCENDING","UNIQUESORT","container","position","inserted","swap","from","to","clone","arrays","spliceInto","compare","charA","charB","a","b","caseValue","isAlpha","c","isAlphaOrDigit","isASCII","isContained","charset","isDigit","isHexDigit","isIdentifierStart","lineTerminators","isLineTerminator","isLower","isOctalDigit","operators","isOperator","symbols","isSymbol","isUnicode","isUpper","whiteSpaces","isWhiteSpace","chars","distance","color1","color2","pow","equals","tolerance","dist","fade","ratio","r","g","isLittleEndian","ArrayBuffer","Uint8Array","littleEndian","max","fromARGB","min","getAlpha","color","getBlue","getGreen","getRed","isUnique","colors","cur","toHex","prefix","upper","gb","uniques","maximum","ONE_DAY_MS","after","date1","date2","before","monthDays","daysInMonth","leapYear","year","yesterday","isDOMElement","Node","isDOMObject","EventTarget","isElement","Element","obj","nodeType","nodeName","isHTMLElement","HTMLElement","isListObject","NodeList","isSVGElement","SVGElement","xmlbase","dom","backIn","t","backInOut","backOut","bounceOut","bounceIn","bounceInOut","circularIn","sqrt","circularInOut","circularOut","cubicIn","cubicInOut","cubicOut","elasticIn","PI","asin","sin","elasticInOut","elasticOut","expoIn","expoInOut","expoOut","linear","quarticIn","quarticInOut","quarticOut","quinticIn","quinticInOut","quinticOut","regularIn","regularInOut","regularOut","sineIn","cos","sineInOut","sineOut","easings","aop","func","begin","end","scope","functors","RAD2DEG","acosD","acos","acosHm","acosHp","angleOfLine","x1","y1","x2","y2","atan2","asinD","asinH","atan2D","atanD","angle","atan","atanH","DEG2RAD","bearing","latitude1","longitude1","latitude2","longitude2","dLng","clamp","NaN","berp","start","bounce","cartesianToPolar","vector","degrees","radius","ceil","n","floatCount","clerp","half","diff","cosD","coserp","cosH","exp","degreesToRadians","dx","dy","distanceByObject","p1","p2","EARTH_RADIUS_IN_METERS","EPSILON","factorial","fibonacci","j","k","finalBearing","fixAngle","floor","gcd","i1","i2","haversine","dLat","toFixed","hermite","hypothenuse","interpolate","isEven","isOdd","LAMBDA","lerp","log10","LN10","logN","base","normalize","minimum","map","min1","max1","min2","max2","midPoint","bx","by","point","MILE_TO_METER","modulo","nearlyEquals","value1","value2","percentage","isFinite","PHI","PI2","polarToCartesian","replaceNaN","defaultValue","sinD","sinerp","sinH","tanD","tan","tanH","vincenty","f","L","U1","U2","sinU1","cosU1","sinU2","cosU2","lambda","lambdaP","iterLimit","cosLambda","sinLambda","cosSigma","sinSigma","sigma","sinAlpha","cosSqAlpha","cos2SigmaM","C","uSq","A","B","deltaSigma","wrap","range","maths","toInt","toUint","numbers","forEach","breaker","key","fuse","src","srcPos","dest","destPos","ReferenceError","members","byValue","prop","merge","overwrite","objects","generateUUID","pattern","replace","getDefinitionByName","domain","split","element","invoke","reflect","between","left","right","camelCase","capitalize","center","size","separator","remain","pad","trim","clean","str1","str2","strict","local","localeCompare","endsWith","lastIndexOf","fastformat","RegExp","fastformatDate","month","day","width","format","formatted","words","shift","search","exec","part","token","dirty","padding","buffer","substr","Error","bl","hyphenate","indexOfAny","anyOf","startIndex","endIndex","insert","strA","strB","lastIndexOfAny","Infinity","RangeError","startsWith","trimEnd","trimStart","truncate","prune","template","ucWords","versionUUID","uuid","validateUUID","test","strings","arepeat","core","Enum","defineProperties","create","_name","_value","isEquatable","Equatable","isEvaluable","Evaluable","eval","isFormattable","Formattable","isIdentifiable","Identifiable","isIterator","Iterator","delete","hasNext","next","reset","seek","__clazzname__","isOrderedIterator","bool","OrderedIterator","hasPrevious","previous","remove","isValidator","Validator","supports","validate","KeyValuePair","get","Property","Attribute","Method","ValueObject","init","setTo","className","_constructorName","rest","formatToString","ArrayIterator","_a","_k","MapIterator","keys","_i","_m","MapEntry","MapFormatter","values","formatter","ArrayMap","_keys","_values","set","v","indexOfKey","thisArg","indexOfValue","containsKey","ConcurrencyError","message","fileName","lineNumber","stack","InvalidChannelError","InvalidFilterError","NonUniqueKeyError","PATTERN","NoSuchElementError","errors","MultiEvaluator","add","_evaluators","autoClear","clear","evaluators","evaluator","PropertyEvaluator","throwError","EvalError","undefineable","RomanNumber","_num","parseRomanString","MAX","MIN","enumerable","ROMAN","rank","bellow","roman","romansub","ich","inext","parse","RomanEvaluator","Event","bubbles","cancelable","_bubbles","_cancelable","_currentTarget","_eventPhase","_target","_type","_defaultPrevented","_immediatePropagationStopped","_propagationStopped","event","currentTarget","EventListener","EventPhase","IEventDispatcher","listener","EventDispatcher","useCapture","priority","collection","_captureListeners","_listeners","entry","withTarget","ancestors","createAncestorChain","CAPTURING_PHASE","internalHandleCapture","isPropagationStopped","AT_TARGET","withCurrentTarget","listeners","processListeners","BUBBLING_PHASE","internalHandleBubble","isDefaultPrevented","parents","parent","hasEventListener","entry1","entry2","handleEvent","stopPropagation","preventDefault","isImmediatePropagationStopped","dispatcher","processCapture","processBubble","events","ExpressionFormatter","_reset","_beginSeparator","_endSeparator","expressions","_format","_reg","_pattern","beginSeparator","endSeparator","depth","MAX_RECURSION","has","formatters","Receiver","Signaler","receiver","SignalEntry","auto","Signal","receivers","autoDisconnect","hasReceiver","temp","swapped","slot","proxy","receive","LoggerLevel","levels","ALL","CRITICAL","DEBUG","ERROR","INFO","NONE","WARNING","WTF","DEFAULT_LEVEL_STRING","level","LoggerEntry","channel","Logger","_entry","_log","connected","emit","LoggerTarget","factory","Log","_factory","removeTarget","LoggerFactory","addTarget","_filters","filters","filter","_checkFilter","_count","_level","logger","connect","logEntry","disconnect","EMPTY_FILTER","hasIllegalCharacters","ERROR_FILTER","CHARS_INVALID","CHAR_PLACEMENT","it","_loggers","iterator","_channelMatchInFilterList","addLogger","_targets","_targetLevel","INVALID_TARGET","_checkChannel","ILLEGALCHARACTERS","removeLogger","_resetTargetLevel","INVALID_LENGTH","INVALID_CHARS","getLogger","MagicReference","ObjectAttribute","ObjectArgument","policy","_policy","CALLBACK","REFERENCE","CONFIG","LOCALE","VALUE","ConfigEvaluator","config","ObjectConfig","LocaleEvaluator","locale","isLockable","Lockable","isLocked","lock","unlock","__lock__","createArguments","conf","i18n","ref","EVALUATORS","def","SCOPE","ARGUMENTS","ObjectOrder","ObjectListener","method","order","BEFORE","AFTER","_order","createListeners","LISTENERS","ID","DISPATCHER","TYPE","METHOD","USE_CAPTURE","ORDER","PRIORITY","warning","ObjectStrategy","ObjectProperty","createProperties","PROPERTIES","properties","NAME","property","ObjectReceiver","signal","createReceivers","RECEIVERS","SIGNAL","SLOT","AUTO_DISCONNECT","ObjectStrategies","ObjectMethod","ObjectFactoryMethod","FACTORY","ObjectFactoryProperty","ObjectReference","ObjectStaticFactoryMethod","strategy","ObjectStaticFactoryProperty","ObjectValue","createStrategy","FACTORY_METHOD","build","FACTORY_PROPERTY","FACTORY_REFERENCE","FACTORY_VALUE","STATIC_FACTORY_METHOD","STATIC_FACTORY_PROPERTY","ObjectScope","SCOPES","ObjectDefinition","singleton","lazyInit","lazyType","SINGLETON","PROTOTYPE","_afterListeners","_afterReceivers","_beforeListeners","_beforeReceivers","_dependsOn","_filterStrings","_generates","_lazyInit","_lazyType","_singleton","_scope","_strategy","createObjectDefinition","definition","LAZY_INIT","LAZY_TYPE","IDENTIFY","identify","LOCK","constructorArguments","DESTROY_METHOD_NAME","destroyMethodName","INIT_METHOD_NAME","initMethodName","DEPENDS_ON","dependsOn","GENERATES","generates","isRunnable","Runnable","run","TaskPhase","Action","INACTIVE","_phase","_running","FINISHED","finishIt","RUNNING","startIt","Task","changeIt","clearIt","errorIt","info","infoIt","loopIt","STOPPED","pauseIt","progressIt","resumeIt","stopIt","TIMEOUT","timeoutIt","ObjectDefinitionContainer","_map","ObjectFactory","_config","referenceEvaluator","_singletons","instance","getObjectDefinition","typeEvaluator","createObjectWithStrategy","check","populateIdentifiable","beforeListeners","registerListeners","beforeReceivers","registerReceivers","populateProperties","afterListeners","afterReceivers","invokeInitMethod","er","warn","bufferSingletons","hasObjectDefinition","isSingleton","invokeDestroyMethod","running","notifyStarted","addObjectDefinition","getObject","notifyFinished","useLogger","alert","configEvaluator","localeEvaluator","_evaluator","defaultDestroyMethod","defaultInitMethod","populateProperty","INIT","addEventListener","signaler","ReferenceEvaluator","_propEvaluator","root","PARAMS","parameters","THIS","ROOT","STAGE","stage","TypePolicy","TypeEvaluator","typePolicy","ALIAS","aliases","typeAliases","EXPRESSION","typeExpression","_configEvaluator","_locale","_localeEvaluator","_referenceEvaluator","_typeEvaluator","_typeAliases","TYPE_ALIAS","_typeExpression","_typePolicy","Parameters","ioc","isLoggable","Loggable","_logger","LineFormattedTarget","includeChannel","includeDate","includeLevel","includeLines","includeMilliseconds","includeTime","formatMessage","getLevelString","internalLog","_lineNumber","getDigit","msg","formatLines","formatDate","formatTime","formatLevel","time","ConsoleTarget","debug","TraceTarget","logging","isRule","Rule","BooleanRule","condition","ElseIf","rule","then","EmptyString","ElseIfEmptyString","Equals","ElseIfEquals","False","ElseIfFalse","Null","ElseIfNull","True","ElseIfTrue","Undefined","ElseIfUndefined","Zero","ElseIfZero","IfTask","thenTask","elseTask","elseIfTasks","addElseIf","_elseIfTask","_elseTask","_rule","_thenTask","action","elseIfTask","ei","_elseIfTasks","_done","notifyError","_execute","_finishTask","IfEmptyString","IfEquals","IfFalse","IfNull","IfTrue","IfUndefined","IfZero","logics","Model","ChangeModel","_current","security","notifyBeforeChange","notifyChange","notifyClear","beforeChanged","changed","cleared","MemoryModel","MemoryEntry","header","_reduced","old","last","removeLast","enableErrorChecking","top","removeEntry","addBefore","ArrayModel","_array","notifyAdd","added","removed","updated","removeAt","notifyRemove","fromIndex","toIndex","notifyUpdate","MapModel","DEFAULT_PRIMARY_KEY","_primaryKey","datas","hasValue","isEmpty","keyIterator","InitMapModel","model","autoSelect","autoDequeue","cleanFirst","models","filterEntry","first","current","PRNG","Range","mi","ma","lowerMargin","upperMargin","delta","numeric","ActionEntry","Apply","Batch","_entries","command","stop","TaskGroup","mode","actions","NORMAL","_actions","dispose","_next","notifyCleared","_mode","TRANSIENT","EVERLASTING","_stopped","autoRemove","verbose","BatchTaskNext","batch","currents","_currents","notifyChanged","notifyProgress","BatchTask","resume","notifyResumed","notifyStopped","Cache","_queue","addAttribute","addMethod","addMethodWithArguments","Call","ChainNext","chain","_position","looping","numLoop","notifyLooped","_currentLoop","Chain","Do","something","FrameTimer","FPMS","elapsedMS","_maxElapsedMS","fps","_requestID","deltaTime","speed","Lock","Priority","_priority","isResetable","Resetable","isResumable","Resumable","isStartable","Startable","isStoppable","Stoppable","TimeoutPolicy","Timer","repeatCount","useSeconds","_delay","_repeatCount","_useSeconds","_itv","setInterval","Unlock","process","And","rule1","rule2","rules","DivBy","Even","GreaterOrEqualsThan","GreaterThan","IsBoolean","IsNaN","IsNumber","IsString","LessOrEqualsThan","LessThan","Not","NotEquals","Odd","Or","signals","MotionNextFrame","motion","Motion","setTime","_startTime","_time","Transition","_id","NextFrame","setTimer","_duration","_fps","_timer","_prevTime","fixTime","startInterval","update","rewind","stopInterval","_nextFrame","TweenUnit","easing","duration","_easing","_change","Tween","_easings","_from","_changed","_to","_begin","transitions","system","isDirectionable","Directionable","direction","none","Align","stringToNumber","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","CENTER","CENTER_LEFT","CENTER_RIGHT","LEFT","LEFT_BOTTOM","LEFT_TOP","RIGHT","RIGHT_TOP","RIGHT_BOTTOM","TOP","TOP_LEFT","TOP_RIGHT","alignments","Border","side","toggleBorder","hasBorder","CardinalDirection","azimut","_azimut","N","E","S","W","NE","SE","NW","SW","NNE","NNW","SSE","SSW","ENE","ESE","WNW","WSW","DIAGONALS","ORTHOGONALS","Corner","tl","tr","br","Direction","DirectionOrder","FillStyle","alpha","_alpha","_color","isMeasurable","w","maxHeight","maxWidth","minHeight","minWidth","setPreferredSize","setSize","LayoutBufferMode","Dimension","height","dWidth","dHeight","Vector2D","Point","dot","thickness","anchor","ax","ay","tx","ty","Rectangle","rec","toCompare","toIntersect","intersection","toUnion","points","xMax","NEGATIVE_INFINITY","xMin","POSITIVE_INFINITY","yMax","yMin","Layout","AUTO","_align","_bounds","_bufferMode","_container","measure","render","LayoutEntry","child","LineStyle","_thickness","Orientation","BOTTOM_TO_TOP","LEFT_TO_RIGHT","RIGHT_TO_LEFT","TOP_TO_BOTTOM","LEFT_TO_RIGHT_BOTTOM_TO_TOP","LEFT_TO_RIGHT_TOP_TO_BOTTOM","RIGHT_TO_LEFT_BOTTOM_TO_TOP","RIGHT_TO_LEFT_TOP_TO_BOTTOM","byDefault","Position","ZOrder","RGB","fromNumber","_blue","_green","_red","rgb","q","toHexString","RGBA","parseInt","StageAspectRatio","StageDisplayState","StageOrientation","Stage","ANY","UNKNOWN","__initialize__","_allowFullScreen","_fullScreenInteractive","_aspectRatio","_displayState","state","FULL_SCREEN","documentElement","_fullScreenRequest","FULL_SCREEN_INTERACTIVE","ALLOW_KEYBOARD_INPUT","_fullScreenExit","notifyFullScreen","_fullScreenHeight","_fullScreenWidth","_height","_launchedFromHomeScreen","_orientation","_pixelRatio","_width","screen","orientation","UPSIDE_DOWN","PORTRAIT","ROTATED_LEFT","LANDSCAPE","ROTATED_RIGHT","DEFAULT","clientWidth","innerWidth","clientHeight","innerHeight","fullScreen","getDeviceOrientation","orientationChange","getViewportSize","resize","standalone","matchMedia","matches","devicePixelRatio","_supportsOrientationChange","fullscreen","cancel","notifyOrientationChange","notifyResized","display","AspectRatio","_GCD","_gcd","_h","_w","_aspW","_aspH","Circle","_diameter","_radius","_radiusSquared","hw","cx","hh","cy","ColorTransform","redMultiplier","greenMultiplier","blueMultiplier","alphaMultiplier","redOffset","greenOffset","blueOffset","alphaOffset","_alphaMultiplier","_tint","_redMultiplier","_greenMultiplier","_blueMultiplier","EdgeMetrics","bottom","Ellipse","normx","normy","Matrix","matrix","scaleX","scaleY","rotation","createBox","MAGIC_GRADIENT_FACTOR","det","sx","sy","Polygon","_area","_closed","_flattened","_points","ix","iy","jx","jy","ar1","toArray","ar2","MAX_VALUE","calculateArea","toObject","Vector3D","z","geom","graphics","ArcType","Device","Os","_version","ua","IPAD","MOBILE","$1","IPOD","IPHONE","MAC","DESKTOP","WINDOWS","ANDROID","LINUX","Browser","os","ARORA","EDGE","OPERA","SILK","WINDOWS_PHONE","CHROME","EPIPHANY","FIREFOX","SAFARI","IE","MIDORI","TRIDENT","$3","Accelerometer","_isSupported","_event","_interval","__launchTimer__","DeviceMotionEvent","__update__","timer","sensors","screens","metas","load","removeEventListener","url"],"mappings":"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"}